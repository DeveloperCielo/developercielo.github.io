<!DOCTYPE html>
<html lang="pt">
    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#00aeef" />
  <meta http-equiv="Content-Language" content="pt" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     EDI - Extrato Eletrônico &middot; Documentações e tutoriais 
  </title>

  <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico" />

  <!-- CSS -->
  <link
    href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500"
    rel="stylesheet"
    media="none"
    onload="if(media!='all')media='all'"
  />
  <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

  <link
    rel="stylesheet"
    href="https://developercielo.github.io/assets/bundles/css/bundle.min.css"
  />

   
  <link
    rel="alternate"
    hreflang="pt"
    href="https://developercielo.github.io/tutorial/edi-extrato-eletronico"
  />
    
  <link
    rel="alternate"
    hreflang="en"
    href="https://developercielo.github.io/en/tutorial/edi-extrato-eletronico"
  />
   

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://developercielo.github.io/atom.xml"
  />
</head>

    <body>
        
        <div class="content-container no-dark-box">
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/tutorial/edi-extrato-eletronico">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/tutorial/edi-extrato-eletronico">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/tutorial/edi-extrato-eletronico">EDI - Extrato Eletrônico</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post"><h1 id="extrato-eletrÔnico-v15">EXTRATO ELETRÔNICO v15</h1>

<p><strong>Documentação</strong></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/CIELO_Extrato_Eletronico_-_Manual_-_Versao_15_10.pdf">CIELO_Extrato_Eletronico_Manual_Versao_15.10</a></p>

<p><strong>Melhorias no Extrato Eletrônico</strong></p>

<ul>
  <li><strong>Atualização no arquivo de Negociação de Recebíveis Cielo (NRC)</strong>:
    <ul>
      <li>Inclusão do campo <strong>“Taxa efetiva da negociação”</strong> nos registros tipo “A”.<br />
<em>Esse campo proporciona mais transparência ao processo de conciliação das operações efetuadas pelo cliente.</em></li>
      <li>Inclusão do campo <strong>“Valor de desconto”</strong> nos registros tipo “B”.<br />
<em>Esse campo oferece visibilidade da diferença entre o valor bruto e o valor líquido.</em></li>
    </ul>
  </li>
  <li><strong>Atualização nos arquivos de venda e pagamento</strong>:
    <ul>
      <li>Inclusão do <strong>CNPJ</strong> que efetuou a negociação de recebíveis nos registros tipo “E”.<br />
<em>Esse campo detalha a origem da negociação realizada pelo cliente.</em></li>
      <li>Equalização do domicílio bancário nos arquivos de pagamento.<br />
<em>Isso garante uma visualização consistente entre os registros de detalhe e a consolidação do saldo das URs.</em></li>
    </ul>
  </li>
  <li><strong>Atualização de tabelas de domínio</strong>:
    <ul>
      <li>Revisão da <strong>Tabela IX</strong> do manual.</li>
    </ul>
  </li>
</ul>

<p><strong>Data de implantação: 24/10/2024</strong></p>

<p><strong>Arquivos de teste v15.10: Previstos para a semana do dia 16/09</strong></p>

<p><strong>Arquivos de teste</strong></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/ArquivosTeste22082024.zip">Arquivos de Teste</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/v15_10-Tabela-IX-EDIv15PT-EN_2.xlsx">Tabelas de ajuste V15.10</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/15-7-Reserva-Financeira-Financial-Reserve_.zip">15.7 Reserva Financeira-Financial Reserve</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/15-8-Atualizacao-de-negociacoes-Receivable-negotiation-update.zip">15.8 Atualização de negociações-Receivable negotiation update</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/CIELO_Extrato_Eletronico_Manual_Versao_15.10.rar">CIELO_Extrato_Eletronico_Manual_Versao_15.10</a></p>

<h1 id="introdução">Introdução</h1>

<p>Essa API possibilita o registro de grupos e mantém seu registro para receber arquivos EDI (Electronic Data Interchange).</p>

<h1 id="descrição-do-produto">Descrição do Produto</h1>

<p>O Extrato Eletrônico é um produto disponibilizado pela Cielo aos clientes que necessitam de automatização no processo de conciliação. Nele, as informações são transmitidas de forma padronizada sem intervenção manual por meio do canal SFG (Sterling File Gateway), proporcionando agilidade e segurança no tráfego das informações. Ao lado, macrofluxo do serviço.</p>

<h2 id="benefícios">Benefícios</h2>

<ul>
  <li>Permite a realização da conciliação contábil e financeira de forma automatizada</li>
  <li>Maior agilidade e eficiência operacional</li>
  <li>Integração com a automação comercial de vendas</li>
  <li>Segurança no recebiento das informações</li>
  <li>Atendimento Especializado</li>
</ul>

<h1 id="fluxo-de-concessão">Fluxo de Concessão</h1>

<h2 id="passo-1---login">Passo 1 - Login</h2>

<p>1 - O parceiro redireciona o cliente para <code class="language-plaintext highlighter-rouge">{cielo-login-url}</code>. <br />
2 - O cliente entra com suas credenciais e clica em <code class="language-plaintext highlighter-rouge">Entrar</code>. <br />
3 - A Cielo mostra os termos de autorização e o cliente aprova este acesso clicando em <code class="language-plaintext highlighter-rouge">Permitir Acesso</code>. <br />
4 - A Cielo redireciona o cliente para o parceiro novamente em <code class="language-plaintext highlighter-rouge">{partner-call-back-url}</code>. <br /></p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo1_login1.jpg" alt="Login e Concessão de Acesso" /></p>

<blockquote>
  <p>O que é base-login-url?</p>
</blockquote>

<p>https://<code class="language-plaintext highlighter-rouge">{base-login-url}</code>?response_type=code
&amp;<code class="language-plaintext highlighter-rouge">client_id={client_id}</code>
&amp;<code class="language-plaintext highlighter-rouge">redirect_uri={redirect_uri}</code>
&amp;<code class="language-plaintext highlighter-rouge">scope={scope}</code>
&amp;<code class="language-plaintext highlighter-rouge">state={state}</code></p>

<p><strong>Homologação:</strong> https://digitalhml.hdevelo.com.br/oauth/?mode=redirect&amp;client_id=<code class="language-plaintext highlighter-rouge">{client_id}</code>&amp;redirect_uri=<code class="language-plaintext highlighter-rouge">{redirect_uri}</code>&amp;state=STATE_INFO&amp;scope=profile_read,transaction_read</p>

<p><strong>Produção:</strong> https://minhaconta2.cielo.com.br/oauth/?mode=redirect&amp;client_id=<code class="language-plaintext highlighter-rouge">{client_id}</code>&amp;redirect_uri=<code class="language-plaintext highlighter-rouge">{redirect_uri}</code>&amp;state=STATE_INFO&amp;scope=profile_read,transaction_read</p>

<ul>
  <li><strong>base-login-url:</strong> URL base que muda por ambiente</li>
  <li><strong>response_type:</strong> O valor deve ser fixo “code”</li>
  <li><strong>client_id:</strong> Identificador do cliente, será enviado pela Cielo em tempo de projeto</li>
  <li><strong>redirect_uri:</strong> URL do parceiro para a Cielo redirecionar o usuário quando o processo de login terminar, ou se der algum erro no processo</li>
  <li><strong>scope:</strong> Uma lista separada por vírgula das APIs que o parceiro deseja acessar, os possiveis escopos serão enviados por API.</li>
  <li><strong>state:</strong> Um valor que o cliente deseja receber no retorno para manter o estado entre a requisição e o retorno</li>
</ul>

<blockquote>
  <p>O que é partner-callback-url?</p>
</blockquote>

<p>https://<code class="language-plaintext highlighter-rouge">{partner-callback-url}</code>?code=<code class="language-plaintext highlighter-rouge">{code}</code>&amp;state=<code class="language-plaintext highlighter-rouge">{state}</code></p>

<ul>
  <li><strong>partner-callback-url:</strong> A URL do parceiro que será redirecionado quando o processo de login terminar.</li>
  <li><strong>code:</strong> O authorization code gerado pela Cielo. Com esse código o parceiro vai poder trocar por um access_token para fazer chamadas em nome do cliente.</li>
  <li><strong>state:</strong> O mesmo valor que o parceiro enviou na requisição.</li>
</ul>

<h2 id="passo-2--requisitando-um-access-token">Passo 2 – Requisitando um Access Token</h2>

<ul>
  <li>O serviço do parceiro solicita um <code class="language-plaintext highlighter-rouge">access_token</code>.</li>
  <li>A Cielo retorna um <code class="language-plaintext highlighter-rouge">acess_token</code>, um <code class="language-plaintext highlighter-rouge">refresh_token</code> e um <code class="language-plaintext highlighter-rouge">expiration_time</code>.</li>
</ul>

<h3 id="request">Request</h3>

<blockquote>
  <p><strong>POST</strong> {cielo-api-base-url}/consent/v1/oauth/access-token</p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic <em>Base64(client_id e client_secret do parceiro concatenado com “:” e codificado em base64)</em></td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://{cielo-api-base-url}/consent/v1/oauth/access-token'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Basic Basic64'</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "grant_type": "authorization_code",
    "code": "{}"
}'</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{access_token}"</span><span class="p">,</span><span class="w">
</span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{refresh_token}"</span><span class="p">,</span><span class="w">
</span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"access_token"</span><span class="p">,</span><span class="w">
</span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">expiration_time</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>O access_token para chamar as APIs da Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td>Quando o access_token expirar o parceiro pode solicitar um novo access_token usando este refresh_token.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expiration_time</code></td>
      <td>O tempo de expiração do access_token em segundos.</td>
    </tr>
  </tbody>
</table>

<h3 id="observações">Observações</h3>

<ul>
  <li>O authorization_code precisa ser trocado por um access_token em menos de 10 minutos.</li>
  <li>Este tipo de access_token é mandatório para chamar as APIs que retornam dados sensíveis dos clientes.</li>
  <li>O parceiro precisa armazenar o access_token e o refresh_token em um lugar seguro.</li>
  <li>Quando o access_token expirar o parceiro não conseguirá mais chamas as APIs até que solicite um novo acess_token usando o fluxo de refresh_token.</li>
  <li>O acess_token gerado nesse fluxo será único por cliente da Cielo, pois precisa obrigatoriamente a aprovação do cliente.</li>
  <li>O parceiro NÃO consegue gerar um access_token sem o consentimento do cliente.</li>
  <li>O parceiro NÃO consegue usar o authorization code, recebido no primeiro passo, mais de uma vez.</li>
</ul>

<h2 id="passo-3---chamando-as-apis">Passo 3 - Chamando as APIs</h2>

<p>Neste momento parceiro vai conseguir chamar as APIs da Cielo sem a necessidade da aprovação do cliente, pois esta já foi concedida.</p>

<p>A única exigência para chamar as APIs da Cielo é enviar o seguinte header HTTP:
<strong>Authorization: Bearer {access_token}</strong>
Em todas as chamadas para as APIs.</p>

<ul>
  <li>O access_token foi obtido no Segundo passo</li>
</ul>

<h2 id="passo-31---atualizando-um-access-token">Passo 3.1 - Atualizando um Access Token</h2>

<blockquote>
  <ol>
    <li>O serviço do parceiro chama o serviço de <code class="language-plaintext highlighter-rouge">refresh_token</code>.</li>
    <li>A Cielo retorna um <code class="language-plaintext highlighter-rouge">access_token</code> novo, um <code class="language-plaintext highlighter-rouge">refresh_token</code> novo e um novo <code class="language-plaintext highlighter-rouge">expiration_time</code>.</li>
  </ol>
</blockquote>

<p>O dados de resposta serão os mesmos do passo 2 quando o parceiro solicita um acess_token, porém todos os dados retornados são novos e precisam ser armazenados no lugar dos antigos.</p>

<h3 id="request-1">Request</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://{cielo-api-base-url}/consent/v1/oauth/access-token'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Basic Basic64'</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "grant_type": "refresh_token",
    "refresh_token": "{}"
}'</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<p>Um ponto de atenção na requisição pois agora o parceiro precisa enviar o <code class="language-plaintext highlighter-rouge">grant_type</code> como <code class="language-plaintext highlighter-rouge">refresh_token</code> e no campo <code class="language-plaintext highlighter-rouge">refresh_token</code> deve ser enviado um <code class="language-plaintext highlighter-rouge">refresh_token</code> válido (e não mais um access_token).</p>

<h3 id="response-1">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{access_token}"</span><span class="p">,</span><span class="w">
</span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{refresh_token}"</span><span class="p">,</span><span class="w">
</span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"access_token"</span><span class="p">,</span><span class="w">
</span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">expiration_time</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>O access_token para chamar as APIs da Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td>Quando o access_token expirar o parceiro pode solicitar um novo access_token usando este refresh_token.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expiration_time</code></td>
      <td>O tempo de expiração do access_token em segundos.</td>
    </tr>
  </tbody>
</table>

<h2 id="erros">Erros</h2>

<p>Caso ocorra algum erro do lado Cielo o cliente será redirecionado para a URL de call-back do parceiro com o parâmetro error na URL, por exemplo https://{partner-callback-url}?error={error}.</p>

<p>Possíveis valores para {error}:</p>

<ul>
  <li><strong>lid_request:</strong> A requisição está faltando algum parâmetro obrigatório, ou esta com algum parâmetro inválido, ou qualquer outra possibilidade que faça a URL ficar incorreta.</li>
  <li><strong>unauthorized_client:</strong> O parceiro não está autorizado a fazer uma requisição usando este método.</li>
  <li><strong>access_denied:</strong> O dono do recurso ou o servidor de autorização negou a requisição.</li>
  <li><strong>unsupported_response_type:</strong> O servidor de autorização não suporta obter um authorization code usando este método.</li>
  <li><strong>invalid_scope:</strong> O escopo é invalido, desconhecido ou malformado.</li>
  <li><strong>server_error:</strong> O servidor de autorização encontrou uma condição inesperada e não consegue concluir esta requisição. ( Este erro é necessário porque não é possível retornar um HTTP status code 500 Internal Server Error via redirecionamento HTTP)</li>
  <li><strong>temporarily_unavailable:</strong> O servidor de autorização não consegue tratar a requisição devido a uma sobrecarga temporária ou está em manutenção. (Este erro é necessário pois não é possível retornar um HTTP Status 503 Service Unavailable para o parceiro via redirecionamento HTTP)</li>
</ul>

<blockquote>
  <p>Opcionalmente pode ser retornado um outro parâmetros <code class="language-plaintext highlighter-rouge">error_description</code> com um detalhe do erro, apenas um texto simples.</p>
</blockquote>

<h2 id="observação">Observação</h2>

<ul>
  <li>Todos os tokens (access_token e refresh_token) devem ser armazenados em um local seguro.</li>
  <li>O parceiro precisam iniciar um novo fluxo de concessão se perderem os tokens ou ambos expirarem (O refresh_token tem expiração de 90 dias a partir da geração).</li>
  <li>Caso gere um novo refresh_token este tem mais 90 dias a partir da geração para expirar.</li>
  <li>O parceiro precisa iniciar um novo fluxo de concessão para cada cliente da Cielo que o parceiro deseja consultar os dados.</li>
</ul>

<h1 id="ambiente">Ambiente</h1>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>Endereço</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td>https://api2.cielo.com.br/sandbox/</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>https://apihom-cielo.sensedia.com/</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>https://api2.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<h1 id="collection">Collection</h1>

<p>Dispobilizamos as Collections utiizadas para realizar as todas operações da API. Será necessário configurar a URL e as credenciais.</p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/ONBOARDING_EDI_CIELO_PARA_CONCILIADORAS.postman_collection.zip">Download das Collections</a></p>

<h1 id="operações">Operações</h1>

<h2 id="get-consulta-a-lista-de-filiais"><strong>GET</strong> Consulta a Lista de Filiais</h2>

<p>Executa a lista de clientes abaixo do access_token informado. O filtro pode ser usado para listar apenas aqueles disponíveis ou indisponíveis. Indisponível significa que a filial já participa de outro registro. Nos serviços de registro e edição, há validação para permitir que apenas aqueles disponíveis sejam informados.</p>

<h3 id="response-2">Response</h3>

<blockquote>
  <p><strong>GET</strong>  /merchantgroup</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
        <th> </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> </td>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"branches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"merchantID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999111222"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"businessName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNAVAILABLE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">branches</code></td>
      <td>Lista de Filiais</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">businessName</code></td>
      <td>Nome da empresa</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Filial disponível ou Indisponível</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-consultar-configurações-existentes"><strong>GET</strong> Consultar configurações existentes.</h2>

<p>Retorna configurações existentes agrupadas por mainMerchantID.</p>

<h3 id="response-3">Response</h3>

<blockquote>
  <p><strong>GET</strong> /mainmerchants</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38724"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006907071"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2006907071"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"PAYMENT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"BALANCE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"NRC"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"ediStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AVAILABLE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="post-registrar-merchantid"><strong>POST</strong> Registrar merchantID</h2>

<p>Registre o ID do lojista(apenas um, uma lista ou todos), com base no número da entidade.</p>

<h3 id="request-2">Request</h3>

<blockquote>
  <p><strong>POST</strong> /registers</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999111222"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"9999111111"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9999111333"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"merchantEMail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer@customer.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchantEMail</code></td>
      <td>Endereço de e-mail do cliente</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Representa o estado dos tipos de arquivo EDI. Pelo menos um desses arquivos é necessário: SELL, PAYMENT, BALANCE e NRC</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="response-4">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2008983</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">823958412384701</span><span class="p">,</span><span class="w"> </span><span class="mi">679809436576210</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Representa o estado dos tipos de arquivo EDI. Pelo menos um desses arquivos é necessário: SELL, PAYMENT, BALANCE e NRC</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Status de registro. Se concluído, os arquivos serão fornecidos no dia seguinte</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-consultar-o-status-do-registro"><strong>GET</strong> Consultar o Status do Registro</h2>

<p>Recupere o status de registro do EDI.</p>

<h3 id="response-5">Response</h3>

<blockquote>
  <p><strong>GET</strong> /registers/{registerID}</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
      <tr>
        <td><strong>registerID</strong></td>
        <td>Valor usado para recuperar o status do registro.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01234567890"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9999222111</span><span class="p">,</span><span class="w"> </span><span class="mi">9999222222</span><span class="p">],</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Status de registro. Se concluído, os arquivos serão fornecidos no dia seguinte</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-consulta-o-registro-do-merchantid"><strong>GET</strong> Consulta o Registro do merchantID</h2>

<p>Consulte o MerchantID com base no registerID ou no mainMerchantID.</p>

<h3 id="response-6">Response</h3>

<blockquote>
  <p><strong>GET</strong> /edi?registerID=&amp;mainMerchantID=</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
      <tr>
        <td><strong>registerID</strong></td>
        <td>O registerID é fornecido pela operação /edi/registers ao se registrar. Pode ser usado no lugar de mainMerchantID, se preferir (apenas um precisa ser informado).</td>
      </tr>
      <tr>
        <td><strong>mainMerchantID</strong></td>
        <td>A maneira mais comum de recuperar um registro EDI na empresa. Pode ser usado em vez de registerID, principalmente em casos de registro não realizados por /edi/registers.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12314314"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9999111222</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9999111111</span><span class="p">,</span><span class="w"> </span><span class="mi">9999111333</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"acknowledge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Representa o estado dos tipos de arquivo EDI. Pelo menos um desses arquivos é necessário: SELL, PAYMENT, BALANCE e NRC</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="put-atualizar-o-registro-do-merchantid"><strong>PUT</strong> Atualizar o Registro do merchantID</h2>

<p>Atualize o merchantID com base no registerID ou mainMerchantID.</p>

<h3 id="request-3">Request</h3>

<blockquote>
  <p><strong>PUT</strong> /edi</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999222333"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"9999222111"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9999222222"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Representa o estado dos tipos de arquivo EDI. Pelo menos um desses arquivos é necessário: SELL, PAYMENT, BALANCE e NRC</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="response-7">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01234567890"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9999111222</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9999222333</span><span class="p">,</span><span class="w"> </span><span class="mi">9999111222</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>Representa o estado da lista de códigos do comerciante (todos os clientes do grupo serão considerados se omitidos). Exemplo: Lista [“9999111111”, “9999111333”]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>Representa o estado dos tipos de arquivo EDI. Pelo menos um desses arquivos é necessário: SELL, PAYMENT, BALANCE e NRC</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<aside class="warning">Importante!<br />Esta funcionalidade realiza a atualização do registro do Extrato e atribui ao Conciliador, portanto:<br />1 - Se a matriz possui, por exemplo, 10 estabelecimentos e for realizada a chamada informando apenas 3 estabelecimentos, o registro será atualizado mantendo apenas os 3 que foram informados e excluindo o registro dos 7 pré-existentes.<br />
2 - O mesmo comportamento acima ocorre com relação a atualização de tipos de extratos</aside>

<h2 id="delete-excluir-o-registro-do-merchantid"><strong>DELETE</strong> Excluir o Registro do merchantID</h2>

<p>Consulte o MerchantID com base no registerID ou no mainMerchantID.</p>

<h3 id="response-8">Response</h3>

<blockquote>
  <p><strong>DELETE</strong> /edi</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
      <tr>
        <td><strong>registerID</strong></td>
        <td>O registerID é fornecido pela operação /edi/registers ao se registrar. Pode ser usado no lugar de mainMerchantID, se preferir (apenas um precisa ser informado).</td>
      </tr>
      <tr>
        <td><strong>mainMerchantID</strong></td>
        <td>A maneira mais comum de recuperar um registro EDI na empresa. Pode ser usado em vez de registerID, principalmente em casos de registro não realizados por /edi/registers.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12314314"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mainMerchantId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9999111222</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nl">"acknowledge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Número de entidade brasileiro. Para uma pessoa jurídica, a raiz (primeiros 8 dígitos) do documento CNPJ deve ser informada. No caso de uma pessoa, todo o documento CPF deve ser informado (11 dígitos, são necessários zeros à esquerda para completar esse tamanho).</td>
      <td>String</td>
      <td>8</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>ID principal do cliente.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>ID do registro. O mesmo fornecido por /edi/registers</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">acknowledge</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h1 id="duplicação-de-matriz">Duplicação de Matriz</h1>

<p>A duplicação de registro funciona com base no retorno do GET /merchantgroup, se retornar “unavailable” significa que esse merchant já possui vínculo com alguma conciliadora.</p>

<blockquote>
  <p><strong>GET</strong> /merchantgroup</p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67625512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"branches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"merchantID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006907071"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"legalEntityNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67.625.512/0001-14"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"businessName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MERCHANTI"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNAVAILABLE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Com isso, será necessário efetuar um novo GET para saber se você pode ou não vincular essa cadeia de merchant a sua conciliadora, que nesse caso é o GET /mainmerchants, se você obter o status “available” no campo “ediStatus”, significa que você poderá fazer a duplicação de matriz via API.</p>

<blockquote>
  <p><strong>GET</strong> /mainmerchants</p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38724"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mainMerchantID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006907071"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2006907071"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"BALANCE"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"ediStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AVAILABLE"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>GET /mainmerchants pode retornar mais de um objeto, com isso, se o objeto estiver como “available”, será necessário efetuar uma chamada de PUT para cada objeto. Os objetos que retornarem “unavailable”, será necessário solicitar a duplicação manual através do edi@cielo.com.br (lembrando que isso representa apenas 10% dos casos, após a implementação da duplicação através do método PUT).</p>
</blockquote>

<p>Com isso, deverá ser feita uma chamada de PUT /edi no qual, irá fazer a duplicação da matriz.</p>

<blockquote>
  <p><strong>PUT</strong> /edi</p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mainMerchantID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006907071"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registerID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38724"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"merchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2006907071"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"PAYMENT"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>O header de todas essas requisições permanecem da mesma forma, deve ser informado o Authorization, como nas demais chamadas desta API.
Com base no retorno do GET /mainmerchants, será necessário informar o registerID, mainMerchantID e as filiais no array de merchants da chamada de PUT.</p>
</blockquote>

<aside class="warning"> Observação: Caso do retorno do GET /merchantgroup (1ºPASSO) seja "available" significa que esse merchant está disponível para registro, com isso, é necessário fazer a chamada de POST /registers.</aside>

<h1 id="transmissão-e-reenvio-de-arquivo">Transmissão e Reenvio de arquivo</h1>

<p>Para receber o Extrato Eletrônico, é necessário que o cliente entre em contato com o Atendimento EDI e preencha o formulário de cadastro. Os arquivos serão disponibilizados na caixa postal diariamente, exceto o arquivo de saldo em aberto que será enviado mensalmente.
Quando não houver movimento, o arquivo será enviado somente com o <code class="language-plaintext highlighter-rouge">"Header"</code> e o <code class="language-plaintext highlighter-rouge">"Trailer"</code>.
Caso ocorra alguma inconsistência na transmissão do(s) arquivo(s), o cliente deverá informar à Cielo, contatando o Atendimento EDI (edi@cielo.com.br</p>

<h2 id="reenvio-de-arquivos">Reenvio de Arquivos</h2>

<p>Em caso de perda do arquivo ou não recebimento, a Cielo disponibilizará na caixa postal o mesmo arquivo enviado diariamente (arquivo backup). O cliente poderá contatar o Atendimento EDI para solicitar o reenvio</p>

<h2 id="recuperação-de-arquivos">Recuperação de Arquivos</h2>

<ul>
  <li>Permite a recuperação de um movimento anterior, atualizando o status dos lançamentos.</li>
  <li>Os arquivos são disponibilizados separadamente do arquivo diário.</li>
  <li>Não disponível para o Extrato de Saldo em Aberto (09).</li>
  <li>A solicitação deve ser encaminhada para o Atendimento EDI.</li>
</ul>
</div>


            <div class="footer-conteudo">
  <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
    <img
      src="https://developercielo.github.io/assets/images/icon-doubt.svg"
      width="55px"
      height="53px"
      alt="Precisa de ajuda?"
    />
  </div>

  <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
    <h2>Precisa de ajuda?</h2>
    <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
  </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a
        title="Comutar a coluna da esquerda"
        class="hamburger"
      >
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img
          src="https://developercielo.github.io/assets/images/logo.png"
          alt="Documentações e tutoriais"
          style="width: 60%; margin-left: 20%"
        />
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
      
      <div class="toc-footer">
        <h2 class="no-toc toc-footer-title">Materiais complementares</h2>
           

        <ul class="toc-footer">
            
          <li>
            <a
              href="https://developercielo.github.io/tutorial/edi"
              title="Instruções EDI"
              
              >EDI - Captura de Transações</a
            >
          </li>
               
          <li>
            <a
              href="https://developercielo.github.io/tutorial/carta-circularizacao"
              title="Instruções EDI"
              
              >EDI - Carta de Circularização</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/manual/edi-cielo-conciliador"
              title="Instruções EDI"
              
              >Cielo Conciliador</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/manual/faq-edi-conciliador"
              title="Instruções EDI"
              
              >FAQ -Cielo Conciliador</a
            >
          </li>
             
        </ul>
      </div>
      

      <div class="toc-contact">
        <div class="contact">
          <a
            title="Contato"
            href="https://devcielo.zendesk.com/"
          >
            <i class="fa fa-envelope-o" aria-hidden="true"></i>
            <span>Contato</span>
          </a>
        </div>
        <div class="github">
          <a title="GitHub" href="https://github.com/developercielo">
            <i class="fa fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 674586, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

    </body>
</html>
