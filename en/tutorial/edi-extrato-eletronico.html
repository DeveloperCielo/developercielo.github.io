<!DOCTYPE html>
<html lang="en">
    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#00aeef" />
  <meta http-equiv="Content-Language" content="en" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     EDI - Electronic Statement &middot; Documentações e tutoriais 
  </title>

  <link rel="shortcut icon" href="https://developercielo.github.io/en/assets/favicon.ico" />

  <!-- CSS -->
  <link
    href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500"
    rel="stylesheet"
    media="none"
    onload="if(media!='all')media='all'"
  />
  <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

  <link
    rel="stylesheet"
    href="https://developercielo.github.io/en/assets/bundles/css/bundle.min.css"
  />

   
  <link
    rel="alternate"
    hreflang="pt"
    href="https://developercielo.github.io/en/tutorial/edi-extrato-eletronico"
  />
    
  <link
    rel="alternate"
    hreflang="en"
    href="https://developercielo.github.io/en/en/tutorial/edi-extrato-eletronico"
  />
   

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://developercielo.github.io/en/atom.xml"
  />
</head>

    <body>
        
        <div class="content-container no-dark-box">
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Help</a>

                            
                            <div class="lang">
                                <span>Languages</span>

                                
                                    
                                    <a href="https://developercielo.github.io/tutorial/edi-extrato-eletronico">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/en/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/tutorial/edi-extrato-eletronico">
                                    

                                        <img alt="English" src="https://developercielo.github.io/en/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="https://developercielo.github.io/en/">Home</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/en/tutorial/edi-extrato-eletronico">EDI - Electronic Statement</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post"><h1 id="electronic-statement-v15">ELECTRONIC STATEMENT v15</h1>

<p><strong>Improvements in Electronic Statement v15.10</strong></p>

<ul>
  <li><strong>Update to the Cielo Receivables Negotiation (NRC) file</strong>:
    <ul>
      <li>Inclusion of the field <strong>“Effective negotiation rate”</strong> in type “A” records.<br />
<em>This field provides more transparency to the process of reconciling transactions carried out by the client.</em></li>
      <li>Inclusion of the field <strong>“Discount value”</strong> in type “B” records.<br />
<em>This field provides visibility into the difference between the gross value and the net value.</em></li>
    </ul>
  </li>
  <li><strong>Update in sales and payment files</strong>:
    <ul>
      <li>Inclusion of the <strong>CNPJ</strong> that carried out the negotiation of receivables in type “E” records.<br />
<em>This field details the origin of the negotiation carried out by the client.</em></li>
      <li>Equalization of bank address in payment files.<br />
<em>This ensures a consistent view between detail records and UR balance consolidation.</em></li>
    </ul>
  </li>
  <li><strong>Domain table update</strong>:
    <ul>
      <li>Review of <strong>Table IX</strong> of the manual.</li>
    </ul>
  </li>
</ul>

<p><strong>Implementation date: 10/24/2024</strong></p>

<p><strong>Documentation</strong></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/CIELO_Extrato_Eletronico_Manual_Versao_15.10.rar">CIELO_Extrato_Eletronico_Manual_Versao_15.10</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ctools/Arquivosdetesteversao15_10.zip">Test Files v15.10</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/v15_10-Table-IX-EDIv15PT-EN_2.xlsx">Adjustment tables V15.10</a></p>

<p><strong>Improvements to Electronic Statement v15.11.1</strong></p>

<ul>
  <li>Adjustment to the information sent in position 557 to 565 of type “E” records: This field will be divided into two distinct positions, being:
    <ul>
      <li>557 to 560: Cielo Use (Field reserved for Cielo use)</li>
      <li>561 to 565: Rate pricing modality code</li>
    </ul>
  </li>
  <li>Inclusion of new domain table: Table XI – Pricing type</li>
</ul>

<p>Important: This new field is a new field for reconciliation, it does not indicate that your rate has changed.</p>

<p><strong>Implementation date: 01/28/2025</strong></p>

<p><strong>Documentation</strong></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/CIELO_Eletronic_Statement_-_Manual_Version_15_11_1.pdf">CIELO_Extrato_Eletronico_Manual_Versao_15.11.1</a></p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/Arquivos_teste15-11.zip">Test Files v15.11</a></p>

<h1 id="introduction">Introduction</h1>

<p>This API makes possible to register groups and maintain their registration to receive Electronic Data Interchange (EDI) files</p>

<h1 id="description">Description</h1>

<p>The Electronic Statement is a service provided by Cielo to merchants that need an automatic in the reconciliation process. Through it, information is transmitted in a standardized manner, with no manual intervention via SFG channel (sterling file gateway), enabling agile and secure traffic of information/data. The macro flow of the service is as follows:</p>

<h2 id="benefits">Benefits</h2>

<ul>
  <li>Enables automated accounting and financial reconciliation</li>
  <li>Increased agility and operational efficiency</li>
  <li>Integration with the sales automation</li>
  <li>Security in receiving information</li>
  <li>Specialized support</li>
</ul>

<h1 id="consent-flow">Consent Flow</h1>

<h2 id="step-1---login">Step 1 - Login</h2>

<p>1 - The partner redirects the client to <code class="language-plaintext highlighter-rouge">{cielo-login-url}</code>. <br />
2 - The customer enters with their credentials and clicks on ‘Login’. <br />
3 - Cielo shows the authorization terms and the customer approves this access by clicking on ‘Allow Access<code class="language-plaintext highlighter-rouge">.
4 - Cielo redirects the customer to the partner again at </code>{partner-call-back-url}`. <br /></p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo1_login1.jpg" alt="Login and Access Grant" /></p>

<blockquote>
  <p>What is cielo-login-url?</p>
</blockquote>

<p>https://<code class="language-plaintext highlighter-rouge">{base-login-url}</code>?response_type=code&amp;<code class="language-plaintext highlighter-rouge">client_id={client_id}</code>&amp;<code class="language-plaintext highlighter-rouge">redirect_uri={redirect_uri}</code>&amp;<code class="language-plaintext highlighter-rouge">scope={scope}&amp;</code>state={state}`</p>

<ul>
  <li><strong>base-login-url:</strong> Base URL that changes by the environment, will be sent at design time</li>
  <li><strong>response_type:</strong> The value must be fixed “code”</li>
  <li><strong>client_id:</strong> Customer identifier, will be sent by Cielo at project time</li>
  <li><strong>redirect_uri:</strong> Partner URL for Cielo to redirect the user when the login process ends, or if there is an error in the process</li>
  <li><strong>scope:</strong> A comma-separated list of the APIs that the partner wants to access, the possible scopes will be sent by API.</li>
  <li><strong>state:</strong> A value that the customer wants to receive in return to maintain the state between the request and the return</li>
</ul>

<blockquote>
  <p>What is partner-callback-url?</p>
</blockquote>

<p>https://<code class="language-plaintext highlighter-rouge">{partner-callback-url}</code>?code=<code class="language-plaintext highlighter-rouge">{code}</code>&amp;state=<code class="language-plaintext highlighter-rouge">{state}</code></p>

<ul>
  <li><strong>partner-callback-url:</strong> The partner URL will be redirected when the login process ends.</li>
  <li><strong>code:</strong> The authorization code generated by Cielo. With this code the partner will be able to exchange for an access_token to make calls on behalf of the customer.</li>
  <li><strong>state:</strong> The same amount that the partner sent in the requisition.</li>
</ul>

<h2 id="step-2---requesting-an-access-token">Step 2 - Requesting an Access Token</h2>

<ul>
  <li>The partner service requests an <code class="language-plaintext highlighter-rouge">access_token</code>.</li>
  <li>Cielo returns an <code class="language-plaintext highlighter-rouge">acess_token</code>, a<code class="language-plaintext highlighter-rouge"> refresh_token</code> and an <code class="language-plaintext highlighter-rouge">expiration_time</code>.</li>
</ul>

<h3 id="request">Request</h3>

<blockquote>
  <p><strong>POST</strong> {cielo-api-base-url}/consent/v1/oauth/access-token</p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic <em>Base64(client_id do parceiro concatenado com “:” e o client_secret codificado em base64)</em></td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request POST 'https://{cielo-api-base-url}/consent/v1/oauth/access-token' \
--header 'Basic Base64'
--header 'Content-Type: application/json' \
--data-raw '{
    "grant_type": "authorization_code",
    "code": "{}"
}'

</code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
"access_token": "{access_token}",
"refresh_token": "{refresh_token}",
"token_type": "access_token",
"expires_in": {expiration_time}
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>The access_token to call Cielo’s APIs.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td>When the access_token expires, the partner can request a new access_token using this refresh_token.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expiration_time</code></td>
      <td>O tempo de expiração do access_token em milisgundos.</td>
    </tr>
  </tbody>
</table>

<h3 id="observações">Observações</h3>

<ul>
  <li>The authorization_code needs to be replaced with an access_token in less than 10 minutes.</li>
  <li>This type of access_token is mandatory to call APIs that return sensitive customer data.</li>
  <li>The partner needs to store access_token and refresh_token in a safe place.</li>
  <li>When the access_token expires, the partner will no longer be able to call the APIs until they request a new acess_token using the refresh_token flow.</li>
  <li>The acess_token generated in this flow will be unique per Cielo customer, as it must be approved by the customer.</li>
  <li>The partner is NOT able to generate an access_token without the customer’s consent.</li>
  <li>The partner is NOT able to use the authorization code, received in the first step, more than once.</li>
</ul>

<h2 id="step-3---requesting-the-apis">Step 3 - Requesting the APIs</h2>

<p>At this point, the partner will be able to call Cielo’s APIs without the need for customer approval, as this has already been granted.</p>

<p>The only requirement to call Cielo’s APIs is to send the following HTTP header:
** Authorization: Bearer {access_token} ** In all calls to the APIs.</p>

<ul>
  <li>The access_token was obtained in the second step</li>
</ul>

<h3 id="step-31---updating-an-access-token">Step 3.1 - Updating an Access Token</h3>

<blockquote>
  <ol>
    <li>The partner calls the service <code class="language-plaintext highlighter-rouge">refresh_token</code>.</li>
    <li>Cielo returns a new <code class="language-plaintext highlighter-rouge">access_token</code>, a new<code class="language-plaintext highlighter-rouge"> refresh_token</code> and a new <code class="language-plaintext highlighter-rouge">expiration_time</code>.</li>
  </ol>
</blockquote>

<p>The response data will be the same as in step 2 when the partner requests an acess_token, however all data returned is new and needs to be stored in place of the old ones.</p>

<h4 id="request-1">Request</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request POST 'https://{cielo-api-base-url}/consent/v1/oauth/access-token' \
--header 'Basic Base64'
--header 'Content-Type: application/json' \
--data-raw '{
    "grant_type": "refresh_token",
    "refresh_token": "{}"
}'

</code></pre></div></div>

<p>A point of attention in the request because now the partner needs to send <code class="language-plaintext highlighter-rouge">grant_type</code> as<code class="language-plaintext highlighter-rouge"> refresh_token</code> and in the <code class="language-plaintext highlighter-rouge">refresh_token</code> field a valid<code class="language-plaintext highlighter-rouge"> refresh_token</code> should be sent (and no longer an access_token).</p>

<h4 id="response-1">Response</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
"access_token": "{access_token}",
"refresh_token": "{refresh_token}",
"token_type": "access_token",
"expires_in": {expiration_time}
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>The access_token to call Cielo’s APIs.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">refresh_token</code></td>
      <td>When the access_token expires, the partner can request a new access_token using this refresh_token.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expiration_time</code></td>
      <td>O tempo de expiração do access_token em milisgundos.</td>
    </tr>
  </tbody>
</table>

<h3 id="errors">Errors</h3>

<p>If an error occurs on the Cielo side, the customer will be redirected to the partner’s call-back URL with the error parameter in the URL, for example https: // {partner-callback-url}? Error = {error}.</p>

<p>Possible values for {error}:</p>

<ul>
  <li><strong>lid_request:</strong> The request is missing some mandatory parameter, or it has an invalid parameter, or any other possibility that makes the URL incorrect.</li>
  <li><strong>unauthorized_client:</strong> The partner is not authorized to make a request using this method.</li>
  <li><strong>access_denied:</strong> The resource owner or authorization server denied the request.</li>
  <li><strong>unsupported_response_type:</strong> The authorization server does not support obtaining an authorization code using this method.</li>
  <li><strong>invalid_scope:</strong> The scope is invalid, unknown or malformed.</li>
  <li><strong>server_error:</strong> The authorization server encountered an unexpected condition and is unable to complete this request. (This error is necessary because it is not possible to return an HTTP status code 500 Internal Server Error via HTTP redirect)</li>
  <li><strong>temporarily_unavailable:</strong> The authorization server is unable to handle the request due to temporary overhead or is undergoing maintenance. (This error is necessary as it is not possible to return an HTTP Status 503 Service Unavailable to the partner via HTTP redirect)</li>
</ul>

<blockquote>
  <p>Optionally, another parameter <code class="language-plaintext highlighter-rouge">error_description</code> can be returned with a detail of the error, just plain text.</p>
</blockquote>

<h3 id="note">Note</h3>

<ul>
  <li>All tokens (access_token and refresh_token) must be stored in a safe place.</li>
  <li>The partner needs to start a new concession flow if they lose the tokens or both expire (The refresh_token expires 90 days from generation).</li>
  <li>If you generate a new refresh_token it has another 90 days from the generation to expire.</li>
  <li>The partner needs to start a new concession flow for each Cielo client that the partner wants to consult the data.</li>
</ul>

<h1 id="environment">Environment</h1>

<table>
  <thead>
    <tr>
      <th>Environment</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td>https://api2.cielo.com.br/sandbox/edi-api/v2/</td>
    </tr>
    <tr>
      <td>Homologation</td>
      <td>https://apihom-cielo.sensedia.com/edi-api/v2/</td>
    </tr>
  </tbody>
</table>

<h1 id="collection">Collection</h1>

<p>We make the Collections used to perform all API operations available. You only need to configure the URL and credentials.</p>

<p><a href="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ONBOARDING_EDI_CIELO_PARA_CONCILIADORAS.postman_collection.zip">Collections Download</a></p>

<h1 id="operations">Operations</h1>

<h2 id="post-register-merchant-id"><strong>POST</strong> Register Merchant ID</h2>

<p>Register Merchant ID (just one, a list or all), based on a Entity Number.</p>

<h3 id="request-2">Request</h3>

<blockquote>
  <p><strong>POST</strong> /edi/registers</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "mainMerchantId": "9999111222",
  "merchants": [
    "9999111111",
    "9999111333"
  ],
  "merchantEMail": "customer@customer.com",
  "type": [
    "SELL"
  ]
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Branch is available ou unavailable</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="response-2">Response</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumber": 1234567890,
  "mainMerchantId": 2008983,
  "registerID": 12345,
  "merchants": [
    823958412384701,
    679809436576210
  ],
  "type": [
    "SELL"
  ],
  "status": "PROCESSING"
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Branch is available ou unavailable</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-retrieve-status"><strong>GET</strong> Retrieve status</h2>

<p>Retrieve the EDI registration status.</p>

<h3 id="response-3">Response</h3>

<blockquote>
  <p><strong>GET</strong> /edi/registers/{registerID}</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumber": "01234567890",
  "registerID": 12345,
  "merchants": [
    9999222111,
    9999222222
  ],
  "status": "PROCESSING"
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Branch is available ou unavailable</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-consult-register-merchant-id"><strong>GET</strong> Consult Register Merchant ID</h2>

<p>Consult Merchant ID based on a Register ID or a Main Merchant ID.</p>

<h3 id="response-4">Response</h3>

<blockquote>
  <p><strong>GET</strong> /edi</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
      <tr>
        <td><strong>registerID</strong></td>
        <td>Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).</td>
      </tr>
      <tr>
        <td><strong>mainMerchantID</strong></td>
        <td>Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999111111,
    9999111333
  ],
  "type": [
    "SELL"
  ],
  "acknowledge": "COMPLETED"
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">acknowledge</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="put-update-register-merchant-id"><strong>PUT</strong> Update Register Merchant ID</h2>

<p>Update Merchant ID based on a Register ID or a Main Merchant ID.</p>

<h3 id="request-3">Request</h3>

<blockquote>
  <p><strong>PUT</strong> /edi</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "registerID": "string",
  "mainMerchantId": "9999222333",
  "merchants": [
    "9999222111",
    "9999222222"
  ],
  "type": [
    "SELL"
  ]
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="response-5">Response</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumber": "01234567890",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999222333,
    9999111222
  ],
  "type": [
    "SELL"
  ]
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchants</code></td>
      <td>List representing the merchant codes registered. Example: List [ “9999111111”, “9999111333” ]</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td>List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="delete-delete-register-merchant-id"><strong>DELETE</strong> Delete Register Merchant ID</h2>

<p>Delete MerchantID based on a Register ID or a Main Merchant ID.</p>

<h3 id="response-6">Response</h3>

<blockquote>
  <p><strong>DELETE</strong> /edi</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
      <tr>
        <td><strong>registerID</strong></td>
        <td>Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).</td>
      </tr>
      <tr>
        <td><strong>mainMerchantID</strong></td>
        <td>Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "acknowledge": "COMPLETED"
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mainMerchantId</code></td>
      <td>The most usual way to retrieve an EDI register in the company</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">registerID</code></td>
      <td>The same one provided by /edi/registers.</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">acknowledge</code></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="get-list-of-branches"><strong>GET</strong> List of branches</h2>

<p>Performs the list of customers below the informed access_token. The filter can be used to list only those available or unavailable. Unavailable means that the branch already participates in another register. In the register and editing services, there is validation to allow only those available to be informed.</p>

<h3 id="response-7">Response</h3>

<blockquote>
  <p><strong>GET</strong> /edi/merchantgroup</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer + access_token</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "legalEntityNumber": "string",
  "branches": [
    {
      "merchantID": "9999111222",
      "legalEntityNumber": "01234567890",
      "businessName": "V",
      "status": "UNAVAILABLE"
    }
  ]
}

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">legalEntityNumber</code></td>
      <td>Brazilian entity number. CPF por person and CNPJ for legal person</td>
      <td>String</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">branches</code></td>
      <td>List of branches</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">businessName</code></td>
      <td>Legal business name</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Branch is available ou unavailable</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h1 id="file-transmission-and-resending">File Transmission and Resending</h1>

<p>In order to receive the Electronic Statement, the client must contact the EDI Service and complete the service acquisition form. The files will be made available in the Inbox daily, except for the remaining balance file, which will be sent monthly. In the absence of transactions, the file sent will contain only the and the . In the case of any inconsistency in the transmission of the file(s), the client should inform Cielo, contacting the EDI Service (edi@cielo.com.br).</p>

<h2 id="file-resending">File Resending</h2>

<p>In case of loss of the file or not receiving, the Cielo will make available in the Inbox the same file sent daily (backup file). The client may contact EDI Service to request resending of the file.</p>

<h2 id="file-recovery">File Recovery</h2>

<ul>
  <li>Allows for the recovery of a previous transaction, updating the status of the entries.</li>
  <li>The files will be made available separately from the daily file.</li>
  <li>Recovery is not available for the Remaining Balance file (09).</li>
  <li>The request can be made to EDI Service.</li>
</ul>
</div>


            <div class="footer-conteudo">
  <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
    <img
      src="https://developercielo.github.io/en/assets/images/icon-doubt.svg"
      width="55px"
      height="53px"
      alt="Need Help?"
    />
  </div>

  <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
    <h2>Need Help?</h2>
    <p>If you didn't find your answer, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">send us a message</a>.</p>
  </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a
        title="Toggle left column"
        class="hamburger"
      >
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img
          src="https://developercielo.github.io/en/assets/images/logo.png"
          alt="Documentações e tutoriais"
          style="width: 60%; margin-left: 20%"
        />
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
      
      <div class="toc-footer">
        <h2 class="no-toc toc-footer-title">Complementary materials</h2>
           

        <ul class="toc-footer">
            
          <li>
            <a
              href="https://developercielo.github.io/en/tutorial/edi"
              title="Instruções EDI"
              
              >EDI - Transaction Capture</a
            >
          </li>
               
          <li>
            <a
              href="https://developercielo.github.io/en/tutorial/carta-circularizacao"
              title="Instruções EDI"
              
              >EDI - Circularization Letter</a
            >
          </li>
           
        </ul>
      </div>
      

      <div class="toc-contact">
        <div class="contact">
          <a
            title="Contact"
            href="https://devcielo.zendesk.com/"
          >
            <i class="fa fa-envelope-o" aria-hidden="true"></i>
            <span>Contact</span>
          </a>
        </div>
        <div class="github">
          <a title="GitHub" href="https://github.com/developercielo">
            <i class="fa fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


        <script src="https://developercielo.github.io/en/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/en/assets/bundles/js/search.min.js"></script>
        

        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 674586, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

    </body>
</html>
