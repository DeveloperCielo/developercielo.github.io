<h1 id="environments">Environments</h1>

<table>
  <thead>
    <tr>
      <th>Environments</th>
      <th>Address</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td>api2.cielo.com.br/sandbox<br />api2.cielo.com.br/sandbox/v2/oauth/token (format url encoded)<br />api2.cielo.com.br/sandbox/v2/oauth/access-token (format json)<br />api2.cielo.com.br/sandbox/padraoq/v1/publicKey<br />api2.cielo.com.br/sandbox/padraoq/v1/parsedQRCode<br /> api2.cielo.com.br/sandbox/padraoq/v1/payment/card</td>
    </tr>
    <tr>
      <td>Production</td>
      <td>api2.cielo.com.br <br />api2.cielo.com.br/v2/oauth/token (format url encoded)<br />api2.cielo.com.br/v2/oauth/access-token (format json)<br />api2.cielo.com.br/padraoq/v1/publicKey<br />api2.cielo.com.br/padraoq/v1/parsedQRCode<br />api2.cielo.com.br/padraoq/v1/payment/card</td>
    </tr>
  </tbody>
</table>

<h1 id="access-requirements">Access requirements</h1>

<p>For the use of our APIs we need to receive the following information, for the creation of the client id and Authorization</p>

<ul>
  <li>Name</li>
  <li>E-mail</li>
  <li>Occupation</li>
  <li>Who will be responsible for the integration (Technical Responsible) to register in API Suite?</li>
</ul>

<p><strong>Information we will send</strong>:</p>

<p>After sending the above information, we will send the client_id (key that identifies the APP) and the client_secret to the person in charge.</p>

<p>Any questions, open a ticket with our Developer Experience team <a href="https://devcielo.zendesk.com/hc/pt-br/requests/new?ticket_form_id=360000330511">Zendesk</a></p>

<h1 id="authentication">Authentication</h1>

<h2 id="access-token-generation-flow-via-json-format">Access Token generation flow (via JSON format)</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramaaccesstoken.png" alt="Fluxo de Integração QR Code" /></p>

<p>The <strong>access_token</strong> resource is responsible for authentication using the OAuth 2.0 protocol. With client_id and client_secret in hand the request to <strong>POST / access_token</strong> must be done by carrying <strong>authorization</strong> in <strong>Header</strong> and <strong>grant_type</strong> in the body of the request, following example below.</p>

<p><strong>Note: The authorization value must be composed of the word Basic with Base64 generated from the client_id concatenation: client_secret</strong></p>

<h3 id="contract">Contract</h3>

<blockquote>
  <p><strong>POST</strong> /v2/oauth/access-token (format json)</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic + Base64</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application-json</td>
      </tr>
    </tbody>
  </table>

  <p><strong>Body</strong></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"grant_type": "client_credentials"
}
</code></pre></div>  </div>
</blockquote>

<h4 id="request-example">Request Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl --location --request POST 'https://api2.cielo.com.br/v2/oauth/access-token' \
--header 'Authorization: Basic
dERxQUs000FoSDg5dFdpUWM1ejY0REJKc2lJTFpLbzh4TG0zV0p3eHkwRkQ0Y2dZVm46ZVZUVVZJZjFZWDJkOU40M0p4MVZwNGlWVXEzTzluTTR0TGF1UzhZYWo0V1JPcTJFSXU=' \
--header 'Content-Type: application/json' \
--data-raw '{
 "grant_type": "client_credentials",
"scopes": "qrcode_write,qrcode_read"
}

</code></pre></div></div>

<h4 id="response-example">Response Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "access_token": "5eb50e6b-2bfc-3a44-b9ba-b9ba75256e7e",
  "token_type": "bearer",
  "expires_in": 86400
}
</code></pre></div></div>

<h2 id="access-token-generation-flow-via-format-x-www-form-urlencoded">Access Token generation flow (via format x-www-form-urlencoded)</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramaaccesstoken.png" alt="Fluxo de Integração QR Code" /></p>

<blockquote>
  <p><strong>POST</strong> /v2/oauth/token (format url encoded)</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic + Base64</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application-json</td>
      </tr>
    </tbody>
  </table>

  <p><strong>Body</strong></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"grant_type": "client_credentials"
}
</code></pre></div>  </div>
</blockquote>

<h4 id="request-example-1">Request Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl --location --request POST 'https://api2.cielo.com.br/sandbox/v2/oauth/token' \
--header 'Authorization: Basic
dERxQUs0anFoSDg5dFdpUWM1ejY0REJKc2lJTFpLbzh4TG0zV0p3eHkwRkQ0Y2dZVm46
ZVZUVVZJZjFZWDJkOU40M0p4MVZwNGlWVXEzTzluTTR0TGF1UzhZYWo0V1JPcTJFSXU
=' \
--header 'Content-Type: application/json' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'grant_type=client_credentials' \
--data-urlencode 'scopes=qrcode_write,qrcode_read'
</code></pre></div></div>

<h4 id="response-example-1">Response Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"access_token": "8d9529bd-3dcf-3130-82ea-d28712f96de2",
"token_type": "bearer",
"expires_in": 86400
}
</code></pre></div></div>

<h1 id="api-return-codes">API return codes</h1>

<p><strong>SUCCESS</strong></p>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Nome</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>200</td>
        <td>Ok</td>
        <td>The request was successful for an API call, either GET or POST .</td>
      </tr>
      <tr>
        <td>201</td>
        <td>Created</td>
        <td>The create request was successful for an API call of type POST</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p><strong>EXCEPTIONS</strong></p>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Nome</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>400</td>
        <td>Bad Request.</td>
        <td>* The request is not valid. One or more conditions in the request fields were not met<br />List of unmet conditions</td>
      </tr>
      <tr>
        <td>401</td>
        <td>Unauthorized</td>
        <td>API Consumer Authentication Failed</td>
      </tr>
      <tr>
        <td>403</td>
        <td>Forbbiden</td>
        <td>API consumer does not have access to certain features</td>
      </tr>
      <tr>
        <td>409</td>
        <td>Conflict</td>
        <td>Resubmission of the request with divergent information. (Ex: Request for payments with different CPF)</td>
      </tr>
      <tr>
        <td>412</td>
        <td>Precondition Failed</td>
        <td>001: Expired key<br />002: Expected dynamic QRCode</td>
      </tr>
      <tr>
        <td>422</td>
        <td>Unprocessable Entity</td>
        <td>The request is valid, but it was not possible to process.</td>
      </tr>
      <tr>
        <td>500</td>
        <td>Internal Server Error</td>
        <td>Internal application error. Usually coming from infrastructure</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="public-key-generation">Public key generation</h1>

<p>The partner needs to call the API/publicKey to get the public key needed to send the card data in encrypted form.</p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramapublickey.png" alt="Fluxo de Integração QR Code" /></p>

<h2 id="contract-1">Contract</h2>

<blockquote>
  <p><strong>GET</strong> /padraoq/v1/publicKey</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (gerado pela API de Access Token)</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="request-example-2">Request Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request GET 'https://api2.cielo.com.br/sandbox/padraoq/v1/publicKey' \
--header 'Authorization: Bearer 83247803-585d-379d-8ea4-19dfcf4c3f75'

</code></pre></div></div>

<h3 id="response-example-2">Response Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
    "public_key": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmH7eS0n6yQSylMDZnY3c/mbDUUEJfyslrilslJKpDRG3m2YaCZdtwo5LahEUWshhBc8jckRkCyqDVVfBJ7WQN1Z1hN0ifCK8mfnh/2SAYGc4e8qydcWT64AVQo+Kay201cRuHeCt1Iyuhi5tOxTF2satd40+8eMkqiVJdhJ0Sjc1ZRezFSo96XReiT8eYz/4Rhubq1BPISlNXqqls3NuPMCxY6IFOLmjTi3xEIdcYtUT5MCfXBG4Rz6rMNrQ7JRAfEOIdvcAt++ygV9ilUxtETn+OKKNDcEUKzXM3Taop8vFXD8HWKzfmlA/usxeKxiI6eTrcWCmrVMQ2Yvf4RSU4wIDAQAB",
    "key_id": "1b59934a-7eaa-4f90-a391-585de0ffc550",
    "expires_in": 35853
}

</code></pre></div></div>

<h2 id="cryptography">Cryptography</h2>

<p>Example Java code to encrypt the card number using a public key:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.security.PublicKey;
import java.util.Base64;
import javax.crypto.Cipher;
public class EncriptCard {
    public String encript(PublicKey key, String cardNumber) {
        try {
            Cipher cipher = Cipher.getInstance("RSA");
            cipher.init(Cipher.ENCRYPT_MODE, key);
            byte[] encryptedBytes =
                cipher.doFinal(cardNumber.getBytes());
            String encryptedCard =
                Base64.getEncoder().encodeToString(encryptedBytes);
            return encryptedCard;
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }
}
</code></pre></div></div>

<h1 id="payment-flow">Payment flow</h1>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramapayment.png" alt="Fluxo de Integração QR Code" /></p>

<p>The <strong>POST /payment/card</strong> resource is responsible for making the payment based on the data contained in the requisition payload. In the request header it’s required to inform <strong>Authorization</strong>.</p>

<p>The request body consists of data from the application and the QR Code.</p>

<blockquote>
  <p>Note: it’s possible to generate test cards using the tool (https://namso-gen.com/), for this it’s only required to inform the first 6 digits of a valid card. Through the tool (https://8gwifi.org/RSAFunctionality?keysize=2048), it’s possible to simulate the encryption of the <code class="language-plaintext highlighter-rouge">"card_data"</code> made using the return obtained from <strong>GET / publicKeys</strong>.</p>
</blockquote>

<h2 id="contract-2">Contract</h2>

<blockquote>
  <p><strong>POST</strong> /padraoq/v1/payment/card</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (generated by the Access Token API)</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application/json</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
   "key_id":"string",
   "card_data":"string",
   "payee_document":"string",
   "payee_name":"string",
   "authorization_token":"string",
   "qrcode":"string"
}
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">key_id</code></td>
      <td>Identifier of the encryption key used to encrypt the card. Returned by the GET /publicKey resource</td>
      <td>String</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">card_data</code></td>
      <td>Card data encrypted by the public key, <a href="https://developercielo.github.io/manual/qrcode-v2#layout-card-data">See layout</a></td>
      <td>String</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payee_document</code></td>
      <td>CPF or CNPJ of the payer (user logged in the wallet)</td>
      <td>String</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payee_name</code></td>
      <td>Payer name (user logged into the wallet)</td>
      <td>String</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">authorization_token</code></td>
      <td>User authorization token generated by the issuer (support debit payment) * for future use</td>
      <td>String</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">qrcode</code></td>
      <td>QR Code string captured by the wallet</td>
      <td>String</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="request-example-3">Request Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request POST 'https://api2.cielo.com.br/sandbox/padraoq/v1/payment/card' \
--header 'Authorization: Bearer 83247803-585d-379d-8ea4-19dfcf4c3f75' \
--header 'Content-Type: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
    "key_id": "001",
    "card_data": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmeiLngFr9h0npwe6D3ArSi10ZgdOCUCsUYT12KMuYsxImzwe9aGX8XXvzEF60E600ZjdvmYU64UnZKgfbttwNi+Tl7ZcB2cnS/oJMrfA0AbRHukJnL/fFsziHOjv0A1xRcE0ZbJRkob5A5s4GenF+jv/xCTOoIetFimZHZDiPPFux2NyrL3ZqSs7F4XJZvo2zPfCVlAcnEbVf+8vWX3goP2TEuAqZtBT543wIDAQAB+dqSzZSqZolYU1sjV7s8FzsjZYqo+AjM8BMuPlMoPEuBqgRFm4fSRIpeJIr0G9FokSU3X6MAZTC7n3YePHFsFmGxPTrKpEFrp8s28f1qMP5suTsA”,,
    "payee_document": "25617535811",
    "payee_name": ""Alexandre Marcelino",
    "authorization_token": null,
    "qr_code": ""00020101021226580014br.com.padraoq01160010000244470001020862000092030400015204030053039865406123.995802BR5909POSTO_ABC6010Barueri_SP62200516100023071641629281600014br.com.padaoq0112230120171643020400040302020402010502038204010063
041213""
}'

</code></pre></div></div>

<h3 id="response-example-3">Response Example</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "reference_label": "230120171643",
  "merchant_id": "0020060049139200",
  "terminal_id": "62000092",
  "authorization_code": "031581",
  "authentication_code": "null",
  "host_nsu": "730025",
  "terminal_nsu": "730025",
  "timestamp": "160620143832",
  "card_scheme": "Master"
}

</code></pre></div></div>

<h2 id="layout---card-data">Layout - Card Data</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/layout_carddata_qrcode.jpg" alt="Layout Card Data" /></p>

<blockquote>
  <p><strong>Note</strong>: Encrypt all “cardData” tag information including the quotes “ { } “.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
   "card_number":"4984XXXXXX4106",
   "card_cvv":"123",
   "card_holder_name":"Teste",
   "card_expiration_date":"0127"
}
</code></pre></div></div>

<h2 id="payment-success-codes">Payment success codes</h2>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>200</td>
        <td>Ok</td>
        <td>The request was successful for an API call, either GET or POST .</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h2 id="payment-error-codes">Payment error codes</h2>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Error</th>
        <th>Code</th>
        <th>Error</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>422</td>
        <td>001</td>
        <td>The product was not found</td>
        <td>Business error regarding problems with the reported product</td>
      </tr>
      <tr>
        <td>422</td>
        <td>002</td>
        <td>Invalid QRCode</td>
        <td>Business error regarding problems in QRCode data sent</td>
      </tr>
      <tr>
        <td>422</td>
        <td>003</td>
        <td>QRCode expired</td>
        <td>Business error regarding QRCode expiration time</td>
      </tr>
      <tr>
        <td>422</td>
        <td>004</td>
        <td>Invalid Card Data</td>
        <td>Business error referring to problems with the card data entered</td>
      </tr>
      <tr>
        <td>422</td>
        <td>005</td>
        <td>We do not accept payments with the registered card</td>
        <td>Business error regarding the acceptance of the registered card</td>
      </tr>
      <tr>
        <td>422</td>
        <td>006</td>
        <td>Error in authorizer</td>
        <td>Business error returned from issuer authorizer</td>
      </tr>
      <tr>
        <td>422</td>
        <td>007</td>
        <td>Generic Error</td>
        <td>Other Business Mistakes</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="api-to-parse-the-qr-code-optional-use">API to parse the QR Code (optional use))</h1>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramaparsedQRCode.png" alt="Fluxo Parsed QR Code" /></p>

<h2 id="contract-3">Contract</h2>

<blockquote>
  <p><strong>GET</strong> /padraoq/v1/parsedQRCode</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (generated by the Access Token API)</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application/json</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Parameter: 

qrcode:"00020101021226580014br.com.padraoq011600100002444700010208620000920304000152040
30053039865406123.995802BR5909POSTO_ABC6010Barueri_SP622005161000230716416292816000
14br.com.padraoq0112230120171643020400040302020402010502038204010063041213"

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
body: 

&lt;body empty&gt;

</code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
   "qrcode_data":{
      "payload_format_indicator":"01",
      "point_of_initiation_method":"12",
      "merchant_account_information":{
         "gui":"br.com.padraoq",
         "id_merchant":"1234567890123456",
         "id_terminal":"12345678",
         "id_credenciador":"1234",
         "instituicao":"12345678",
         "tipo_de_conta":"1234",
         "agencia":"12345678",
         "conta":"12345678901234567890"
      },
      "merchant_category_code":"0000",
      "transaction_currency":"986",
      "transaction_amount":"01.00",
      "country_code":"BR",
      "merchant_name":"Q Café",
      "merchant_city":"Brasilia",
      "additional_data_field":{
         "reference_label":"reference label"
      },
      "crc16":"AC05",
      "unreserved_templates":{
         "gui":"br.gov.bcb.spi",
         "url_uri":"https://br.gov.bcb.spi/"
      },
      "payment_information":{
         "gui":"br.com.padraoq",
         "timestamp":"010220120001",
         "modalidade":"0400",
         "parcelas":"01",
         "tipo_de_transacao":"01",
         "fonte_de_dados_do_pagamento":"03",
         "campo_livre":"1234567890"
      }
   }
}
</code></pre></div></div>

<h1 id="qr-codetm-pos-generated-layout-new-br-code-elo-model">QR CODETM POS GENERATED LAYOUT (NEW BR CODE +ELO MODEL)</h1>

<p>The data used to generate the QRCode for reading in the digital wallet must follow as a basis the specification “EMVCo-Merchant-Presented-QR-Specification-v1” using the data below:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>N</td>
      <td>Numérico – Valores representados por dígitos de “0” a “9”</td>
    </tr>
    <tr>
      <td>ANS</td>
      <td>Alfanumerico especial – Valores alfanuméricos especiais contem (96) caracteres no total, incluindo números e pontuação.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome do Campo</th>
      <th>Tam</th>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload Format Indicator</td>
      <td>02</td>
      <td>N</td>
      <td>Versão dos dados do QR Code utilizadana geração do código. Fixo “01”.</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of Initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>Identificador do método QR Code gerado: Fixo “12” – QR Code Dinâmico.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>Até 76</td>
      <td>ANS</td>
      <td>Informações do Estabelecimento</td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - Merchant Account Information</td>
      <td>16</td>
      <td>N</td>
      <td>Numero do Estabelecimento Comercial.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Número Logico do terminal.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>03 - ID Credenciador</td>
      <td>04</td>
      <td>N</td>
      <td>Identificação do credenciador. Fixo “0001”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>04 - CPF/CNPJ</td>
      <td>Até 14</td>
      <td>N</td>
      <td>Número do CPF ou CNPF do EC.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>ELO - Merchant Account Information</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td>Informações do Estabelecimento<br />OBS: Apesar de serem dados específicosda ELO, estem devem estar presentes emtodo as as transações de QRCode “BR Code V3 Aliança + Elo”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>00 - Globally Unique Identifier</td>
      <td>10</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “BR.COM.ELO”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>01 - Acquirer ID</td>
      <td>04 até 07</td>
      <td>ANS</td>
      <td>Código do Credenciador atribuído pela Elo. <br />No caso da Cielo utilizar o valor fixo “8384”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>02 - Merchan Identification Number</td>
      <td>15</td>
      <td>N</td>
      <td>Número do Estabelecimento Comercial:utilizar apenas os 15 ultimos dígitos.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>03 - Terminal ID</td>
      <td>08</td>
      <td>ANS</td>
      <td>Número Lógico do terminal.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>04 - Terminal Device Type</td>
      <td>01</td>
      <td>ANS</td>
      <td>Tipo de device/ambiente exibindo o QR Code:<br />“A” – ATM<br />“C” – Celular (Mobile)<br />“E” – E-commerce<br />“M” – POS Mobile<br />“P” – POS padrão<br />“T” – TEF<br /></td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>Ramo de atividade do Estabelecimento (MCC).</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Código de origem da Moeda.</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>Até 13</td>
      <td>ANS</td>
      <td>Valor da transação. Ex: “123.99”</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Country Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Código do país: Fixo “BR”.</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Nome Fantasia do Estabelecimento.</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Merchant City</td>
      <td>Até 15</td>
      <td>ANS</td>
      <td>Cidade do Estabelecimento.</td>
    </tr>
    <tr>
      <td>61</td>
      <td>Código Postal</td>
      <td>08</td>
      <td>N</td>
      <td>CEP da localidade do terminal retirado do Bit 63 subcampo 25 da inicialização. Para o formato de CEP brasileiro, utilizar 8 dígitos, sem hífen.</td>
    </tr>
    <tr>
      <td>62</td>
      <td>Additional Data Field</td>
      <td>Até 29</td>
      <td>ANS</td>
      <td>Campo de dados Adicionais</td>
    </tr>
    <tr>
      <td>62</td>
      <td>05 - Reference Label</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Identificação do QR Code. Código único da transação, extraído BIT 31.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>Transaction informations</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td><strong>Informações da transação</strong></td>
    </tr>
    <tr>
      <td>81</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>01 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Data e hora da transação (DDMMAAHHmmss).</td>
    </tr>
    <tr>
      <td>81</td>
      <td>02 - Modalidade</td>
      <td>04</td>
      <td>H</td>
      <td>Códigos fixos em hexa para os fluxos de produto Matriz e produto Secundário:<br />Débito à Vista (Fluxo 08): 0001Crédito à Vista (Fluxo 04): 0002<br />Crédito parcelado Loja (Fluxo 06): 0004<br />Crédito parcelado ADM (Fluxo 05): 0008<br />Voucher (Fluxo 13): 0010<br />Frotas (Fluxo 32): 0020<br />Pré-Autorização (Fluxo 07): 0040<br />Crediário Simulação (Fluxo 11): 0200<br />Crediário Contratação (Fluxo 43): 0400<br />Outro: 0000</td>
    </tr>
    <tr>
      <td>81</td>
      <td>03 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Número de parcelas.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>04 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Venda;<br />“02” – Cancelamento.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>05 - Fonte de Dados do Pagamento</td>
      <td>02</td>
      <td>N</td>
      <td>Fixo:“03” – QR Code</td>
    </tr>
    <tr>
      <td>81</td>
      <td>06 - NSU da Transação Original</td>
      <td>Até 12</td>
      <td>N</td>
      <td>NSU da transação atual.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>50 - RUF</td>
      <td>Até 19</td>
      <td>ANS</td>
      <td>RUF</td>
    </tr>
    <tr>
      <td>82</td>
      <td>Unreserved Templates – Elo Transaction Detail</td>
      <td>56 até 88</td>
      <td>ANS</td>
      <td>ELO - Informações da transação<br />OBS: Apesar de serem dados específicosda ELO, estem devem estar presentes em todoas as transações de QRCode “BR Code V3 Aliança + Elo”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>00 - Globally Unique Identifier</td>
      <td>10</td>
      <td>ANS</td>
      <td>Identificador global QR code compartilhado: valor fixo igual a “BR.COM.ELO”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>01 - Transaction Date</td>
      <td>10</td>
      <td>N</td>
      <td>Data e hora da transação(MMDDHHmmss).</td>
    </tr>
    <tr>
      <td>82</td>
      <td>02 - Product Type &amp; Installments</td>
      <td>03</td>
      <td>ANS</td>
      <td>Posição [1]<br />Produto da transação:<br />“C” – Crédito – Fluxos: 04, 06, 05, 11 e 43<br />“D” – Débito – Fluxo: 08<br />“V” – Voucher – Fluxo: 13 e 32<br />“O” – Outros – Outros fluxos não previstos.<br />Posição [2,3]<br />Quantidade de parcelas. Para transações à vista campo deve ser enviado com o valor igual a “00”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>03 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Compra<br />“02” – Cancelamento<br />“03” – Compra com Saque<br />“04” – Saque</td>
    </tr>
    <tr>
      <td>82</td>
      <td>04 - Transaction ID</td>
      <td>06</td>
      <td>N</td>
      <td>NSU da transação atual.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>05-  Original Transaction ID</td>
      <td>06</td>
      <td>N</td>
      <td>Identificador único da Transação original que será cancelada (campo Transaction ID do QR Code usado na transação original).<br />Deve ser apresentado no QR Code usado para iniciar transações de cancelamento.<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>06 - Original Transaction Date</td>
      <td>04</td>
      <td>N</td>
      <td>Data da transação original, que será cancelada, no formato MMDD.<br />Deve ser enviado para transações de cancelamento<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>07 - Original Transaction Terminal ID</td>
      <td>08</td>
      <td>ANS</td>
      <td>Número Lógico do terminal.<br />Identificação do terminal do estabelecimento comercial utilizado na transação original.<br />Deve ser enviado para transações de cancelamento.<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>08 - Elo QR Code Version</td>
      <td>Até 03</td>
      <td>N</td>
      <td>Identificação da versão do QR Code Elo utilizado na transação.Para este documento em questão, utilizar o valor igual a “3”.</td>
    </tr>
    <tr>
      <td>63</td>
      <td>CRC16</td>
      <td>04</td>
      <td>ANS</td>
      <td>Checksum calculado dos dados QR Code(Vide Documentação “EMV-QRCode” e “ISO13239”).</td>
    </tr>
  </tbody>
</table>

<p>Ex.:</p>

<p><strong>DADOS</strong>:</p>

<p>00020101021226760014br.com.padraoq0116123456789012000102082009130003040001041
40306501400093927580010BR.COM.ELO010483840215234567890120001030820091300040
1P520400005303986540525.005802BR5905CIELO6014SANTOANDRE
SP61080600000062200516040310245460330981740014br.com.padraoq01120203211002180
20400020302010402010502030606069646500082560010BR.COM.ELO011003021002180203
C0003020104060696460801363044847</p>

<p><strong>QRCODE:</strong></p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/qrcodepos.PNG" alt="QRCodePOS" /></p>

<h1 id="qr-codetm-layout-gerado-pelo-pos-modelo-novo-br-code">QR CODETM LAYOUT GERADO PELO POS (MODELO NOVO BR CODE)</h1>

<p>Os dados usados para gerar o QRCode para leitura na carteira digital deve seguir como base aespecificação <strong>“EMVCo-Merchant-Presented-QR-Specification-v1”</strong> utilizando os dados abaixo:</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>N</td>
      <td>Numérico – Valores representados por dígitos de “0” a “9”</td>
    </tr>
    <tr>
      <td>ANS</td>
      <td>Alfanumerico especial – Valores alfanuméricos especiais contem (96) caracteres no total, incluindo números e pontuação.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome do Campo</th>
      <th>Tam</th>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload Format Indicator</td>
      <td>02</td>
      <td>N</td>
      <td>Versão dos dados do QR Code utilizada na geração do código. Fixo “01”.</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of Initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>Identificador do método QR Code gerado: Fixo “12” – QR Code Dinâmico.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>Até 76</td>
      <td>ANS</td>
      <td><strong>Informações do Estabelecimento</strong></td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - Merchant Account Information</td>
      <td>16</td>
      <td>N</td>
      <td>Numero do Estabelecimento Comercial.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Número Logico do terminal.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>03 - ID Credenciador</td>
      <td>04</td>
      <td>N</td>
      <td>Identificação do credenciador. Fixo “0001”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>04 - CPF/CNPJ</td>
      <td>Até 14</td>
      <td>N</td>
      <td>Número CPF/CNPJ do merchant</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>Ramo de atividade do Estabelecimento (MCC).</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Código de origem da Moeda.</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>Até 13</td>
      <td>ANS</td>
      <td>Valor da transação.<br />Ex: “123.99”</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Country Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Código do país: Fixo “BR”.</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Nome Fantasia do Estabelecimento.</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Merchant City</td>
      <td>Até 15</td>
      <td>ANS</td>
      <td>Cidade do Estabelecimento.</td>
    </tr>
    <tr>
      <td>62</td>
      <td>Additional Data Field</td>
      <td>Até 29</td>
      <td>ANS</td>
      <td>Campo de dados Adicionais</td>
    </tr>
    <tr>
      <td>62</td>
      <td>05- Reference Label</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Identificação do QR Code.<br />Código único da transação, extraído BIT 31.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>Transaction informations</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td>Informações da transação</td>
    </tr>
    <tr>
      <td>81</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>01 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Data e hora da transação(DDMMAAHHmmss).</td>
    </tr>
    <tr>
      <td>81</td>
      <td>02 - Main Product</td>
      <td>04</td>
      <td>N</td>
      <td>Código do produto Matriz.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>03 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Número de parcelas.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>04 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Venda;<br />“02” – Cancelamento.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>05 - Fonte de Dados do Pagamento</td>
      <td>02</td>
      <td>N</td>
      <td>Fixo: “03” – QR Code</td>
    </tr>
    <tr>
      <td>81</td>
      <td>06 - NSU Host Original</td>
      <td>Até 12</td>
      <td>N</td>
      <td>NSU da transação original</td>
    </tr>
    <tr>
      <td>81</td>
      <td>50 - Campo livre/RUF</td>
      <td>Até 19</td>
      <td>ANS</td>
      <td>Campo de utilização Livre (RUF)</td>
    </tr>
    <tr>
      <td>63</td>
      <td>CRC16</td>
      <td>04</td>
      <td>ANS</td>
      <td>Checksum calculado dos dados QR Code(Vide Documentação “EMV-QRCode” e “ISO13239”).</td>
    </tr>
  </tbody>
</table>

<p>Ex:</p>

<p><strong>DADOS:</strong></p>

<p>00020101021226760014<strong>br.com.padraoq</strong>0116<strong>0010000244470001</strong>0208<strong>62000092</strong>0304<strong>0001</strong>041
4<strong>01027058000191</strong>5204<strong>0300</strong>5303<strong>986</strong>5406<strong>123.99</strong>5802<strong>BR</strong>5909<strong>POSTO_ABC</strong>6010<strong>Barueri_SP</strong>6220
0516<strong>1000230716416292</strong>81720014<strong>br.com.padraoq</strong>0112<strong>230120171643</strong>0204<strong>0004</strong>0302<strong>02</strong>0402<strong>01</strong>
0502<strong>03</strong>0602<strong>00</strong>5002<strong>00</strong>63040CE6</p>

<p><strong>QR CODE:</strong></p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/qrcodenew.PNG" alt="QRCodePOS" /></p>

<p><strong>Mapa TAGs geradas em uma transação via QRCode:</strong></p>

<p>0002<strong>01</strong>0102<strong>12</strong>26760014<strong>br.com.padraoq</strong>0116<strong>0010000244470001</strong>0208<strong>62000092</strong>0304<strong>0001</strong>041
4<strong>01027058000191</strong>5204<strong>0300</strong>5303<strong>986</strong>5406<strong>123.99</strong>5802<strong>BR</strong>5909<strong>POSTO_ABC</strong>6010<strong>Barueri_SP</strong>6220
0516<strong>1000230716416292</strong>81720014<strong>br.com.padraoq</strong>0112<strong>230120171643</strong>0204<strong>0004</strong>0302<strong>02</strong>0402<strong>01</strong>
0502<strong>03</strong>0602<strong>00</strong>5002<strong>00</strong>63040CE6</p>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome do Campo</th>
      <th>Tam</th>
      <th>Tipo</th>
      <th>Descrição</th>
      <th>Parse</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload Format Indicator</td>
      <td>02</td>
      <td>N</td>
      <td>Versão dos dados do QR Code utilizada na geração do código. Fixo “01”.</td>
      <td>01</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of Initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>Identificador do método QR Code gerado: Fixo “12” – QR Code Dinâmico.</td>
      <td>12</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>76</td>
      <td>ANS Informações do Estabelecimento</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
      <td>br.com.padraoq</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - MerchantAccount Information</td>
      <td>16</td>
      <td>N</td>
      <td>Numero do EstabelecimentoComercial.</td>
      <td>0010000244470001</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Número Logico do terminal.</td>
      <td>62000092</td>
    </tr>
    <tr>
      <td>26</td>
      <td>03 - ID Credenciador</td>
      <td>04</td>
      <td>N</td>
      <td>Identificação do credenciador. Fixo “0001”.</td>
      <td>0001</td>
    </tr>
    <tr>
      <td>26</td>
      <td>04 - CPF/CNPJ</td>
      <td>Até 14</td>
      <td>N</td>
      <td>Número CPF/CNPJ do merchant</td>
      <td>01027058000191</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>Ramo de atividade do Estabelecimento (MCC).</td>
      <td>0300</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Código de origem da Moeda.</td>
      <td>986</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>Até 13</td>
      <td>ANS</td>
      <td>Valor da transação.Ex: “123.99”</td>
      <td>123.99</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Country Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Código do país: Fixo “BR”.</td>
      <td>BR</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Nome Fantasia do Estabelecimento.</td>
      <td>POSTO_ABC</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Merchant City</td>
      <td>Até 15</td>
      <td>ANS</td>
      <td>Cidade do Estabelecimento. Barueri_SP</td>
      <td> </td>
    </tr>
    <tr>
      <td>62</td>
      <td>Additional Data Field</td>
      <td>Até 29</td>
      <td>ANS</td>
      <td>Campo de dados Adicionais</td>
      <td> </td>
    </tr>
    <tr>
      <td>62</td>
      <td>05 - Reference Label</td>
      <td>Até 25</td>
      <td>ANS Identificação do QR Code. Código único da transação,extraído BIT 31.</td>
      <td>1000230716416292</td>
      <td> </td>
    </tr>
    <tr>
      <td>81</td>
      <td>Transaction informations</td>
      <td>Até 99(72 nesse exemplo</td>
      <td>ANS</td>
      <td>Informações da transação</td>
      <td> </td>
    </tr>
    <tr>
      <td>81</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
      <td>br.com.padraoq</td>
    </tr>
    <tr>
      <td>81</td>
      <td>01 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Data e hora da transação(DDMMAAHHmmss).</td>
      <td>230120171643</td>
    </tr>
    <tr>
      <td>81</td>
      <td>02 - Main Product</td>
      <td>04</td>
      <td>N</td>
      <td>Código do produto Matriz.</td>
      <td>0004</td>
    </tr>
    <tr>
      <td>81</td>
      <td>03 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Número de parcelas.</td>
      <td>02</td>
    </tr>
    <tr>
      <td>81</td>
      <td>04 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação: “01” – Venda;<br />“02” – Cancelamento.<br /></td>
      <td>01</td>
    </tr>
    <tr>
      <td>81</td>
      <td>05 - Fonte de Dados do Pagamento</td>
      <td>02</td>
      <td>N</td>
      <td>Fixo:“03” – QR Code</td>
      <td>03</td>
    </tr>
    <tr>
      <td>81</td>
      <td>06 - NSU Host Original</td>
      <td>Até 12</td>
      <td>N</td>
      <td>NSU da transação original</td>
      <td>00</td>
    </tr>
    <tr>
      <td>81</td>
      <td>50 - Campo livre/RUF</td>
      <td>Até 19</td>
      <td>ANS</td>
      <td>Campo de utilização Livre (RUF)</td>
      <td>00</td>
    </tr>
    <tr>
      <td>82</td>
      <td>RUF</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td>RUF</td>
      <td> </td>
    </tr>
    <tr>
      <td>82</td>
      <td>01 - RUF</td>
      <td>Até 95</td>
      <td>ANS</td>
      <td>RUF</td>
      <td> </td>
    </tr>
    <tr>
      <td>63</td>
      <td>CRC16</td>
      <td>04</td>
      <td>ANS</td>
      <td>Checksum calculado dos dados QR Code (Vide Documentação “EMV-QRCode” e “ISO13239”).</td>
      <td>8F04</td>
    </tr>
  </tbody>
</table>

<h1 id="qr-codetm-layout-gerado-pelo-pos-modelo-antigo">QR CODETM LAYOUT GERADO PELO POS (MODELO ANTIGO)</h1>

<p>Os dados usados para gerar o QRCode para leitura na carteira digital deve seguir como base a especificação “EMVCo-Merchant-Presented-QR-Specification-v1” utilizando os dados abaixo:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>N</td>
      <td>Numeric - Value represented by digits 0 from 9</td>
    </tr>
    <tr>
      <td>ANS</td>
      <td>Alphanumeric - contain 96 characters including numbers and accents</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Field name</th>
      <th>Size</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload format indicator</td>
      <td>02</td>
      <td>N</td>
      <td>QR Code data version used at code generation. Fixe”01”</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>QR Code method identifier: Fixed “12” Dynamic QR Code</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>up to 56</td>
      <td>ANS</td>
      <td>Merchant information</td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globaly Unique identifier</td>
      <td>up to 32</td>
      <td>ANS</td>
      <td>Global identifier. Fixed “Cielo”</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - Merchant Account information</td>
      <td>16</td>
      <td>N</td>
      <td>Merchant number</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Terminal Logical Number</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>Merchant Category Code (MCC)</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Transaction Currency</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>12</td>
      <td>N</td>
      <td>Transaction Amount</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Contry Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Country Code. Fixed “BR”</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>up to 25</td>
      <td>ANS</td>
      <td>Merchant Name</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant City</td>
      <td>up to 15</td>
      <td>ANS</td>
      <td>Merchant City</td>
    </tr>
    <tr>
      <td>80</td>
      <td>Transaction Informations</td>
      <td>up to 120</td>
      <td>ANS</td>
      <td>Transaction Information</td>
    </tr>
    <tr>
      <td>80</td>
      <td>00 - Globally Unique Identifier</td>
      <td>up to 80</td>
      <td>ANS</td>
      <td>Global Identifier: Use the fixed URL, including (“”):”https://www.cielo.com.br/qrcode”</td>
    </tr>
    <tr>
      <td>80</td>
      <td>01 - Transaction ID</td>
      <td>16</td>
      <td>ANS</td>
      <td>Unique transaction code</td>
    </tr>
    <tr>
      <td>80</td>
      <td>02 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Transaction’s date and time (DDMMYYHHmmss)</td>
    </tr>
    <tr>
      <td>80</td>
      <td>03 - Main Product</td>
      <td>04</td>
      <td>N</td>
      <td>Main Product</td>
    </tr>
    <tr>
      <td>80</td>
      <td>04 - Sub Product</td>
      <td>04</td>
      <td>N</td>
      <td>Sub Product</td>
    </tr>
    <tr>
      <td>80</td>
      <td>05 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Payment Installments</td>
    </tr>
    <tr>
      <td>80</td>
      <td>06 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Type of transaction:<br />“01” - Payment Request<br />“02” - Cancellation request</td>
    </tr>
    <tr>
      <td>63</td>
      <td>CRC</td>
      <td>04</td>
      <td>ANS</td>
      <td>Calculated checksum of QrCode data (see documentation”EMV-QrCode” and “ISO13239”)</td>
    </tr>
  </tbody>
</table>

<p>0002<strong>01</strong>0102<strong>12</strong>26410005<strong>Cielo</strong>0116<strong>0010000244472010</strong>0208<strong>20100001</strong>5204<strong>591
2</strong>5303<strong>986</strong>5412<strong>000000001000</strong>5802<strong>76</strong>5923<strong>CIA BRAS MEIO PAGAMENTO</strong>6009<strong>SAO
PAULO</strong>801010033”https://www.cielo.com.br/qrcode”0116<strong>1209676128919
232</strong>0212<strong>100418094512</strong>0304<strong>1000</strong>0404<strong>0001</strong>0502<strong>01</strong>0602<strong>01</strong>6304<strong>A177</strong></p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/qrcodemodeloantigo.PNG" alt="QRCodePOS" /></p>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome do Campo</th>
      <th>Tam</th>
      <th>Tipo</th>
      <th>Descrição</th>
      <th>Parse</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload Format Indicator</td>
      <td>02</td>
      <td>N</td>
      <td>Versão do QR Code valor fixo “01”</td>
      <td>01</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of Initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>Identificador do método do QR Code:Fixo “12” – QR Code dinâmico</td>
      <td>12</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>Up to 56</td>
      <td>ANS Informações do estabelecimento</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globally Unique Identifier</td>
      <td>Up to 32</td>
      <td>ANS</td>
      <td>Identificador Global: valor fixo “Cielo”</td>
      <td>Cielo</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - Merchant Account Information</td>
      <td>16</td>
      <td>N</td>
      <td>Número do estabelecimento</td>
      <td>0010000244472010</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Número do terminal</td>
      <td>20100001</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>MCC</td>
      <td>5912</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Código da moeda</td>
      <td>986</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>12</td>
      <td>N</td>
      <td>Valor da transação</td>
      <td>000000001000</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Country Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Código do País. Fixo “BR”</td>
      <td>76</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>Up to 25</td>
      <td>ANS</td>
      <td>Nome do estabelecimento</td>
      <td>CIA BRAS MEIO PAGAMENTO</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Merchant City</td>
      <td>Up to 15</td>
      <td>ANS</td>
      <td>Cidade do estabelecimento</td>
      <td>SAO PAULO</td>
    </tr>
    <tr>
      <td>80</td>
      <td>Transaction informations</td>
      <td>Up to 120</td>
      <td>ANS</td>
      <td>Informações da transação</td>
      <td> </td>
    </tr>
    <tr>
      <td>80</td>
      <td>00 - Globally Unique Identifier</td>
      <td>Up to 80</td>
      <td>ANS</td>
      <td>Url de identificação global:fixo: “https://www.cielo.com.br/qr_code”</td>
      <td>“https://www.cieloid.com.br/qr_code”</td>
    </tr>
    <tr>
      <td>80</td>
      <td>01 - Transaction ID</td>
      <td>16</td>
      <td>N</td>
      <td>Código único da transação</td>
      <td>12096761<br />28919232</td>
    </tr>
    <tr>
      <td>80</td>
      <td>02 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Data da transação (DDMMAAHHmmss)</td>
      <td>100418094512</td>
    </tr>
    <tr>
      <td>80</td>
      <td>03 - Main Product</td>
      <td>04</td>
      <td>N</td>
      <td>Produto Principal</td>
      <td>1000</td>
    </tr>
    <tr>
      <td>80</td>
      <td>04 - Sub Product</td>
      <td>04</td>
      <td>N</td>
      <td>Produto secundário</td>
      <td>0001</td>
    </tr>
    <tr>
      <td>80</td>
      <td>05 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Número de parcelas</td>
      <td>01</td>
    </tr>
    <tr>
      <td>80</td>
      <td>06 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Pagamento<br />“02” – Cancelamento<br /></td>
      <td>01</td>
    </tr>
    <tr>
      <td>63</td>
      <td>CRC</td>
      <td>04</td>
      <td>ANS</td>
      <td>checksum da string do QR Code</td>
      <td>A177</td>
    </tr>
  </tbody>
</table>

<h1 id="callback-api-para-desfazimento-uso-opcional">CALLBACK API PARA DESFAZIMENTO (uso opcional)</h1>

<p>Existe uma API de call-back para informar a carteira sobre um defazimento.</p>

<p>O parceiro precisa desenvolver uma API para receber as informações de desfazimento seguindo o format abaixo e fornecendo a url para envio das informações:</p>

<p><strong>Body:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
"transactionDate": "string",
"terminalLogicalNumber": "string",
"authorizationCode": “string",
"nsu": "string",
“merchantId“: 0,
“amount“: 0,
“originalTransactionType”: 0,
“statusCode“: 0
}

</code></pre></div></div>

<h2 id="api-request-exemplo">API request (exemplo):</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
"transactionDate": "2018-10-29T14:35:12.000+0000",
"terminalLogicalNumber": "78257509",
"authorizationCode": "019387",
"nsu": "572061",
“merchantId“: 1000000000,
“amount“: 82.90,
“originalTransactionType”: 1,
“statusCode“: 3
}

</code></pre></div></div>

