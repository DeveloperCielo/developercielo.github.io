<!DOCTYPE html>
<html>
<head>
    <title>Cielo Checkout Integration</title>
    
        <meta http-equiv="refresh" content="0; url=https://docs.cielo.com.br/link-en/docs/about-checkout-cielo">
        <link rel="canonical" href="https://docs.cielo.com.br/link-en/docs/about-checkout-cielo" />
    
</head>
<body>
    <h1>Cielo Checkout Integration</h1>
    <h3> Redirecionando para <a href="https://docs.cielo.com.br/link-en/docs/about-checkout-cielo">https://docs.cielo.com.br/link-en/docs/about-checkout-cielo</a> ...</h3>
    <script>location='https://docs.cielo.com.br/link-en/docs/about-checkout-cielo'</script>
    <aside class="warning"> The content on this page is being discontinued and will not receive updates after 09/04/2024. Please visit the new documentation.</aside>

<h1 id="the-documentation-for-checkout-cielo-is-now-on-a-new-portal">The documentation for Checkout Cielo is now on a new portal</h1>

<p><a href="https://docs.cielo.com.br/english"><img src="https://developercielo.github.io/images/apicieloecommerce/new-doc-cielo.com.br.png" alt="new e-commerce developers portal for Cielo and Braspag" /></a></p>

<p>Access the new E-commerce developers portal at <strong><a href="https://docs.cielo.com.br/english">docs.cielo.com.br</a></strong>.</p>

<blockquote>
  <p><strong>Warning</strong>: The content on this page is being discontinued and will not receive updates after 09/04/2024. Please visit the new documentation at <a href="https://docs.cielo.com.br/link-en/docs/link-and-checkout">docs.cielo.br</a>.</p>
</blockquote>

<hr />

<aside class="warning"> The following content has not been updated since 09/04/2024.</aside>

<p>This manual will guide the developer in integrating with the <strong>Checkout Cielo API</strong>. By integrating the Checkout API, you will be able to:</p>

<ul>
  <li>Configure your store and customize your payment page;</li>
  <li>Create a payment page via API;</li>
  <li>Query, capture and cancel transactions via API;</li>
  <li>Receive payment notifications.</li>
</ul>

<blockquote>
  <p>Not a developer? You can use Checkout via the Cielo website or the Cielo Gestão app. Find out more <a href="https://developercielo.github.io/tutorial/tutorial-checkout-link" target="_blank">in this tutorial</a>.</p>
</blockquote>

<h1 id="about-checkout-cielo">About Checkout Cielo</h1>

<p>Checkout Cielo is recommended for websites with shopping carts, that is, when the consumer browses the website and chooses one or more products to purchase. When finalizing the purchase, the consumer is redirected to a secure Cielo online payment page.</p>

<p>Checkout Cielo is a solution that brings together several payment processing services and generates a payments page that provides a high level of trust, following PCI security standards.</p>

<p>The great advantage of Checkout Cielo is the range of services aggregated in a secure transactional screen with only one technical integration via the API REST.</p>

<p><strong>Checkout has the following features:</strong></p>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Payment page</strong></td>
      <td>Checkout Cielo has its own transactional screen, with an optimized layout, shortening the steps to pay for your transactions.</td>
    </tr>
    <tr>
      <td><strong>Recurrence</strong></td>
      <td>Cielo Checkout has Scheduled Recurrence. All the store needs to do is define that a transaction must be repeated, and Checkout will execute it again at the defined interval.</td>
    </tr>
    <tr>
      <td><strong>Fraud analysis</strong></td>
      <td>Checkout provides fraud analysis of credit transactions without additional integration.</td>
    </tr>
    <tr>
      <td><strong>Various payment methods</strong></td>
      <td>Checkout Cielo has a wide range of payment methods:<br />Credit cards<br />Debit card<br />Boleto Bradesco and Banco do Brasil<br />Pix Cielo, Bradesco and Banco do Brasil</td>
    </tr>
    <tr>
      <td><strong>Integration with Button and QR Code</strong></td>
      <td>Without technical integration or programming, Checkout provides an integration that makes it possible to create a button to access the transactional screen. See more at <a href="https://developercielo.github.io/tutorial/tutorial-checkout-link" target="_blank">Checkout Tutorial</a></td>
    </tr>
    <tr>
      <td><strong>Transactional reports</strong></td>
      <td>Within the Cielo website, you can generate transactional reports that facilitate the administration of your sales:<br />Recurrence Report<br />Shoppers Report<br />Sales Statement<br />Sales Report</td>
    </tr>
    <tr>
      <td><strong>BIN Query</strong></td>
      <td>BIN Query is a card data search service, whether credit or debit, which identifies the characteristics of the card based on the first digits: brand, type, nationality, whether it is a corporate card, issuer and whether it is a pre-paid card.</td>
    </tr>
  </tbody>
</table>

<h2 id="payment-methods-accepted-at-cielo-checkout">Payment methods accepted at Cielo Checkout</h2>

<p>The current version of Checkout Cielo supports the following payment methods and card brands:</p>

<table>
  <thead>
    <tr>
      <th>PAYMENT METHOD</th>
      <th>BRANDS AND PROVIDERS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credit card</td>
      <td>Visa, Mastercard, American Express, Elo, Diners Club, Discover, JCB and Hipercard</td>
    </tr>
    <tr>
      <td>Debit card</td>
      <td>Visa, Mastercard and Elo</td>
    </tr>
    <tr>
      <td>Pix</td>
      <td>Cielo, Bradesco and Banco do Brasil</td>
    </tr>
    <tr>
      <td>Registered boleto</td>
      <td>Bradesco and Banco do Brasil</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: Checkout Cielo maximum limit of installments is 12 installments.</p>
</blockquote>

<h2 id="prerequisites-for-integration">Prerequisites for integration</h2>

<p>Checkout Cielo has a list of basic requirements for the integration process to be successful. Here are the points that must be ready before integration:</p>

<ol>
  <li>The store’s registration must be <strong>active</strong> with Cielo;</li>
  <li>A <strong>timeout</strong> needs to be defined in HTTP requests to Cielo. We recommend 30 seconds;</li>
  <li>The Root certificate of the certifying entity (CA) of our Web Service must be registered. See the section <a href="#extended-validation-certificate">Extended Validation Certificate</a> for more information.</li>
  <li>We recommend using the Chrome and Edge browsers for the web and Safari, Chrome and Samsung Internet for mobile, always in their most up-to-date versions.</li>
</ol>

<h2 id="api-checkout-cielo-flow">API Checkout Cielo flow</h2>

<p>In the API Checkout Cielo, the merchant sends a request to create the checkout screen and the API returns a URL to access the checkout page, called <code class="language-plaintext highlighter-rouge">CheckoutUrl</code>.
Check out more details about how the API works in the following flow:</p>

<p><img src="https://developercielo.github.io/images/checkout/checkout-images/checkout-fluxo-en.jpg" alt="Fluxo Geral Checkout Inglês" /></p>

<ol>
  <li>The shopper chooses the products in the store integrated into Checkout Cielo and clicks on <strong>Buy</strong>;</li>
  <li>The merchant sends the checkout page creation request to the Cielo Checkout API;</li>
  <li>The API Checkout Cielo returns the <code class="language-plaintext highlighter-rouge">CheckoutUrl</code>, which is the URL of the checkout page created based on the data sent by the merchant (such as shopper, product, delivery data and others);</li>
  <li>The store redirects the buyer to the URL returned by Cielo (checkout page). The screen shown is part of the Cielo secure payment environment;</li>
  <li>The shopper chooses the payment method, type of shipping and delivery address on the checkout page;</li>
  <li>Checkout Cielo redirects the shopper to the Return URL chosen by the merchant (if the merchant has configured a Return URL on the Cielo website);</li>
  <li>The merchant will be notified about the status of the transaction (if the store has configured a notification URL on the Cielo website);</li>
  <li>The store processes the purchase order using the notification data and, if the transaction is authorized, releases the order.</li>
</ol>

<blockquote>
  <p><strong>Important</strong>: Cielo Checkout does not notify shoppers about the status of their purchase. Cielo Checkout only notifies the merchant when there is a change in the payment status, thus allowing the merchant to decide when and how to inform its shopper about the delivery time and shipping process. To receive notifications, you must configure at least one type of notification URL in <strong><a href="https://developercielo.github.io/manual/checkout-cielo#merchant-settings">Merchant Settings</a>.</strong></p>
</blockquote>

<h2 id="endpoints">Endpoints</h2>

<p>The endpoints for integration with Cielo Checkout are presented in the following table:</p>

<table>
  <thead>
    <tr>
      <th>API</th>
      <th>URL</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API Checkout Cielo</strong></td>
      <td>https://cieloecommerce.cielo.com.br/api/public/v1/orders/</td>
      <td>Creation of the checkout page.</td>
    </tr>
    <tr>
      <td><strong>Cielo OAUTH2 Server</strong></td>
      <td>https://cieloecommerce.cielo.com.br/api/public/v2/token</td>
      <td>Authentication for querying, capturing and canceling transactions (creating <code class="language-plaintext highlighter-rouge">access_token</code>).</td>
    </tr>
    <tr>
      <td><strong>Transactional Control API</strong></td>
      <td>https://cieloecommerce.cielo.com.br/api/public/v2/</td>
      <td>Querying, capturing and canceling transactions.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Important</strong>: The Checkout API does not have a sandbox, but you can create test checkout pages by activating Test Mode on the Cielo website.</p>
</blockquote>

<h2 id="cielo-oauth-authentication">Cielo OAUTH Authentication</h2>

<p>Cielo OAUTH is an authentication process for Cielo APIs related to e-commerce. Cielo OAUTH uses the <strong><a href="https://oauth.net/2/" target="_blank">OAUTH2</a></strong> protocol for security. In it, it is necessary to first obtain an access token using your credentials and then send it to the Transactional Control API.</p>

<blockquote>
  <p>Authentication is only required for query, capture and cancellation operations.</p>
</blockquote>

<p>To use Cielo OAUTH, the following credentials are required:</p>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ClientId</code></td>
      <td>Key identifier provided by CIELO</td>
      <td>GUID</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ClientSecret</code></td>
      <td>Key that validates the ClientID. Provided by Cielo along with <code class="language-plaintext highlighter-rouge">ClientID</code></td>
      <td>string</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>To generate the <code class="language-plaintext highlighter-rouge">ClientID</code> and <code class="language-plaintext highlighter-rouge">ClientSecret</code>, see the Obtaining Credentials topic, below.</p>
</blockquote>

<h3 id="obtaining-credentials">Obtaining credentials</h3>

<p>To obtain the <code class="language-plaintext highlighter-rouge">ClientId</code> and <code class="language-plaintext highlighter-rouge">ClientSecret</code> credentials, follow the steps below:</p>

<ol>
  <li>After receiving the establishment number (EC) with authorization for Checkout, access the <a href="https://minhaconta2.cielo.com.br/login/" target="_blank">Cielo website</a> and login;</li>
  <li>Go to <strong>Ecommerce</strong> &gt; <strong>Checkout</strong> &gt; <strong>Configurações</strong> &gt; <strong>Dados Cadastrais</strong>;</li>
  <li>In the <strong>Contato técnico</strong> section, fill in the contact details of the person responsible for receiving the store’s keys. <em>ATTENTION: only enter the details of the person who can actually have access to your store’s keys, which are confidential information for each establishment</em>;</li>
  <li>Click on <strong>Gerar Credenciais de Acesso às APIs</strong>;</li>
  <li>The technical contact will receive an email with credentials.</li>
</ol>

<h3 id="obtaining-the-access-token">Obtaining the access token</h3>

<p>To gain access to Cielo services that use <strong>Cielo Oauth</strong>, you will need to obtain an access token, following the steps below:</p>

<ol>
  <li>Concatenate the <code class="language-plaintext highlighter-rouge">ClientId</code> and <code class="language-plaintext highlighter-rouge">ClientSecret</code>, <code class="language-plaintext highlighter-rouge">**ClientId:ClientSecret**</code>;</li>
  <li>Encode the result in <strong>Base64</strong>;</li>
  <li>Send the token creation request using the HTTP POST method.</li>
</ol>

<p><strong>Example of Concatenation</strong></p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ClientId</strong></td>
      <td>b521b6b2-b9b4-4a30-881d-3b63dece0006</td>
    </tr>
    <tr>
      <td><strong>ClientSecret</strong></td>
      <td>08Qkje79NwWRx5BdgNJsIkBuITt5cIVO</td>
    </tr>
    <tr>
      <td><strong>ClientId:ClientSecret</strong></td>
      <td><em>b521b6b2-b9b4-4a30-881d-3b63dece0006:08Qkje79NwWRx5BdgNJsIkBuITt5cIVO</em></td>
    </tr>
    <tr>
      <td><strong>Base64</strong></td>
      <td><em>YjUyMWI2YjItYjliNC00YTMwLTg4MWQtM2I2M2RlY2UwMDA2OjA4UWtqZTc5TndXUng1QmRnTkpzSWtCdUlUdDVjSVZP</em></td>
    </tr>
  </tbody>
</table>

<h3 id="request">Request</h3>

<p>The request must be sent only in the header.</p>

<aside class="request"><span class="method post">POST</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/token</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Basic {base64}"</span><span class="w">  
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Content-Type: application/x-www-form-urlencoded"</span><span class="w">  
</span><span class="err">grant_type=client_credentials</span><span class="w">
</span></code></pre></div></div>

<h3 id="response">Response</h3>

<p>The response will return the <code class="language-plaintext highlighter-rouge">access_token</code>, which must be used in Transactional Control API requests, for query, capture and cancellation operations.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w">
    </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6Ik1ldUNoZWNrb3V0IE1hc3RlciBLZXkiLCJjbGllbnRfaWQiOiJjODlmZGasdasdasdmUyLTRlNzctODA2YS02ZDc1Y2QzOTdkYWMiLCJzY29wZXMiOiJ7XCJTY29wZVwiOlwiQ2hlY2tvdXRBcGlcIixcIkNsYWltc1wiOltdfSIsInJvbGUiOiJasdasdasd291dEFwaSIsImlzc47I6Imh0dHBzOi8vYXV0aGhvbasdasdnJhc3BhZy5jb20uYnIiLCJhdWQiOiJVVlF4Y1VBMmNTSjFma1EzSVVFbk9pSTNkbTl0ZmasdsadQjVKVVV1UVdnPSIsImV4cCI6MTQ5Nzk5NjY3NywibmJmIjoxNDk3OTEwMjc3fQ.ozj4xnH9PA3dji-ARPSbI7Nakn9dw5I8w6myBRkF-uA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Access_token</code></td>
      <td>Used to access API services</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Token_type</code></td>
      <td>It will always be of the <code class="language-plaintext highlighter-rouge">bearer</code> type</td>
      <td>text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Expires_in</code></td>
      <td>Token validity in seconds. Approximately 20 minutes.</td>
      <td>int</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>The returned token (<code class="language-plaintext highlighter-rouge">access_token</code>) must be used in every query, capture and cancellation request as an authorization key. The <code class="language-plaintext highlighter-rouge">access_token</code> has a validity of 20 minutes (1200 seconds) and it is necessary to generate a new token every time the validity expires.</p>
</blockquote>

<h1 id="get-started">Get started</h1>

<p>To start your integration with the API Cielo Checkout, you will need:</p>

<ol>
  <li>Request the establishment code for Checkout Cielo;</li>
  <li>Define merchant settings (customization of the page, choice of payment methods and contract with the Post Office, if applicable);</li>
  <li>Configure a notification and status change URL for your store;</li>
  <li>Install the Extended Validation certificate;</li>
  <li>Send the first request for payment page creation;</li>
  <li>When there is a payment attempt at Checkout Cielo, you will receive a notification* with all data filled in on the payment page;</li>
  <li>If the transaction changes status, you will receive a status change notification*;</li>
  <li>To carry out tests, use Checkout Cielo Test Mode.</li>
</ol>

<p>*If you have configured the notification URL.</p>

<h1 id="merchant-settings">Merchant Settings</h1>

<p>Before setting up, you need to enable Cielo Checkout for your store.</p>

<h2 id="enabling-the-establishment-number-ec-for-checkout">Enabling the establishment number (EC) for Checkout</h2>

<ul>
  <li><strong>If you are not yet a Cielo customer or if you only use the POS terminal</strong>, access the <a href="https://www.cielo.com.br/" target="_blank">Cielo website</a> to activate the establishment code (EC) for Checkout;</li>
  <li><strong>If you are already a Cielo E-commerce customer</strong>, contact your commercial manager or Cielo Support.</li>
</ul>

<h2 id="setting-up-your-store">Setting up your store</h2>

<p><strong>Access store settings on the Cielo website</strong></p>

<p>Go to the <a href="https://minhaconta2.cielo.com.br/login/" target="_blank">Cielo website</a> and log in. Access <strong>E-commerce</strong> &gt; <strong>Checkout</strong> &gt; <strong>Configurações</strong> &gt; <strong>Configurações da loja</strong>.</p>

<h3 id="1-customize-the-appearance-of-the-payment-page">1. Customize the appearance of the payment page</h3>

<p>Insert the image of your store’s logo and choose a background color. Click on <strong>Salvar</strong>.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-aparencia-pagina-pagamento.png" alt="Aparência da Página de Pagemento" /></p>

<h3 id="2-configure-the-checkout-email-for-the-shopper">2. Configure the checkout email for the shopper</h3>

<p>If you do not want your end customer to receive an order completion email after payment, disable this option. Then click on <strong>Salvar</strong>.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-email-finalizacao.png" alt="E-mail de finalização para o comprador" /></p>

<h3 id="3-define-the-desired-payment-methods">3. Define the desired payment methods</h3>

<p>Select the payment methods you would like to make available to your customers. For credit cards, choose the maximum number of installments allowed. Then click <strong>Salvar</strong>.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-meios-de-pagamento.png" alt="Meios de Pagamento Ativos" /></p>

<aside class="notice">These settings apply to all payment pages created by your store.</aside>

<blockquote>
  <p>The number of installments available for payment must be the same as that shown in your Cielo registration. Consult E-commerce Support if you have any questions.</p>
</blockquote>

<h4 id="credit-card">Credit card</h4>

<p>Checkout Cielo allows the use of credit cards from the main national and international brands. This payment method is automatically available with the Cielo affiliation and can initially be used with the Checkout integration.</p>

<p>Credit card transactions will be included in the Cielo Checkout Backoffice as PENDING, AUTHORIZED, PAID, DENIED, EXPIRED OR CHARGEBACK depending on the result of the authorization with the bank. See possible credit card transaction statuses in the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_status85">Payment_status</a> table.</p>

<p>Credit card transactions need to be captured automatically or manually - it depends on what you choose on step [5. Configure capture and Antifraude].</p>

<blockquote>
  <p><strong>International Cards</strong>: Checkout Cielo accepts cards issued outside Brazil, however these cards do not have the ability to pay in installments. This is a limitation imposed by the issuing bank.</p>
</blockquote>

<h4 id="debit-card">Debit card</h4>

<p>Checkout Cielo allows the use of Mastercard, Visa and Elo debit cards. This payment method is automatically available with the Cielo affiliation and can initially be used with the Checkout integration.</p>

<p>Debit card transactions will be included on the Cielo website as <strong>Pago</strong> (paid), <strong>Não Autorizado</strong> (not authorized) or <strong>Não Finalizado</strong> (not finalized), depending on the result of authorization with the bank. See possible debit card transaction statuses in the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_status85">Payment_status</a> table.</p>

<h4 id="pix">Pix</h4>

<p>The Pix payment method is available for CNPJ-type establishments through two providers, Cielo or Bradesco.</p>

<blockquote>
  <p>To enable Pix Bradesco, contact support.</p>
</blockquote>

<p><strong>Enabling Pix on the Cielo website</strong></p>

<p>To use <strong>Pix</strong>, your <strong>registration must be enabled with the Pix</strong> payment method. To confirm your qualification, access the <a href="https://www.cielo.com.br/" target="_blank">Cielo portal</a> and click on <strong>Meu Cadastro</strong> &gt; <strong>Autorizações</strong> &gt; <strong>Pix</strong>.</p>

<p>If Pix is not enabled in your registration, the adhesion screen will be displayed if your establishment (EC) is eligible; After completing the Pix adhesion process, it will be possible to use Pix at Cielo Checkout.</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/adesao-pix.png" alt="Adesão ao Pix" /></p>

<p>See possible Pix transaction statuses in the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_status85">Payment_status</a> table.</p>

<h4 id="boleto">Boleto</h4>

<p>Checkout Cielo allows the use of Boletos from Bradesco and Banco do Brasil. To make boleto available as a payment method, request authorization from E-commerce Support.</p>

<p>The number of installments chosen for payment must be the same as that shown in your Cielo registration. Consult E-commerce support if you have any questions.</p>

<p>Boleto transactions will be included on the Cielo website as <strong>Não Finalizado</strong> (not finalized) or <strong>Pago</strong> (paid). Unlike other payment methods, boleto does not have a status update. The store must access the Backoffice Cielo website and modify the boleto status manually.</p>

<p>See possible boleto transaction statuses in the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_status85">Payment_status</a> table.</p>

<h4 id="qr-code-pay">QR Code Pay</h4>

<p>The <a href="https://www.cielo.com.br/qrcode/?gad=1&amp;gclid=EAIaIQobChMIp9qVhvLZ_wIVKTHUAR0Akws8EAAYASAAEgIVjfD_BwE&amp;gclsrc=aw.ds" target="_blank">QR Code Pay Cielo</a> allows payment through any digital wallet. When the shopper selects the QR Code Pay on the Checkout Cielo payment page and clicks <strong>Finalizar compra</strong> (finalize purchase), Checkout presents a QR Code to be scanned by the shopper using the digital wallet of their choice.</p>

<p>See possible QR Code Pau transaction statuses in the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_status85">Payment_status</a> table.</p>

<h3 id="4-configure-your-stores-return-notification-and-status-change-urls">4. Configure your store’s return, notification, and status change URLs</h3>

<p>You will need to fill in the return, notification and status change URLs. URLs must be created and defined by the store. Then click <strong>Salvar</strong>.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-urls-notificacao.png" alt="URLs de Notificação" /></p>

<ul>
  <li><strong>Return URL</strong>: after completing payment, the shopper can be redirected to a web page defined by the store. No data is exchanged or sent to this URL and its configuration is optional;</li>
  <li><strong><a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-finaliza%C3%A7%C3%A3o-da-transa%C3%A7%C3%A3o">Notification URL</a></strong>: corresponds to the transaction completion notification. It is the URL through which your store will receive notification with all cart data when the transaction is completed;</li>
  <li><strong><a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-mudan%C3%A7a-de-status">Status Change URL</a></strong>: corresponds to status change notification. It is the URL through which your store will receive the notification when an order has its status changed. The status change notification does not contain cart data, only order identification data.</li>
</ul>

<h3 id="5-configure-capture-and-antifraude">5. Configure capture and Antifraude</h3>

<p>A credit card transaction is sent to Cielo (acquirer) for authorization and will then be subjected to fraud analysis. Then, according to the fraud analysis result, the transaction can be captured automatically or manually.</p>

<p><img src="https://developercielo.github.io/images/checkout/checkout-images/checkout-fluxo-captura-af.png" alt="Análise de risco" /></p>

<p>When accessing your store settings, look for the Antifraude and automatic capture section. Select the desired option:</p>

<table>
  <thead>
    <tr>
      <th>Capture options</th>
      <th>Definition</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Nunca fazer a Captura Automática</em></td>
      <td>Never do Automatic Capture</td>
      <td>For every authorized credit card transaction, the store will be required to manually capture the transaction (capture request).</td>
    </tr>
    <tr>
      <td><em>Sempre fazer Captura Automática</em></td>
      <td>Always do Automatic Capture</td>
      <td>Every authorized low or medium risk credit card transaction will be automatically captured.</td>
    </tr>
    <tr>
      <td><em>Somente fazer captura Automática das transações de Baixo Risco no Antifraude</em></td>
      <td>Only automatically capture Low Risk transactions in Antifraude</td>
      <td>Every low-risk (authorized) credit card transaction will be captured automatically – medium-risk transactions will wait for manual capture.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>If the fraud analysis classifies the transaction as High Risk, it will be automatically canceled. Manual capture will not be possible.</p>
</blockquote>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-captura-e-antifraude.png" alt="Configuração de captura e Antifraude" /></p>

<p><strong>Authorized</strong> credit transactions will be sent for fraud analysis. All transactions classified as high risk will be automatically cancelled, without exception.</p>

<table>
  <thead>
    <tr>
      <th>ANTIFRAUDE STATUS</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Baixo Risco</code></td>
      <td>Low risk of being a fraudulent transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Médio Risco</code></td>
      <td>Medium risk of being a fraudulent transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Alto Risco</code></td>
      <td>High risk of being a fraudulent transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Não finalizado</code></td>
      <td>The query could not be finalized.</td>
    </tr>
  </tbody>
</table>

<p>On the Cielo website, the analysis will be presented in <strong>Detalhes do Pedido</strong>:</p>

<p><img src="https://developercielo.github.io/images/checkout-cielo-analise-risco.png" alt="Análise de risco" /></p>

<p>You can view the Antifraude status by accessing the purchase details, in the <strong>Pedidos</strong> tab and clicking <strong>+</strong>.</p>

<h3 id="6-configure-correios-shipping-options">6. Configure Correios shipping options</h3>

<aside class="warning">Correios shipping service is currently unavailable. If a request with this shipping option is sent, you will receive a return with error 400 and the message: "The shipping service by post is unavailable." If you use the service on your payment links or checkout pages, change the shipping type to the other available options.</aside>

<p>If your store works with the delivery of <strong>physical products</strong> (those that require shipping) using Correios, enter your Correios login and password and select the desired services, such as Sedex and PAC types.</p>

<p>If your store works with digital materials, services or payments, that is, sales that do not require shipping, skip this step.</p>

<blockquote>
  <p>It is also possible to use other shipping services contracted by the store. In this case, submit the <code class="language-plaintext highlighter-rouge">Shipping.Services</code> node when creating the payment page. Find out more at <a href="https://developercielo.github.io/manual/checkout-cielo#definindo-o-frete">Defining shipping</a>.</p>
</blockquote>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-configuracao-frete-correios.png" alt="Configuração do Frete Correios" /></p>

<h3 id="default-settings">Default settings</h3>

<p>If you do not fill in the store settings, Checkout will consider the following pattern:</p>

<ul>
  <li>The option to send an email to the shopper will be activated;</li>
  <li>The option to accept international cards will be activated;</li>
  <li>The minimum installment amount will be R$5.00;</li>
  <li>Credit and debit payment methods will have 12 installments enabled (if your Cielo registration allows it);</li>
  <li>The debit payment method will be enabled;</li>
  <li>The QR Code Crédito payment method will have one installment enabled;</li>
  <li>Boleto will not have a minimum value or defined discount (zero);</li>
  <li>The <strong>Always do Automatic Capture</strong> option will only be enabled for transactions that are not considered high risk;</li>
  <li>The Correios shipping login will be disabled.</li>
</ul>

<h1 id="extended-validation-certificate">Extended Validation Certificate</h1>

<h2 id="what-is-ssl-certificate">What is SSL Certificate?</h2>

<p>The SSL Certificate for web server offers authenticity and integrity of website data, giving e-commerce customers the guarantee that they are actually accessing the website they want, not a fraudster website.</p>

<p>Specialized companies are responsible for validating the domain and, depending on the type of certificate, they are also responsible for the validation of the entity that owns the domain.</p>

<h3 id="internet-explorer">Internet Explorer</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-ie.jpg" alt="EV Internet Explorer Certificate" /></p>

<h3 id="firefox">Firefox</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-firefox.jpg" alt="EV Firefox Certificate" /></p>

<h3 id="google-chrome">Google Chrome</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-chrome.jpg" alt="EV Google Chrome Certificate" /></p>

<h2 id="what-is-ev-ssl-certificate">What is EV SSL Certificate?</h2>

<p>The EV Certificate has been recently released on market and ensures a higher level of security for e-commerce customers.</p>

<p>It is a certificate of greater confidence and when https is accessed the address bar will turn green, giving more reliability for site visitors.</p>

<h2 id="how-to-install-the-extended-validation-certificate-on-the-store-server">How to install the Extended Validation Certificate on the Store server?</h2>

<p>Simply install the following three files into the server’s Trustedstore. Cielo does not offer support for installing the Certificate. If you are not sure how to install the EV Certificate, you should contact your server supplier’s support.</p>

<ul>
  <li><a href="https://developercielo.github.io/en/attachment/root-2024.zip">Root Certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/intermediate-2024.zip">Intermediate certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/cielo-ecommerce-2024.zip">E-Commerce Cielo certificate</a></li>
</ul>

<h2 id="step-by-step-for-installation">Step-by-Step for Installation</h2>

<h3 id="installation-on-the-virtual-store-server">Installation on the Virtual Store Server</h3>

<p>The step-by-step of the EV Certificate installation must done in contact with your server vendor support.</p>

<aside class="warning">Cielo does not offer support for the installation of the Certificate.</aside>

<h3 id="client-access-to-virtual-store">Client Access to Virtual Store</h3>

<p>Usually, the browser automatically updates the Certificate. If it does not and the client calls for help, the following steps must be informed:</p>

<h4 id="step-1">Step 1</h4>

<p>Save the three files below into a new folder, or into a folder that can be easily located, as it will be used later:</p>

<ul>
  <li><a href="https://developercielo.github.io/en/attachment/root-2024.zip">Root Certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/intermediate-2024.zip">Intermediate certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/cielo-ecommerce-2024.zip">E-Commerce Cielo certificate</a></li>
</ul>

<h4 id="step-2">Step 2</h4>

<p>In “Internet Explorer”, click on “Tools” menu and go to “Internet Options”:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-1.jpg" alt="Install IE" /></p>

<p>In “Firefox”, click on “Open Menu” menu and go to “Advanced” and “Options”:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-1.jpg" alt="Install FF" /></p>

<p>In “Chrome”, click on “Customize and Control Google Chrome” and go to “Settings” and “Show advanced settings … “Change Proxy Settings and “Content” and Certificates:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-gc-1.jpg" alt="Install GC" /></p>

<h4 id="step-3">Step 3</h4>

<p>In Internet Explorer, under “Certificates”, click on “Import”.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-2.jpg" alt="Install IE" /></p>

<p>In Firefox, click on “View Certificates”, click on “Import”</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-2.jpg" alt="Install FF" /></p>

<p>In Chrome, click on “Manage Certificates”, click on “Import”</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-gc-2.jpg" alt="Install GC" /></p>

<h4 id="step-4">Step 4</h4>

<p>In Internet Explorer and Chrome “Certificate Import Wizard”, click on “Next”.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-3.jpg" alt="Install IE and GC" /></p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-4.jpg" alt="Install IE and GC" /></p>

<p>In Firefox “Servers Tab”, click on “Import”</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-3.jpg" alt="Install FF" /></p>

<h4 id="step-5">Step 5</h4>

<p>In Chrome and Internet Explorer “Certificate Import Wizard”, click on “Search”, look for the folder where the files are and select the file “cieloecommerce.cielo.com.br.crt”, click on “Open” and then “Next”.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-5.jpg" alt="Install IE and GC" /></p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-6.jpg" alt="Install IE and GC" /></p>

<h4 id="step-6">Step 6</h4>

<p>Select the desired option: add the Certificate in a default folder or search for the folder of your choice.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-7.jpg" alt="Install IE and GC" /></p>

<h4 id="step-7">Step 7</h4>

<p>Click on “Finish”.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-8.jpg" alt="Install IE and GC" /></p>

<h4 id="step-8">Step 8</h4>

<p>Click on “Ok” to complete the import.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-9.jpg" alt="Install IE and GC" /></p>

<aside class="notice">In Firefox there is no Successfull Import message, it only completes the import.</aside>

<p>The Certificate may be viewed in the default tab “Other People” or at the one chosen by the customer.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-10.jpg" alt="Install IE and GC" /></p>

<h4 id="step-9">Step 9</h4>

<p>Repeat the same procedure for the 3 sent files.</p>

<h1 id="test-mode">Test Mode</h1>

<p>Because it is a non-financial call, the Checkout API does not have a sandbox to test the creation of payment pages. Payment pages must be created by registrating on production. Enrollment can be done through the Cielo website or through a request from the establishment’s commercial manager.</p>

<p>Financial tests can be performed by activating test mode in your store settings.</p>

<h2 id="activating-test-mode">Activating Test Mode</h2>

<p>Test mode can be activated in the <strong>Configurações</strong> tab, by enabling the <strong>Modo Teste</strong> checkbox. Test mode will only start when the selection is saved.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-modotesteativo.png" alt="Modo Teste Ativo selecionado" /></p>

<p>After saving, a red stripe will be displayed at the top of the screen. It will be displayed on all Checkout screens.</p>

<p>This stripe indicates that your store is now operating in a test environment, that is, every transaction carried out in this mode will be considered a test.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-modoteste-tarjavermelha.png" alt="Modo Teste Ativo Tarja Vermelha" /></p>

<h2 id="test-transactions">Test transactions</h2>

<p>All transactions carried out in test mode will be displayed as normal transactions in the <strong>Pedidos</strong> tab, however, they will be marked as test transactions and will not be counted together with transactions carried out outside the test environment.</p>

<p><img src="https://developercielo.github.io/images/checkout/superlink/superlink-transacoes-modoteste.png" alt="Lista de Transações no Modo Teste" /></p>

<p>These transactions will have the test symbol differentiating them from your other transactions. They can be captured or canceled using the same procedures as real transactions.</p>

<blockquote>
  <p><strong>IMPORTANT</strong>:<br /></p>
  <ul>
    <li>When releasing your store to make sales to your customers, make sure that <strong>Test Mode is disabled</strong>;<br /></li>
    <li>Transactions carried out in Test Mode can be completed normally, but will not be deducted from the customer’s card and cannot be transferred to the standard sales environment.</li>
  </ul>
</blockquote>

<h2 id="how-to-make-transactions-in-test-mode">How to make transactions in test mode</h2>

<p>After activating test mode, transactions occur normally. The creation of the payment page can be done using the same parameters as the production environment, however, the payment methods to be used will be simulated means.</p>

<p>To carry out test transactions with different payment methods, follow the following rules:</p>

<h3 id="credit-or-debit-card">Credit or debit card</h3>

<p>To test credit or debit cards, it is necessary to use a card that follows the <em>Luhn algorithm</em> and which the final number corresponds to the desired card authorization status (see details in the table below).</p>

<p><strong>Credit or debit card authorization status</strong></p>

<table>
  <thead>
    <tr>
      <th>DESIRED TRANSACTION STATUS</th>
      <th>CARD NUMBERS FOR PERFORMING TESTS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Authorized</td>
      <td>Cards ending with 0 to 4.<br />E.g.:<br />XXXXXXXXXXXXXXX0<br />XXXXXXXXXXXXXXX1<br />XXXXXXXXXXXXXXX2<br />XXXXXXXXXXXXXXX3<br />XXXXXXXXXXXXXXX4</td>
    </tr>
    <tr>
      <td>Not Authorized</td>
      <td>Cards ending with 5 to 9.<br />E.g.:<br />XXXXXXXXXXXXXXX5<br />XXXXXXXXXXXXXXX6<br />XXXXXXXXXXXXXXX7<br />XXXXXXXXXXXXXXX8<br />XXXXXXXXXXXXXXX9</td>
    </tr>
  </tbody>
</table>

<p><strong>Example</strong>: 5404434242930100 = <strong>Authorized</strong></p>

<h3 id="boleto-1">Boleto</h3>

<p>To test boleto transactions, carry out the purchase process normally without any changes to the procedure. The boleto generated in test mode will always be a simulated boleto.</p>

<h1 id="creating-the-payment-page">Creating the payment page</h1>

<p>In integration via API, the payment page is created based on sent data that forms a shopping cart. This data is divided into the following main nodes:</p>

<table>
  <thead>
    <tr>
      <th>NODE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart</code></td>
      <td>Contains data on the products to be sold.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping</code></td>
      <td>Contains data on the type of shipping to be charged. It is influenced by the <code class="language-plaintext highlighter-rouge">Cart</code> node.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment</code></td>
      <td>Contains information that influences the amount charged. Does not contain information about payment methods.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer</code></td>
      <td>Contains the shopper’s data. Not required on integration, but required on the payment screen. We suggest sending it to speed up the purchasing process.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Options</code></td>
      <td>Controls optional Checkout features. Not mandatory.</td>
    </tr>
  </tbody>
</table>

<p>After sending the cart data, Checkout will send a response containing a link to the payment page in the <code class="language-plaintext highlighter-rouge">CheckoutUrl</code> field.</p>

<blockquote>
  <p><strong>Important</strong>: The payment page creation request does not create a transaction. The returned URL (<code class="language-plaintext highlighter-rouge">CheckoutUrl</code>) is just a “pre-order” indicating that the payment page is ready to be used. The transaction is only created when the shopper clicks <strong>Finalizar</strong> on the Checkout screen.</p>
</blockquote>

<h2 id="request-1">Request</h2>

<p>Check out an example of a request to create a payment page on Checkout Cielo.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/orders</span></aside>

<p><strong>Parameters in the header</strong></p>

<p>All requests sent to Cielo must be authenticated by the merchant. Authentication for creating the payment page consists of sending the <code class="language-plaintext highlighter-rouge">MerchantId</code> in the request header:</p>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>TYPE</th>
      <th>REQUIRED</th>
      <th>SIZE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>GUID</td>
      <td>Yes</td>
      <td>36</td>
      <td>Unique store identifier provided by Cielo after store affiliation. Format: 00000000-0000-0000-0000-000000000000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-type</code></td>
      <td>alphanumeric</td>
      <td>Yes</td>
      <td>n/a</td>
      <td>Type of content of the message to be sent. Use: “application/json”</td>
    </tr>
  </tbody>
</table>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nomefantasia"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProdutoExemplo01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asset"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SourceZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TargetZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21911130"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FixedAmount"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Motoboy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Carrier"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPS Express"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Carrier"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Cambui"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apto 201"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Freguesia"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MaxNumberOfInstallments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"84261300206"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test de Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21987654321"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Settings"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Parameters in the body</strong></p>

<p><strong>IMPORTANT</strong>: The order identification number (<code class="language-plaintext highlighter-rouge">OrderNumber</code>) does not change throughout the transactional flow but an additional number could be generated for the order and used during the transaction. This number will only be different in case of non-compliance with the acquirer’s rules or in case of order identification numbers (<code class="language-plaintext highlighter-rouge">OrderNumber</code>) being repeated in less than 24 hours.</p>

<p>For your order number to be sent in the transaction, follow the following formatting standards:</p>
<ul>
  <li><strong>Type of field</strong>: string;</li>
  <li><strong>Minimum size</strong>: 1;</li>
  <li><strong>Maximum size</strong>: 20;</li>
  <li><strong>Allowed</strong>: letters (a-z, A-Z) and numbers (0-9);</li>
  <li><strong>Not allowed</strong>: symbols and special characters, including blank spaces;</li>
  <li>Do not repeat the number in less than 24 (twenty-four) hours.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">OrderNumber</code></td>
      <td>Order number sent by the store. <br />If it is not sent, Checkout Cielo will generate a number, which will be viewed by the consumer.</td>
      <td>alphanumeric <br /><em>For reconciliation purposes, the characters allowed are only a-z, A-Z, 0-9, special characters and blank spaces are not allowed.</em></td>
      <td>64<br /><em>For reconciliation purposes, the maximum size is 20.</em></td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Description to be presented on the cardholder’s credit card statement.</td>
      <td>alphanumeric</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code></td>
      <td>Required if <code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code> is greater than or equal to zero.</td>
      <td>alphanumeric</td>
      <td>255</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code></td>
      <td>Required if <code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code> is Amount or Percent.</td>
      <td>number</td>
      <td>18</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Name</code></td>
      <td>Name of the item in the cart.Example: Order ABC.</td>
      <td>alphanumeric</td>
      <td>128</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Description</code></td>
      <td>Description of the item in the cart. Example: 50 pens - R$30.00</td>
      <td>alphanumeric</td>
      <td>256</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.UnitPrice</code></td>
      <td>Unit price of the product in cents. Example: R$ 1.00 = 100</td>
      <td>number</td>
      <td>18</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Quantity</code></td>
      <td>Quantity of the item in the cart. Example: 1.</td>
      <td>number</td>
      <td>9</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Type</code></td>
      <td>Type of the item in the cart.<br />E.g.:<br />Asset<br />Digital<br />Service<br />Payment</td>
      <td>alphanumeric</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Sku</code></td>
      <td>Product identifier.</td>
      <td>alphanumeric</td>
      <td>32</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Weight</code></td>
      <td>Product weight.</td>
      <td>number</td>
      <td>9</td>
      <td>Required if <code class="language-plaintext highlighter-rouge">Shipping.Type</code> is “Correios”**.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoDiscount</code></td>
      <td>Discount, in percentage, for payments to be made by boleto.</td>
      <td>number</td>
      <td>3</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FirstInstallmentDiscount</code></td>
      <td>Discount, in percentage, for payments by credit card.</td>
      <td>number</td>
      <td>3</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code></td>
      <td>Defines maximum number of installments displayed on the payment page.</td>
      <td>number</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Shopper identification (CPF or CNPJ). If sent, this amount is already filled in on the Cielo Checkout screen. <em>Not required in the API, but required in the transactional screen</em>.</td>
      <td>number</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.FullName</code></td>
      <td>Full name of the shopper. <em>Not required in the API, but required in the transactional screen</em>.</td>
      <td>alphanumeric</td>
      <td>288</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Email of the shopper. If sent, this amount is already filled in on the Cielo Checkout screen. <em>Not required in the API, but required in the transactional screen</em>.</td>
      <td>alphanumeric</td>
      <td>64</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Phone</code></td>
      <td>Phone of the shopper. If sent, this amount is already filled in on the Cielo Checkout screen. <em>Not required in the API, but required in the transactional screen</em>.</td>
      <td>number</td>
      <td>11</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Options.ReturnUrl</code></td>
      <td>Fixed URL defined by the store that can be registered in the Checkout backoffice. After completing payment, the shopper can be redirected to a web page defined by the store.</td>
      <td>string</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Type</code></td>
      <td>Shipping type:<br />Correios<br />FixedAmount<br />Free<br />WithoutShippingPickUp<br />WithoutShipping</td>
      <td>alphanumeric</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.SourceZipCode</code></td>
      <td>ZIP code of origin of the shopping cart. Required if <code class="language-plaintext highlighter-rouge">Shipping.Type</code> is “Correios”**.</td>
      <td>number</td>
      <td>8</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.TargetZipCode</code></td>
      <td>CEP of shopper’s shipping address.</td>
      <td>number</td>
      <td>8</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Street</code></td>
      <td>Street, avenue, etc., of the shopper’s delivery address.</td>
      <td>alphanumeric</td>
      <td>256</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Number</code></td>
      <td>Shopper’s shipping address number.</td>
      <td>alphanumeric</td>
      <td>8</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Complement</code></td>
      <td>Complement of the shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.District</code></td>
      <td>Shopper’s shipping address neighborhood.</td>
      <td>alphanumeric</td>
      <td>64</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.City</code></td>
      <td>City of shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>64</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.State</code></td>
      <td>State (UF) of the shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>2</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Name</code></td>
      <td>Shipping service name.</td>
      <td>alphanumeric</td>
      <td>128</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Price</code></td>
      <td>Shipping service price in cents. E.g. R$ 1.00 = 100.</td>
      <td>number</td>
      <td>18</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Deadline</code></td>
      <td>Delivery time (in days).</td>
      <td>number</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Package</code></td>
      <td>Package type:<br />“Box”: box<br />“Rol”: cylinder or envelope. Find out more at <a href="#### Correios shipping calculation">Correios shipping calculation</a>**</td>
      <td>alphanumeric</td>
      <td>Whole</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Length</code></td>
      <td>Package length. Find out more in <a href="#### Correios shipping calculation">Correios shipping calculation</a>**.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Height</code></td>
      <td>Height of the package sent. Required if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Box”</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Width</code></td>
      <td>Package width. Required if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Box” or “Envelope”. Find out more in <a href="#### Correios shipping calculation">Correios shipping calculation</a>**.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Diameter</code></td>
      <td>Package diameter. Mandatory if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Rol”. Find out more in <a href="#### Correios shipping calculation">Correios shipping calculation</a>**.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
  </tbody>
</table>

<p>*Not required, but submission is recommended.</p>
<aside class="warning">**Correios shipping service is currently unavailable. If a request with this shipping option is sent, you will receive a return with error 400 and the message: "The shipping service by post is unavailable." If you use the service on your payment links or checkout pages, change the shipping type to the other available options.</aside>

<blockquote>
  <p>See more information about the <code class="language-plaintext highlighter-rouge">Shipping</code> node in <a href="https://developercielo.github.io/manual/checkout-cielo#definindo-o-frete">Defining shipping</a>.</p>
</blockquote>

<h2 id="response-1">Response</h2>

<p>There are only two response options in API integration: success or error.</p>

<blockquote>
  <p><strong>Important</strong>: The payment page creation request does not create a transaction, but rather the payment page URL (<code class="language-plaintext highlighter-rouge">CheckoutUrl</code>). The success or error response refers to the creation of the payment page and is not related to the transaction.</p>
</blockquote>

<p>✅ <strong>Success</strong>: in case of success, the response will be the content of the request plus the link that leads to the transactional screen (<code class="language-plaintext highlighter-rouge">CheckoutUrl</code>), highlighted in the following example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CheckoutUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/transacional/order/index?id=123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Profile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CheckoutCielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CheckoutUrl</code></td>
      <td>URL of the transactional screen. The shopper must be directed to this environment to complete the transaction</td>
      <td>string</td>
      <td>255</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Profile</code></td>
      <td>Retailer profile: fixed “CheckoutCielo”.</td>
      <td>string</td>
      <td>16</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Version</code></td>
      <td>Version of the order creation service (version: 1).</td>
      <td>string</td>
      <td>Yes</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<p>❌ <strong>Error</strong>: in case of error, the API returns the following message:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has occurred."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Message</code></td>
      <td>Message describing the error.</td>
      <td>string</td>
      <td>254</td>
    </tr>
  </tbody>
</table>

<h2 id="creating-payment-in-installments">Creating payment in installments</h2>

<p><strong>Checkout Cielo</strong> allows merchants to carry out credit transactions in up to 12 installments.</p>

<blockquote>
  <p><strong>Important</strong>: Checkout is limited to up to 12 installments, even if your Cielo membership supports higher amounts. If the value shown in <strong>Configurações da loja</strong> on the Cielo website is less than 12, contact Cielo Support and check your Affiliation configuration.</p>
</blockquote>

<p>In this option, the merchant can configure the number of installments per sale. Checkout calculates installments considering the total value and limit of installments sent via API.</p>

<blockquote>
  <p><strong>Attention</strong>: The number of desired installments must be less than the quantity registered in <strong>Configurações da loja</strong> (merchant settings) on the Cielo website.</p>
</blockquote>

<p><strong>Characteristics</strong></p>

<ul>
  <li>The merchant sends the maximum number of installments he wishes to display to the shopper;</li>
  <li>The shipping cost is added to the installment payment.</li>
</ul>

<p>Installments via API are carried out by sending the <code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code> field within the <code class="language-plaintext highlighter-rouge">Payment</code> node. This will force Checkout to recalculate the installment amount. Below is an example of the node:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"MaxNumberOfInstallments"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code></td>
      <td>Defines maximum number of installments displayed on the payment page.</td>
      <td>number</td>
      <td>2</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h2 id="applying-discounts">Applying discounts</h2>

<p>Checkout Cielo allows the store to apply specific discounts to both the cart and payment methods. The discounts available at Checkout Cielo are:</p>

<table>
  <thead>
    <tr>
      <th>DISCOUNT</th>
      <th>DESCRIPTION</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Carrinho</strong></td>
      <td>Applies the discount to the entire cart, regardless of the payment method.</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Meio de pagamento - boleto</strong></td>
      <td>Apply the discount when the chosen payment method is boleto.</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Meio de pagamento - crédito à vista</strong></td>
      <td> </td>
      <td>Applies the discount when the chosen payment method is a credit card with one installment.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: You can apply discounts via API or Cielo website. If a discount value is sent on the API, this will be the value considered, even if the Cielo website has another value registered.</p>
</blockquote>

<h4 id="discount-in-cart">Discount in cart</h4>

<p>To send a discount on the cart, simply send the <code class="language-plaintext highlighter-rouge">Discount</code> node within the <code class="language-plaintext highlighter-rouge">Cart</code> node:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code></td>
      <td>Type of discount to be applied: “Amount” (value) or “Percent” (percentage).<br />Required if <code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code> is greater than or equal to zero.</td>
      <td>alphanumeric</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code></td>
      <td>Discount value to be applied: “Amount” (value) or “Percent” (percentage). Required if <code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code> is “Amount” or “Percent”.</td>
      <td>number</td>
      <td>18</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="discount-by-payment-method">Discount by payment method</h4>

<p>To send a discount on the <strong>invoice and/or credit card</strong> send the corresponding field within the <code class="language-plaintext highlighter-rouge">Payment</code> node:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">BoletoDiscount</code> for boleto;</li>
  <li><code class="language-plaintext highlighter-rouge">FirstInstallmentDiscount</code> for credit card in only one installment.</li>
</ul>

<p><strong>Example</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FirstInstallmentDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoDiscount</code></td>
      <td>Discount, in percentage, for payments to be made by boleto.</td>
      <td>number</td>
      <td>3</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.FirstInstallmentDiscount</code></td>
      <td>Discount, in percentage, for payments by credit card with only one installment.</td>
      <td>number</td>
      <td>3</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h2 id="defining-shipping">Defining shipping</h2>

<aside class="warning">**Correios shipping service is currently unavailable. If a request with this shipping option is sent, you will receive a return with error 400 and the message: "The shipping service by post is unavailable." If you use the service on your payment links or checkout pages, change the shipping type to the other available options.</aside>

<p>Cielo Checkout allows you to define five shipping options in the <code class="language-plaintext highlighter-rouge">Shipping.Type</code> parameter.</p>

<table>
  <thead>
    <tr>
      <th>SHIPPING TYPE</th>
      <th>VALUE OF PARAMETER <code class="language-plaintext highlighter-rouge">Shipping.Type</code></th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Fixed shipping</strong></td>
      <td>“FixedAmount”</td>
      <td>Fixed amount sent by the merchant. Used if the merchant has its own delivery method.</td>
    </tr>
    <tr>
      <td><strong>Free shipping</strong></td>
      <td>“Free”</td>
      <td>Does not perform shipping calculations and displays “Free Shipping” on the transactional screen.</td>
    </tr>
    <tr>
      <td><strong>Store Pickup</strong></td>
      <td>“WithoutShippingPickUp”</td>
      <td>Deemed <strong><em>Store Pickup</em></strong>.</td>
    </tr>
    <tr>
      <td><strong>No shipping</strong></td>
      <td>“WithoutShipping”</td>
      <td>No shipping charges (applicable to services and digital products).</td>
    </tr>
    <tr>
      <td><strong>Post office</strong></td>
      <td>“Correios”</td>
      <td>Uses the Correios API to calculate the cost. The calculation value will depend on the contract used (informed in the Merchant Settings) and the type of integration for calculation.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: Options for multiple shipping in the Post Office category must be selected within <strong>Configurações da loja</strong> (merchant settings) on the Cielo website.</p>
</blockquote>

<p>Check out the nodes that form the shipping information below:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Shipping</code>: base node. It is mandatory for integration via API. It defines the types of freight to be used</li>
</ul>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Type</code></td>
      <td>Shipping type:<br />Correios<br />FixedAmount<br />Free<br />WithoutShippingPickUp<br />WithoutShipping</td>
      <td>alphanumeric</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.SourceZipCode</code></td>
      <td>ZIP code of origin of the shopping cart. Required if <code class="language-plaintext highlighter-rouge">Shipping.Type</code> is “Correios”.</td>
      <td>number</td>
      <td>8</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.TargetZipCode</code></td>
      <td>CEP of shopper’s shipping address.</td>
      <td>number</td>
      <td>8</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Shipping.Address</code>: shipping address information. Not required in the API contract, but we suggest that this data be sent if it has already been collected within the store environment. If they have not been collected, the payment page will display address fields for the shopper to fill out.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Street</code></td>
      <td>Street, avenue, etc., of the shopper’s delivery address.</td>
      <td>alphanumeric</td>
      <td>256</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Number</code></td>
      <td>Shopper’s shipping address number.</td>
      <td>alphanumeric</td>
      <td>8</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Complement</code></td>
      <td>Complement of the shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.District</code></td>
      <td>Shopper’s shipping address neighborhood.</td>
      <td>alphanumeric</td>
      <td>64</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.City</code></td>
      <td>City of shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>64</td>
      <td>No*</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.State</code></td>
      <td>State (UF) of the shopper’s shipping address.</td>
      <td>alphanumeric</td>
      <td>2</td>
      <td>No*</td>
    </tr>
  </tbody>
</table>

<p>*Not required, but submission is recommended</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Shipping.Services</code>: used for fixed shipping, such as shipping services contracted by the store.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Name</code></td>
      <td>Shipping service name.</td>
      <td>alphanumeric</td>
      <td>128</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Price</code></td>
      <td>Shipping service price in cents. Ex: R$ 1.00 = 100.</td>
      <td>number</td>
      <td>18</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Deadline</code></td>
      <td>Delivery time (in days).</td>
      <td>number</td>
      <td>9</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="calculation-of-correios-shipping">Calculation of Correios shipping</h3>

<aside class="warning">**Correios shipping service is currently unavailable. If a request with this shipping option is sent, you will receive a return with error 400 and the message: "The shipping service by post is unavailable." If you use the service on your payment links or checkout pages, change the shipping type to the other available options.</aside>

<p>Shipping calculation is done using the Correios API and can be of two types:</p>

<ul>
  <li><strong>Shipping with volume</strong>: requires the merchant to inform the dimensions of the package that will be sent with the goods;</li>
  <li><strong>Shipping without volume</strong>: only considers the weight of the cart as the calculation basis for delivery.</li>
</ul>

<p>To use shipping with volume, submit the <code class="language-plaintext highlighter-rouge">Shipping.Measures</code> node, following the integration rules via REST API.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Shipping.Measures</code>: indicates the package measurements.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Package</code></td>
      <td>Package type:<br />“Box”: box<br />“Roll”: cylinder or envelope.</td>
      <td>alphanumeric</td>
      <td>Whole</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Length</code></td>
      <td>Package length</td>
      <td>number</td>
      <td>Whole</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Height</code></td>
      <td>Height of the package sent. Required if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Box”.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Width</code></td>
      <td>Package width. Required if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Box” or “Rol”.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Diameter</code></td>
      <td>Package diameter. Required if <code class="language-plaintext highlighter-rouge">Shipping.Package</code> is “Rol”.</td>
      <td>number</td>
      <td>Whole</td>
      <td>Conditional</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>To calculate shipping via the Correios, it is necessary to respect the measurements defined by the contract used by the merchant. For more information about the dimensions and weights allowed, we suggest that you validate the store contract in <a href="https://www.correios.com.br/enviar/precisa-de-ajuda/arquivos/contratos-formalizados-ate-fevereiro-de-2020/18-termo-de-condicoes-de-prestacao-de-servicos-de-encomendas-nacio-ns-sedex-e-pac.pdf/view" target="_blank">Termo de Condições de Prestação de Serviços de Encomendas Nacionais dos Correios</a> (Term of Conditions for the Provision of National Correios Services)</p>
</blockquote>

<h1 id="recurrence">Recurrence</h1>

<p><strong>Recurrence</strong> is an automatic scheduling process for credit transactions, that is, it is a transaction that will be repeated automatically, without the need for the shopper to access the transactional screen, in accordance with the rules defined at the time of scheduling.</p>

<blockquote>
  <p>If one of the transactions is not authorized, Checkout Cielo automatically retrys; for more details about automatic retry, see the <a href="https://developercielo.github.io/en/manual/checkout-cielo#retry-of-recurrences">Recurrence Retry</a> section</p>
</blockquote>

<p>Recurring transactions are ideal for business models that involve the <strong>concept of subscription, plan or monthly fee</strong> in their form of <strong>billing</strong>, such as:</p>

<ul>
  <li>Schools;</li>
  <li>Gyms;</li>
  <li>Publishers;</li>
  <li>Hosting services.</li>
</ul>

<blockquote>
  <p><strong>The recurring transaction is different from an installment transaction.</strong> In the recurring transaction, the limit of the customer’s card is only committed by the amount of the subscription in the chosen period, that is, if it is monthly, only the amount of the monthly fee on the customer’s card will be committed.
-Insurance subscription in the amount of R$ 100.00 and with monthly billing for one year: every month, only R$ 100.00 of the card limit will be committed.<br /></p>

  <p>In the installment transaction, the limit committed on the customer’s card is the  It is the total amount of the sale, regardless of the amount of the value of each installment.
-Sale of a refrigerator in the amount of R$ 2000.00 in 10 installments of R$ 200.00: the entire amount of the purchase will be committed - (R$ 2000.00) - even if only R$ 200.00 per month is charged on the customer’s card statement.</p>
</blockquote>

<h2 id="creating-a-recurring-payment">Creating a recurring payment</h2>

<p>A recurring transaction in Checkout Cielo has two settings: <strong>Interval</strong> and <strong>End date</strong>.</p>

<ul>
  <li><strong>Interval</strong>: repetition pattern and time interval between each transaction. This time interval between transactions can be monthly, bimonthly, quarterly, semi-annual and annual;</li>
  <li><strong>End date</strong>: date on which the recurrence process stops occurring.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Interval between each recurring transaction</td>
      <td>“Monthly”;<br />“Bimonthly”;<br />“Quarterly”;<br />“SemiAnnual”;<br />“Annual”</td>
      <td>alphanumeric</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Recurrence end date. If not sent, the recurrence ends only if cancelled.</td>
      <td>date (YYYY-MM-DD format)</td>
      <td>255</td>
      <td>No</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>The shopper’s credit card data is stored securely at Cielo, allowing it to be reused in a recurring transaction. This data is not accessed by the retailer and this intelligence is controlled by Checkout Cielo.</p>

<h3 id="request-2">Request</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name that will show up on the invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asset"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product Sku"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Correios"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SourceZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14400000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TargetZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delivery address"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delivery neighbourhood"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delivery city"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shipping service"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="mi">11111111111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano Comprador da Silva"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fulano@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11999999999"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Example</strong>: physical asset</p>

<p>If the product type is physical asset (<code class="language-plaintext highlighter-rouge">Cart.Items.Type</code> = “Asset”), the <strong>API requires the shipping type</strong> (<code class="language-plaintext highlighter-rouge">Shipping.Type</code>) to be sent.</p>

<p>If there is a recurrence node in the technical contract, it is required to send the type <code class="language-plaintext highlighter-rouge">WithoutShipping</code>, otherwise the following response will be presented:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The request is invalid."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modelState"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"[Shipping.Type]"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"[Shipping.Type] pedidos com recorrência devem possuir o Shipping.Type 'WithoutShipping'."</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p><strong>Important:</strong> The recurrence is only created if the transaction is <strong>authorized</strong>. Regardless of capture or not, once authorized, the recurrence process begins.</p>
</blockquote>

<h2 id="recurrence-retry">Recurrence Retry</h2>

<p>If one of the recurrence transactions is not authorized, Checkout Cielo automatically performs the retry, sending a new transaction, considering:</p>

<ul>
  <li><strong>Time interval between attempts</strong>: four days;</li>
  <li><strong>Number of retries</strong>: four retries, one per day, for four calendar days from the day following the original unauthorized transaction.</li>
</ul>

<p><strong>Note</strong>: This process aims to obtain a positive response from the authorization process, preventing the retailer from losing the sale. The retry process generates duplicate orders within the Backoffice, as the original denied order will be displayed in the Orders list, along with the new authorized transaction.</p>

<p><strong>Attention:</strong> The retry rule cannot be modified by the retailer.</p>

<blockquote>
  <p>It is possible to query and cancel recurring transactions on the Cielo website.</p>
</blockquote>

<h2 id="altering-recurrence-data">Altering recurrence data</h2>

<p>To change recurrence data, access the <strong>Cielo website</strong>, where you can change:</p>

<ul>
  <li><strong>Interval</strong>: interval between transactions;</li>
  <li><strong>Recurrence day</strong>: day of the recurring transaction;</li>
  <li><strong>Date of next transaction</strong>: date on which the next transaction will be made, following the configured interval setting and the day of recurrence;</li>
  <li><strong>Recurrence value</strong>: value of the recurring charge on the shopper’s card;</li>
  <li><strong>Recurrence end date</strong>: date on which the recurrence is deactivated.
<br /></li>
</ul>

<p>These changes can be made through two channels. Check below what they are and the respective guidelines:</p>

<ul>
  <li><strong>Cielo website</strong> (manual alteration): Access the <a href="https://developercielo.github.io/tutorial/checkout-tutoriais">Cielo Checkout Backoffice Tutorial</a> for more information.</li>
  <li><strong>Checkout API</strong> (integrated alteration): follow the steps below to send recurrence edit requests in an integrated manner via the Cielo Checkout API.</li>
</ul>

<h3 id="integrated-alteration">Integrated alteration</h3>

<p>To change data from a recurrence using the Cielo Checkout API, simply send a request with the information to be changed. Check out an example of this request.</p>

<h4 id="request-3">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/RecurrentPayment/Update </span></aside>

<p><strong>Parameters in the header</strong></p>
<ul>
  <li><strong>Authorization</strong>: Bearer {access_token}</li>
  <li><strong>Content-type</strong>: application/json</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
  </span><span class="nl">"PagadorRecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0207CE76-8144-48DC-8B17-876465BC3A6D"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2030-12-31"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"NextPaymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-12-31"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33333.33"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"Day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31"</span><span class="w"> 
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div></div>

<p><strong>Parameters in the body</strong></p>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>MAXIMUM SIZE</th>
      <th>REQUIRED</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PagadorRecurrentPaymentI</code></td>
      <td>Recurrence identification number at Checkout.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Recurrence value in cents (ex: R$ 1.00 = 100)</td>
      <td>number</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">interval</code></td>
      <td>Recurrence billing interval in months.<br />“Monthly” - 1<br />“Bimonthly” - 2<br />“Quarterly” - 3<br />“SemiAnnual” - 6<br />“Annual “ - 12</td>
      <td>number</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Recurrence end date. If not sent, the recurrence ends only if cancelled.</td>
      <td>date (YYYY-MM-DD)</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Day</code></td>
      <td>Day of the month on which the recurrence charge is made.</td>
      <td>date (DD)</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextPaymentDate</code></td>
      <td>Date of the next recurring charge. If changed, the next charges will follow this date.<br />Example: in a monthly interval recurrence, the day of the month on which the charge is made is always the 10th. The first charge was on 10/01/2024, so the next billing would be 10/02/2024. If this next billing date is changed to 20/02/2024, from then on, the next charges will be on the 20th of the month, monthly.</td>
      <td>date (YYYY-MM-DD)</td>
      <td>10</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-2">Response</h4>

<p><code class="language-plaintext highlighter-rouge">HTTP Status: 200 - OK</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
</span><span class="s2">" Recurrent Payment - {id} Updated Successfully"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="querying-a-recurrence">Querying a recurrence</h2>

<p>To query the data for a recurrence and the transactions linked to it, you must use the recurrence ID sent after creating a recurrence.</p>

<p>The query must be made by sending the access_token as authentication.</p>

<h3 id="request-4">Request</h3>

<p><strong>Parameters in the header</strong></p>
<ul>
  <li><strong>Authorization</strong>: Bearer {access_token}</li>
  <li><strong>Content-type</strong>: application/json</li>
</ul>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/RecurrentPayment/</span></aside>

<h3 id="response-3">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"$id"</span><span class="p">:</span><span class="err"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"id"</span><span class="p">:</span><span class="err"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"pagadorRecurrentPaymentId"</span><span class="p">:</span><span class="err"> </span><span class="s2">"0207ce76-8144-48dc-8b17-876465bc3a6d"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"recurrentPaymentStatus"</span><span class="p">:</span><span class="err"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"recurrentPaymentStatusEnum"</span><span class="p">:</span><span class="err"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"isRecurrentPaymentExpired"</span><span class="p">:</span><span class="err"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"allowEdit"</span><span class="p">:</span><span class="err"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"startDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2024-02-05T15:05:44.423"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"endDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2026-03-30T00:00:00"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"formatedEndDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"30/03/2026"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"day"</span><span class="p">:</span><span class="err"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"items"</span><span class="p">:</span><span class="err"> </span><span class="p">[</span><span class="w"> 

</span><span class="err">        </span><span class="p">{</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"$id"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"name"</span><span class="p">:</span><span class="err"> </span><span class="s2">"teste leo"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="err"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="err"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="err"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"formattedUnitPrice"</span><span class="p">:</span><span class="err"> </span><span class="s2">"R$ 10,00"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"formattedTotalPrice"</span><span class="p">:</span><span class="err"> </span><span class="s2">"R$ 10,00"</span><span class="w"> 

</span><span class="err">        </span><span class="p">}</span><span class="w"> 

</span><span class="err">    </span><span class="p">],</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"item"</span><span class="p">:</span><span class="err"> </span><span class="p">{</span><span class="w"> 

</span><span class="err">        </span><span class="nl">"$ref"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2"</span><span class="w"> 

</span><span class="err">    </span><span class="p">},</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"history"</span><span class="p">:</span><span class="err"> </span><span class="p">[</span><span class="w"> 

</span><span class="err">        </span><span class="p">{</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"$id"</span><span class="p">:</span><span class="err"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="err"> </span><span class="s2">"c748ef42-d1e7-4db3-9633-8d057bf874b0"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"orderNumber"</span><span class="p">:</span><span class="err"> </span><span class="s2">"8245e94dcf4c4de3906118e38f376822"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"merchantOrderNumber"</span><span class="p">:</span><span class="err"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2024-02-05T15:05:44.457"</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="err"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> 

</span><span class="err">            </span><span class="nl">"paymentStatusDescription"</span><span class="p">:</span><span class="err"> </span><span class="s2">"Autorizado"</span><span class="w"> 

</span><span class="err">        </span><span class="p">}</span><span class="w"> 

</span><span class="err">    </span><span class="p">],</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"lastPaymentDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"0001-01-01T00:00:00"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"nextPaymentDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"2026-02-05T00:00:00"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"formatedNextPaymentDate"</span><span class="p">:</span><span class="err"> </span><span class="s2">"05/02/2026"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"intervalDescription"</span><span class="p">:</span><span class="err"> </span><span class="s2">"Mensal"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"recurrentPaymentStatusDescription"</span><span class="p">:</span><span class="err"> </span><span class="s2">"Ativa"</span><span class="p">,</span><span class="w"> 

</span><span class="err">    </span><span class="nl">"amount"</span><span class="p">:</span><span class="err"> </span><span class="mf">4000.0</span><span class="w"> 

</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>TYPE</th>
      <th>MAXIMUM SIZE</th>
      <th>DESCRIPTION</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">$id</code></td>
      <td>number</td>
      <td>10</td>
      <td>Payload list index.</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">id</code></td>
      <td>number</td>
      <td>100</td>
      <td>Recurrence record index (disregard value for query purposes).</td>
      <td>Example: 202</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pagadorRecurrentPaymentId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Recurrence identification number at Checkout.</td>
      <td>Example: 0207ce76-8144-48dc-8b17-876465bc3a6d</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">recurrentPaymentStatus</code></td>
      <td>number</td>
      <td>1</td>
      <td>Status of the recurrence (whether it is active or not).</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">recurrentPaymentStatusEnum</code></td>
      <td>number</td>
      <td>1</td>
      <td>Status of the recurrence (whether it is active or not)</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">isRecurrentPaymentExpired</code></td>
      <td>boolean</td>
      <td>5</td>
      <td>Informs whether the recurrence is expired.</td>
      <td>Example: false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">allowEdit</code></td>
      <td>number</td>
      <td>1</td>
      <td>Whether to allow recurrence editing or not</td>
      <td>Example: true</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">startDate</code></td>
      <td>text</td>
      <td>20</td>
      <td>Recurrence start date.</td>
      <td>Example: 2024-02-05T15:05:44.423</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">endDate</code></td>
      <td>text</td>
      <td>20</td>
      <td>Recurrence end date. If not sent, the recurrence ends only if deactivated by the merchant.</td>
      <td>Example: 2026-03-30T00:00:00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">formatedEndDate</code></td>
      <td>text</td>
      <td>10</td>
      <td>Recurrence end date, formatted. If not sent, the recurrence ends only if deactivated by the merchant.</td>
      <td>Example: 30/03/2026</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">day</code></td>
      <td>number</td>
      <td>2</td>
      <td>Day of the month on which the recurrence charge is made.</td>
      <td>Example: 30</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.$id</code></td>
      <td>number</td>
      <td>10</td>
      <td>Item list index.</td>
      <td>Example: 2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.name</code></td>
      <td>text</td>
      <td>256</td>
      <td>Description of the item in the order cart.</td>
      <td>Example: bag of cookies</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.quantity</code></td>
      <td>number</td>
      <td>10</td>
      <td>Quantity of items in the cart.</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.unitPrice</code></td>
      <td>number</td>
      <td>10</td>
      <td>Unit price of the item, in cents. (R$ 1.00 = 100)</td>
      <td>Example: 1000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.totalPrice</code></td>
      <td>number</td>
      <td>10</td>
      <td>Total price for the quantity of the same item. (R$ 1.00 = 100)</td>
      <td>Example: 1000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.formattedUnitPrice</code></td>
      <td>text</td>
      <td>10</td>
      <td>Unit price of the item, formatted.</td>
      <td>Example: R$10.00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Items.formattedTotalPrice</code></td>
      <td>text</td>
      <td>10</td>
      <td>Total price for the quantity of the same item, formatted.</td>
      <td>Example: R$10.00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Item.$ref</code></td>
      <td>text</td>
      <td>10</td>
      <td>Returns the index of the first item.</td>
      <td>Example: 2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history.$id</code></td>
      <td>number</td>
      <td>10</td>
      <td>Item list index.</td>
      <td>Example: 3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history.orderId</code></td>
      <td>text</td>
      <td>36</td>
      <td>Internal order ID, not used for queries.</td>
      <td>Example: 8390bbdc-8c0a-42bb-a144-3712ee1a1fad</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history.createdDate</code></td>
      <td>text</td>
      <td>23</td>
      <td>Recurrence request creation date.</td>
      <td>Example: 2024-02-08T17:56:29.51</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history.paymentStatus</code></td>
      <td>number</td>
      <td>10</td>
      <td>Code referring to the payment status.</td>
      <td>Example: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">history.paymentStatusDescription</code></td>
      <td>text</td>
      <td>30</td>
      <td>Description regarding the payment status:<br />0 - Undefined;<br />1 - Pending;<br />2 - Paid;<br />3 - Denied;<br />4 - Expired;<br />5 - Canceled;<br />6 - Not Finalized;<br />7 - Authorized.</td>
      <td>Example: Authorized</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">lastPaymentDate</code></td>
      <td>text</td>
      <td>23</td>
      <td>Date of the last payment of the recurrence. If there is no payment yet, it will return “0001-01-01T00:00:00”.</td>
      <td>Example: 2024-01-29T00:00:00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">nextPaymentDate</code></td>
      <td>text</td>
      <td>20</td>
      <td>Date of the next recurrence charge, without formatting.</td>
      <td>Example: 2026-02-05T00:00:00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">formattedNextPaymentDate</code></td>
      <td>text</td>
      <td>10</td>
      <td>Date of the next recurrence charge, formatted.</td>
      <td>Example: 05/02/2026</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">intervalDescription</code></td>
      <td>string</td>
      <td>128</td>
      <td>Recurrence billing interval.<br />“Monthly”; <br />“Bimonthly”;<br />“Quarterly”;<br />“SemiAnnual”;<br />“Annual”</td>
      <td>Example: Monthly</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">recurrentPaymentStatusDescription</code></td>
      <td>text</td>
      <td>50</td>
      <td>Description of the recurrence status. See the Recurrence status table.</td>
      <td>Example: Active</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>number</td>
      <td>10</td>
      <td>Unit price of the recurrence, in cents. (R$ 1.00 = 100)</td>
      <td>Example: 4000.0</td>
    </tr>
  </tbody>
</table>

<h2 id="deactivating-a-recurrence">Deactivating a recurrence</h2>

<p>To deactivate a recurrence, send the following request.</p>

<aside class="warning">Once a recurrence has been deactivated, it cannot be activated again. Therefore, be sure of this action before deactivating.</aside>

<h3 id="request-5">Request</h3>

<aside class="request"><span class="method delete">DELETE</span> <span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/RecurrentPayment/Deactivate/</span></aside>

<p><strong>Parameters in the header</strong></p>
<ul>
  <li><strong>Authorization</strong>: Bearer {access_token}</li>
  <li><strong>Content-type</strong>: application/json</li>
</ul>

<p>It is not necessary to send any parameters in the body.</p>

<h1 id="transaction-notifications">Transaction notifications</h1>

<p>The transactional notification process occurs in two steps, which are transaction completion notification and status change notification.</p>

<table>
  <thead>
    <tr>
      <th>STEP</th>
      <th>URL TYPE*</th>
      <th>DESCRIPTION</th>
      <th>CONTENT</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Transaction completion notification</strong></td>
      <td><code class="language-plaintext highlighter-rouge">Notification URL</code></td>
      <td>It is sent after the shopper clicks on <strong>Finalizar</strong> (complete), generating the transaction. This notification is only sent at the moment the transaction is completed, regardless of whether there was change of status, that is, it does not mean that the transaction has been paid.</td>
      <td>Contains all sales data.</td>
      <td>POST or JSON</td>
    </tr>
    <tr>
      <td><strong>Status change notification</strong></td>
      <td><code class="language-plaintext highlighter-rouge">Status Change URL</code></td>
      <td>It is sent when the status of the transaction changes.<br />The status can be changed from “Pending” to “Paid”, “Canceled” or “Unfinished”, among others. See the complete list of statuses in the [Payment_status] table.</td>
      <td>Contains order identification data (does not have cart data).</td>
      <td>POST</td>
    </tr>
  </tbody>
</table>

<p>*Notifications are sent to the URLs defined by the establishment in <strong>Merchant Settings</strong> and contain data on transactions carried out at Checkout.</p>

<p>It is worth noting that Checkout only carries out a notification when a transaction is considered complete, that is, the shopper has filled in all the details on the payment screen and clicked <strong>Finalizar</strong> (complete)</p>

<p><strong>Example</strong>: <em>The shopper accesses the payment link and chooses to pay via Pix. When you click Finalizar, Checkout generates the Pix key and sends the transaction completion notification to the merchant, which will have the “Pending” status. When the shopper makes the payment via Pix, the transaction will have the status “Paid” and Checkout will send a status change notification.</em></p>

<aside class="notice">To receive notifications, the merchant needs to configure the SSL certificate. Additionally, there is no authentication implementation for sending notifications, so if the store endpoint has firewall layers, this may prevent notifications from being received.</aside>

<h2 id="characteristics-of-notifications">Characteristics of notifications</h2>

<p>Notification URLs are webhooks that can receive a notification via POST or via JSON:</p>

<table>
  <thead>
    <tr>
      <th>TYPE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>POST</strong></td>
      <td>Notification where the store is passive.</td>
    </tr>
    <tr>
      <td><strong>JSON</strong></td>
      <td>Notification where the store carries out a query.</td>
    </tr>
  </tbody>
</table>

<p><strong>Notification format</strong></p>

<p>In notifications supported by the Checkout API, the format sent is <em>Form Data</em>, broken down by the <code class="language-plaintext highlighter-rouge">Content-Type</code> header ‘x-www-form-urlencoded’.</p>

<p><strong>Expected return</strong></p>

<p>The store server must send the return <code class="language-plaintext highlighter-rouge">HTTPStatus = 200 (OK)</code> to the Checkout API, indicating that the notification was received and processed successfully.</p>

<blockquote>
  <p><strong>IMPORTANT</strong>: If the registered URL returns an error or is unavailable, three new attempts will be made, with an interval of one hour between each POST.</p>
</blockquote>

<p>If the notification is not received, it is possible to request a resend manually in <strong>Detalhes do pedido</strong>, by clicking on the arrow icon.</p>

<h2 id="transaction-completion-notification">Transaction completion notification</h2>

<p>It is the notification sent to the Notification URL and can be in POST or JSON format.</p>

<h3 id="notification-via-post">Notification via POST</h3>

<p>Contains all transaction data, including <code class="language-plaintext highlighter-rouge">merchant_order_number</code> and <code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code>, which can be used for <a href="https://developercielo.github.io/en/manual/checkout-cielo#querying-transactions">querying transactions</a></p>

<p><strong>Example:</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">order_number:</span><span class="w"> </span><span class="s2">"40e00eefbf094763a147af713fa07ece"</span><span class="err">,</span><span class="w">
</span><span class="err">amount:</span><span class="w"> </span><span class="s2">"5000"</span><span class="err">,</span><span class="w">
</span><span class="err">checkout_cielo_order_number:</span><span class="w"> </span><span class="s2">"b9ab1956738d45cc88edf51d7d03b13e"</span><span class="err">,</span><span class="w">
</span><span class="err">created_date:</span><span class="w"> </span><span class="s2">"02/02/2023 17:01:35"</span><span class="err">,</span><span class="w"> 
</span><span class="err">customer_name:</span><span class="w"> </span><span class="s2">"customer name"</span><span class="err">,</span><span class="w"> 
</span><span class="err">customer_phone:</span><span class="w"> </span><span class="s2">"2222222222"</span><span class="err">,</span><span class="w"> 
</span><span class="err">customer_identity:</span><span class="w"> </span><span class="s2">"12312312344"</span><span class="err">,</span><span class="w"> 
</span><span class="err">customer_email:</span><span class="w"> </span><span class="s2">"name@email.com.br"</span><span class="err">,</span><span class="w"> 
</span><span class="err">shipping_type:</span><span class="w"> </span><span class="s2">"5"</span><span class="err">,</span><span class="w"> 
</span><span class="err">shipping_price:</span><span class="w"> </span><span class="s2">"0"</span><span class="err">,</span><span class="w"> 
</span><span class="err">payment_method_type:</span><span class="w"> </span><span class="s2">"6"</span><span class="err">,</span><span class="w"> 
</span><span class="err">payment_installments:</span><span class="w"> </span><span class="s2">"1"</span><span class="err">,</span><span class="w"> 
</span><span class="err">payment_status:</span><span class="w"> </span><span class="s2">"1"</span><span class="err">,</span><span class="w"> 
</span><span class="err">test_transaction:</span><span class="w"> </span><span class="s2">"False"</span><span class="err">,</span><span class="w"> 
</span><span class="err">product_id:</span><span class="w"> </span><span class="s2">"0f48e580-d0a2-4e3b-a748-6704927f1725"</span><span class="err">,</span><span class="w"> 
</span><span class="err">product_type:</span><span class="w"> </span><span class="s2">"3"</span><span class="err">,</span><span class="w"> 
</span><span class="err">product_description:</span><span class="w"> </span><span class="s2">"123"</span><span class="err">,</span><span class="w"> 
</span><span class="err">nsu:</span><span class="w"> </span><span class="s2">"00339922"</span><span class="w">
</span></code></pre></div></div>

<p>See the description of transaction details in the <a href="https://developercielo.github.io/en/manual/checkout-cielo#notification-content">Notification content</a> section</p>

<h3 id="notification-via-json">Notification via JSON</h3>

<p>Notification via JSON is a safer and more flexible method for making a query at Checkout Cielo. In this modality, the merchant receives the <code class="language-plaintext highlighter-rouge">MerchantId</code> and <code class="language-plaintext highlighter-rouge">MerchantOrderNumber</code> and a URL to perform a query (GET) against the Checkout Cielo database and access the details of the transaction.</p>

<p><strong>Notification content via JSON</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">MerchantId:</span><span class="w"> </span><span class="s2">"799g0de8-89c3-5d17-c670-6b29d7f00175"</span><span class="err">,</span><span class="w"> 
</span><span class="err">MerchantOrderNumber:</span><span class="w"> </span><span class="s2">"1db9226geg8b54e6b2972e9b745b89c7"</span><span class="err">,</span><span class="w"> 
</span><span class="err">Url:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v1/orders/799g0de8-89c3-5d17-c670-6b29d7f00175 /1db9226geg8b54e6b2972e9b745b89c7"</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>FIELD TYPE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">URL</code></td>
      <td>URL with the data necessary to search for transaction data.</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Merchant identifier at Checkout; It appears on the Cielo website in the Configuralão &gt; Dados Cadastrais menu</td>
      <td>alphanumeric (guid)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderNumber</code>*</td>
      <td>Merchant order number; if not sent, Checkout Cielo will generate a number, which will be viewed by the Consumer</td>
      <td>alphanumeric<br /><em>For reconciliation purposes, the characters allowed are only a-z, A-Z, 0-9. Special characters and whitespace are not allowed.</em></td>
    </tr>
  </tbody>
</table>

<p>*In other requests and responses it may be called <code class="language-plaintext highlighter-rouge">OrderNumber</code>.</p>

<p><em>The store server must send the return <code class="language-plaintext highlighter-rouge">HTTP Status = 200 (OK)</code> to the Checkout API, indicating that the notification was received and processed successfully.</em></p>

<p><strong>Example of a URL query returned via JSON</strong></p>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1db9226geg8b54e6b2972e9b745b89c7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"checkout_cielo_order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65930e7460bd4a849502ed14d7be6c03"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-03-2023 14:38:56"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11987654321"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer_identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"445556667"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopper@email.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Motoboy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06455-030"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apto 25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shipping_address_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment_method_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment_method_brand"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment_maskedcreditcard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"482852******6856"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment_installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10558590697J62OH9BPB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"test_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>See the description of the sale details in the <a href="https://developercielo.github.io/en/manual/checkout-cielo#notification-content">Notification content</a> section.</p>

<h3 id="notification-content">Notification content</h3>

<p>Whether notifying via POST or via JSON, the content of the data returned is the same. All returned fields are described below, as well as their definitions and sizes:</p>

<p>|PARAMETER|DESCRIPTION|TYPE|MAXIMUM SIZE|
|—|—|—|—|
|<code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code>|Unique identifier generated by Checkout Cielo| alphanumeric|32|
|<code class="language-plaintext highlighter-rouge">amount</code>|Unit price of the product, in cents (e.g.: R$ 1,00 = 100)|numeric|10|
|<code class="language-plaintext highlighter-rouge">order_number</code>|Order number sent by the store.<br /> If not sent, Checkout Cielo will generate a number that will be viewed by the consumer| alphanumeric<br /><em>For reconciliation purposes, the characters allowed are only a-z, A-Z, 0-9. Special characters and whitespace are not allowed.</em>|32<br /><em>For reconciliation purposes, the maximum length is 20 characters.</em>|
|<code class="language-plaintext highlighter-rouge">created_date</code>|Date of order creation - <code class="language-plaintext highlighter-rouge">dd/MM/yyyy HH:mm:ss| alphanumeric|20|
|</code>customer_name<code class="language-plaintext highlighter-rouge">|Name of the customer. If sent, this value is already filled in the Checkout Cielo screen| alphanumeric|289|
|</code>customer_identity<code class="language-plaintext highlighter-rouge">|Customer identification (CPF or CNPJ). If sent, this value is already filled in the Checkout Cielo scree| alphanumeric|14|
|</code>customer_email<code class="language-plaintext highlighter-rouge">|Customer e-mail. If sent, this value is already filled in the Checkout Cielo screen| alphanumeric|64|
|</code>customer_phone<code class="language-plaintext highlighter-rouge">|Customer phone number. If sent, this value is already filled in the Checkout Cielo screen.| numeric| 11|
|</code>discount_amount<code class="language-plaintext highlighter-rouge">| Discount amount provided (sent only if there was a discount).|numeric|10|
|</code>first_installment_discount<code class="language-plaintext highlighter-rouge">|Discount, in percentage, for payments by credit card.| Whole number from 1 to 100|3|
|</code>shipping_type<code class="language-plaintext highlighter-rouge">|Shipping mode|numeric|1|
| </code>shipping_name<code class="language-plaintext highlighter-rouge">| Shipping name| alphanumeric | 128|
| </code>shipping_price<code class="language-plaintext highlighter-rouge">| Value of the shipping service, in cents (e.g.: R$ 10,00 = 1000)|numeric|10|
| </code>shipping_address_zipcode<code class="language-plaintext highlighter-rouge">|Delivery address zip code| numeric|8|
| </code>shipping_address_district<code class="language-plaintext highlighter-rouge">|Delivery address neighborhood| text|64|
| </code>shipping_address_city<code class="language-plaintext highlighter-rouge">| Delivery address city| alphanumeric| 64|
| </code>shipping_address_state<code class="language-plaintext highlighter-rouge">|Delivery address state| alphanumeric|64|
| </code>shipping_address_line1<code class="language-plaintext highlighter-rouge">|Delivery address| alphanumeric | 256|
| </code>shipping_address_line2<code class="language-plaintext highlighter-rouge">|Delivery address complement| alphanumeric | 14|
| </code>shipping_address_number<code class="language-plaintext highlighter-rouge">| Delivery address number  | numeric|8|
| </code>payment_method_type<code class="language-plaintext highlighter-rouge">| Payment method type code  | numeric| 1|
| </code>payment_method_brand<code class="language-plaintext highlighter-rouge">|Card brand (only for transactions with credit card payment method)| numeric| 1|
| </code>payment_method_bank<code class="language-plaintext highlighter-rouge">| Issuer bank (For Automatic Debit and Boleto transactions)| numeric| 1|
| </code>payment_maskedcredicard<code class="language-plaintext highlighter-rouge">|Masked Card (Only for transactions with credit card payment means)| alphanumeric | 20|
|</code>payment_installments<code class="language-plaintext highlighter-rouge">|Number of installments| numeric| 1|
| </code>payment_antifrauderesult<code class="language-plaintext highlighter-rouge">| Status of Credit Card Transactions in Antifraude| numeric| 1|
| </code>payment_boletonumber<code class="language-plaintext highlighter-rouge">| Number of boleto generated| string| 1|
| </code>payment_boletoexpirationdate<code class="language-plaintext highlighter-rouge"> | Due date for transactions made with boleto| string| 10|
| </code>payment_status<code class="language-plaintext highlighter-rouge">|Transaction status| numeric| 1|
| </code>tid<code class="language-plaintext highlighter-rouge">| TransactionId Cielo generated at the time of transaction authorization | alphanumeric | 20|
| </code>test_transaction<code class="language-plaintext highlighter-rouge">| Indicates whether the transaction was generated with 'Test Mode' enabled | boolean| 32|
|</code>product_id<code class="language-plaintext highlighter-rouge">|Identifier of the Payment Button/Link that generated the transaction|alphanumeric|36|
|</code>product_type<code class="language-plaintext highlighter-rouge">|Type of Button that generated the order (See ProductID table)|alphanumeric|32|
|</code>product_sku<code class="language-plaintext highlighter-rouge">|Product identifier registered in the payment link|text|16|
|</code>product_max_number_of_installments<code class="language-plaintext highlighter-rouge">|Number of installments released by retailers for the payment link|number|2|
|</code>product_expiration_date<code class="language-plaintext highlighter-rouge">|Button/Payment Link expiration date|alphanumeric|12|
|</code>product_quantity<code class="language-plaintext highlighter-rouge">|Number of transactions remaining until the link stops working|alphanumeric|2|
|</code>product_description<code class="language-plaintext highlighter-rouge">|Description of the payment link registered by the merchant|text|256|
|</code>nsu<code class="language-plaintext highlighter-rouge">|NSU - Unique sequential number of the transaction.|alphanumeric|6|
|</code>authorization_code`|Authorization code.|alphanumeric|8|</p>

<h4 id="productid-types">ProductID types</h4>

<table>
  <thead>
    <tr>
      <th>PAYMENT LINK TYPE</th>
      <th>ENUN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Physical asset</td>
      <td>1</td>
    </tr>
    <tr>
      <td>Digital</td>
      <td>2</td>
    </tr>
    <tr>
      <td>Service</td>
      <td>3</td>
    </tr>
    <tr>
      <td>Payment</td>
      <td>4</td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>5</td>
    </tr>
  </tbody>
</table>

<h4 id="payment_status">Payment_status</h4>

<p>Checkout has its own status, different from the Cielo website or the Cielo E-commerce API. See the full list at <a href="https://developercielo.github.io/en/manual/checkout-cielo#notification-content">Payment_status</a>.</p>

<blockquote>
  <p><strong>Note</strong>: For order queries, the <code class="language-plaintext highlighter-rouge">payment.status</code> field will be returned in text format, always in English (Transaction Status column).</p>
</blockquote>

<h4 id="payment_antifrauderesult">Payment_antifrauderesult</h4>

<p>Antifraud has the concept of Status and SubStatus, where the former represents the level of risk that a transaction has of being a fraud, and the latter, additional information about the transaction.</p>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>ANTIFRAUD STATUS</th>
      <th>SUBSTATUS</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Low Risk</td>
      <td>Low Risk</td>
      <td>Low risk of being a fraudulent transaction.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>High Risk</td>
      <td>High Risk</td>
      <td>High risk of being a fraudulent transaction. They are canceled automatically.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Not finished</td>
      <td>Not finished</td>
      <td>The query could not be finalized.</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td>N/A</td>
      <td>Not applicable</td>
      <td>Debit card transaction that was authenticated by 3DS 2.0, therefore not eligible for anti-fraud analysis.</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>Non-analyzable payment method such as boleto, Pix, QR Code, and credit card transaction that was denied by the issuer.</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td>N/A</td>
      <td>Recurrence transaction</td>
      <td>For recurrence cases, after the first paid transaction, the next transactions of a recurrence are not analyzed by anti-fraud. Only the first transaction is analyzed.</td>
    </tr>
  </tbody>
</table>

<h4 id="payment_method_type">Payment_method_type</h4>

<p>Checkout only allows one type of Boleto per establishment, so the notification does not return whether the provider used was Bradesco or Banco do Brasil, as only one of them will be active in the affiliation.</p>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>DEFINITION</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Credit Card</td>
      <td>CreditCard</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Boleto</td>
      <td>Boleto</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Debit Card</td>
      <td>DebitCard</td>
    </tr>
    <tr>
      <td>5</td>
      <td>QR Code Credit</td>
      <td>QrCode</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Pix</td>
      <td>Pix</td>
    </tr>
    <tr>
      <td>7</td>
      <td>QRCode Debit</td>
      <td>QrCodeDebit</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: For queries, the type is returned in the <code class="language-plaintext highlighter-rouge">Payment.Type</code> field and is filled with the literal value (<code class="language-plaintext highlighter-rouge">Description</code>).</p>
</blockquote>

<h4 id="payment_method_brand">Payment_method_brand</h4>

<p>Represents the card brand.</p>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Visa</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Master</td>
    </tr>
    <tr>
      <td>3</td>
      <td>AmericanExpress</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Diners</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Elo</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Aura</td>
    </tr>
    <tr>
      <td>7</td>
      <td>JCB</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Discover</td>
    </tr>
    <tr>
      <td>9</td>
      <td>HiperCard</td>
    </tr>
  </tbody>
</table>

<p>In queries, the card brand is returned in the <code class="language-plaintext highlighter-rouge">Payment.Brand</code> field and is filled in with the literal value.</p>

<h4 id="payment_method_bank">Payment_method_bank</h4>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Banco do Brasil</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Bradesco</td>
    </tr>
  </tbody>
</table>

<h4 id="shipping_type">Shipping_type</h4>

<aside class="warning">Correios shipping service is currently unavailable. If a request with this shipping option is sent, you will receive a return with error 400 and the message: "The shipping service by post is unavailable." If you use the service on your payment links or checkout pages, change the shipping type to the other available options.</aside>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Correios</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Fixed shipping</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Free shipping</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Collect by hand/store</td>
    </tr>
    <tr>
      <td>5</td>
      <td>No shipping charges (services or digital products)</td>
    </tr>
  </tbody>
</table>

<h2 id="status-change-notification">Status change notification</h2>

<p>It is sent to the status change URL and contains the <code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code>, the new status and some transaction data.</p>

<p>To find out more details about the transaction, make a query using <a href="https://developercielo.github.io/manual/checkout-cielo#por-checkout_cielo_order_number"><code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code></a>.</p>

<p>The status change notification format is POST (form data).</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">checkout_cielo_order_number:</span><span class="w"> </span><span class="s2">"b918afea483d4c6c8615d8a8e19803c1"</span><span class="err">,</span><span class="w">
</span><span class="err">amount:</span><span class="w"> </span><span class="s2">"134"</span><span class="err">,</span><span class="w">
</span><span class="err">order_number:</span><span class="w"> </span><span class="s2">"024f77ac98cb493b86d8c818eb6e79cd"</span><span class="err">,</span><span class="w">
</span><span class="err">payment_status:</span><span class="w"> </span><span class="s2">"3"</span><span class="err">,</span><span class="w">
</span><span class="err">test_transaction:</span><span class="w"> </span><span class="s2">"False"</span><span class="err">,</span><span class="w">
</span><span class="err">brand:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="err">,</span><span class="w">
</span><span class="err">nsu:</span><span class="w"> </span><span class="s2">"000001"</span><span class="err">,</span><span class="w">
</span><span class="err">authorization_code:</span><span class="w"> </span><span class="s2">"01234567"</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>FIELD TYPE</th>
      <th>MAXIMUM SIZE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code></td>
      <td>Unique identifier generated by Checkout Cielo.</td>
      <td>alphanumeric</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>Unit price of the product, in cents (ex: R$ 1.00 = 100)</td>
      <td>number</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">order_number</code></td>
      <td>Order number sent by the store. <br /><em>If it is not sent, Checkout Cielo will generate a number, which will be viewed by the consumer.</em></td>
      <td>alphanumeric<br /> <em>For reconciliation purposes, the characters allowed are only a-z, A-Z, 0-9. Special characters and blank spaces are not allowed.</em></td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_method_brand</code></td>
      <td>Brand - only for transactions using a credit card payment method. <a href="https://developercielo.github.io/manual/checkout-cielo#payment_method_brand">Full list</a></td>
      <td>number</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_status</code></td>
      <td>Transaction status. <a href="https://developercielo.github.io/manual/checkout-cielo#status-e-c%C3%B3digos">Full List</a></td>
      <td>number</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">test_transaction</code></td>
      <td>Indicates whether the transaction was generated with Test Mode activated</td>
      <td>boolean</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">nsu</code></td>
      <td>NSU - Unique sequential number of the transaction.</td>
      <td>alphanumeric</td>
      <td>6</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">authorization_code</code></td>
      <td>Authorization code.</td>
      <td>alphanumeric</td>
      <td>8</td>
    </tr>
  </tbody>
</table>

<h1 id="querying-capturing-and-cancelling">Querying, capturing and cancelling</h1>

<h2 id="querying-transactions">Querying transactions</h2>

<p>Transaction queries via API can be made up to 45 days after the sale has been made.</p>

<p>The query must be made using the <strong>Transactional Control API</strong>, sending the <code class="language-plaintext highlighter-rouge">access_token</code> as authentication.</p>

<p>Order inquiries can be made by:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">order_number</code>:is the <code class="language-plaintext highlighter-rouge">MerchantOrderNumber</code> returned in the <a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-finaliza% C3%A7%C3%A3o-da-transa%C3%A7%C3%A3o">transaction completion</a> notification;</li>
  <li><code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code>: is returned in the <a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-finaliza%C3%A7%C3%A3o-da-transa%C3%A7%C3%A3o">transaction completion</a> notification or in the <a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%Status-change-A3%C3%A7a">status change</a> notification.</li>
</ul>

<h3 id="by-order_number">By order_number</h3>

<p>Querying transactions by <code class="language-plaintext highlighter-rouge">order_number</code> returns a list of transactions with the same order number; This occurs because Checkout does not prevent the store from duplicating <code class="language-plaintext highlighter-rouge">order_number</code>s. The response will return <code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code>, which must be used when querying a specific transaction.</p>

<h4 id="request-6">Request</h4>

<p>To query a transaction by <code class="language-plaintext highlighter-rouge">order_number</code>, do a <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<aside class="request"><span class="method get">GET</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/merchantOrderNumber/{ordernumber}</span></aside>

<p><strong>Parameter in query string</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">order_number</code></td>
      <td>Store order number. This is the <code class="language-plaintext highlighter-rouge">MerchantOrderNumber</code> returned in the notification.</td>
      <td>string</td>
      <td>-</td>
      <td>Example: 1db9226geg8b54e6b2972e9b745b23c4</td>
    </tr>
  </tbody>
</table>

<h4 id="response-4">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"checkoutOrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a58995ce24fd4f1cb025701e95a51478"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T12:09:33.57"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a58995ce24fd4f1cb025701e95a51478"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"checkoutOrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"438f3391860a4bedbae9a868180dda6e"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T12:05:41.317"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/438f3391860a4bedbae9a868180dda6e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">$id</code></td>
      <td>Node ID.</td>
      <td>number</td>
      <td>-</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">checkoutOrderNumber</code></td>
      <td>Order code generated by Checkout Cielo.</td>
      <td>text</td>
      <td>32</td>
      <td>Example: a58995ce24fd4f1cb025701e95a51478</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">createdDate</code></td>
      <td>Order creation date</td>
      <td>date</td>
      <td>-</td>
      <td>YYYY-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.$id</code></td>
      <td>Node ID.</td>
      <td>number</td>
      <td>-</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.method</code></td>
      <td>Method for consuming the operation.</td>
      <td>text</td>
      <td>10</td>
      <td>Examples: GET, POST or PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.rel</code></td>
      <td>Relation for operation consumption.</td>
      <td>text</td>
      <td>10</td>
      <td>Example: self</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.href</code></td>
      <td>Endpoint for consumption of the operation.</td>
      <td>text</td>
      <td>512</td>
      <td>Example: https://cieloecommerce.cielo.com.br/api/public/v2/orders/438f3391860a4bedbae9a868180dda6e</td>
    </tr>
  </tbody>
</table>

<h3 id="by-checkout_cielo_order_number">By Checkout_Cielo_Order_Number</h3>

<h4 id="request-7">Request</h4>

<p>To query a transaction using <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, simply perform a <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<blockquote>
  <p>Header: <code class="language-plaintext highlighter-rouge">Authorization</code>: <code class="language-plaintext highlighter-rouge">Bearer {access_token}</code></p>
</blockquote>

<aside class="request"><span class="method get">GET</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/{checkout_cielo_order_number}</span></aside>

<p><strong>Parameter in query string</strong></p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code></td>
      <td>Unique identifier generated by Checkout Cielo. It is obtained from the content of the <a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-finaliza%C3%A7%C3%A3o-da-transa%C3%A7%C3%A3o">transaction completion</a> notification or <a href="https://developercielo.github.io/manual/checkout-cielo#notifica%C3%A7%C3%A3o-de-mudan%C3%A7a-de-status">status change</a> notification.</td>
      <td>string</td>
      <td>32</td>
      <td>Example: 1db9226geg8b54e6b2972e9b745b23c4</td>
    </tr>
  </tbody>
</table>

<h4 id="response-5">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
    </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c89fdfbb-dbe2-4e77-806a-6d75cd397dac"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"054f5b509f7149d6aec3b4023a6a2957"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"softDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido1234"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> 
            </span><span class="p">{</span><span class="w"> 
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido ABC"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50 canetas - R$30,00 | 10 cadernos - R$50,00 | 10 Borrachas - R$10,00"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> 
        </span><span class="p">]</span><span class="w"> 
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nl">"shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FixedAmount"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> 
            </span><span class="p">{</span><span class="w"> 
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entrega Rápida"</span><span class="p">,</span><span class="w"> 
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> 
        </span><span class="p">],</span><span class="w"> 
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21 andar"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alphaville"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="w"> 
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10127355487AK2C3EOTB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149111"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"authorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"294551"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numberOfPayments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T14:29:43.767"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"finishedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T14:29:46.117"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cardMaskedNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456******2007"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"creditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"antifraud"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"antifraudeResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Risco Baixo"</span><span class="w"> 
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678911"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do comprador"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exemplo@email.com.br"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11123456789"</span><span class="w"> 
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> 
        </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/054f5b509f7149d6aec3b4023a6a2957"</span><span class="w"> 
        </span><span class="p">},</span><span class="w"> 
        </span><span class="p">{</span><span class="w"> 
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/054f5b509f7149d6aec3b4023a6a2957/void"</span><span class="w"> 
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>Type</th>
      <th>Size</th>
      <th>Description</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Store Id at Cielo Checkout.</td>
      <td>Example: c89fdfbb-dbe2-4e77-806a-6d75cd397dac</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orderNumber</code></td>
      <td>alphanumeric<br /> <em>For reconciliation purposes, the characters allowed are only a-z, A-Z, 0-9. Special characters and blank spaces are not allowed.</em></td>
      <td>Order number sent by the store. <br /><em>If it is not sent, Checkout Cielo will generate a number, which will be viewed by the consumer.</em></td>
      <td>Example: 123456</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">softDescriptor</code></td>
      <td>text</td>
      <td>13</td>
      <td>Trading name of the store displayed on the shopper’s invoice. No special characters or spaces.</td>
      <td>Example: <code class="language-plaintext highlighter-rouge">Loja_ABC_1234</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.discount.type</code></td>
      <td>text</td>
      <td>10</td>
      <td>Type of discount applied.</td>
      <td>Possible values: Amount or Percent</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.discount.value</code></td>
      <td>number</td>
      <td>18</td>
      <td>Value or percentage of discount applied.</td>
      <td>Example: If <code class="language-plaintext highlighter-rouge">discount.type</code> is Amount, then 1000 = R$10.00. If <code class="language-plaintext highlighter-rouge">discount.type</code> is Percent, the value is between 0 and 100.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.name</code></td>
      <td>text</td>
      <td>128</td>
      <td>Name of item in cart.</td>
      <td>Example: Order ABC</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.sku</code></td>
      <td>text</td>
      <td>32</td>
      <td>Product identifier.</td>
      <td>Will exist if provided, e.g. abc123456789</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.weight</code></td>
      <td>number</td>
      <td>10</td>
      <td>Product weight.</td>
      <td>Will exist if provided, e.g. 2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.description</code></td>
      <td>text</td>
      <td>256</td>
      <td>Description of the item in the cart.</td>
      <td>Example: 50 pens - R$30.00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.unitPrice</code></td>
      <td>number</td>
      <td>18</td>
      <td>Unit price of the product in cents</td>
      <td>Example: R$1.00 = 100</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.quantity</code></td>
      <td>number</td>
      <td>9</td>
      <td>Quantity of the item in the cart.</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.type</code></td>
      <td>text</td>
      <td>255</td>
      <td>Type of item in cart</td>
      <td><code class="language-plaintext highlighter-rouge">Asset</code><br /><code class="language-plaintext highlighter-rouge">Digital</code><br /><code class="language-plaintext highlighter-rouge">Service</code><br /><code class="language-plaintext highlighter-rouge">Payment</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.type</code></td>
      <td>number</td>
      <td>36</td>
      <td>Shipping method.</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.name</code></td>
      <td>text</td>
      <td>128</td>
      <td>Shipping method.</td>
      <td>Example: Main House</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.price</code></td>
      <td>number</td>
      <td>10</td>
      <td>Value of the shipping service, in cents.</td>
      <td>Example: R$10.00 = 1000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.deadline</code></td>
      <td>number</td>
      <td>10</td>
      <td>Delivery time for order in days</td>
      <td>Example: 10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.carrier</code></td>
      <td>number</td>
      <td>1</td>
      <td>Delivery type code, follows the Shipping_Type table</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.street</code></td>
      <td>text</td>
      <td>256</td>
      <td>Delivery address.</td>
      <td>Example: Rua João da Silva</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.number</code></td>
      <td>number</td>
      <td>8</td>
      <td>Shipping address number.</td>
      <td>Example: 123</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.complement</code></td>
      <td>text</td>
      <td>64</td>
      <td>Delivery address complement.</td>
      <td>Example: Home</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.district</code></td>
      <td>text</td>
      <td>64</td>
      <td>Shipping address neighborhood.</td>
      <td>Example: Alphaville</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.city</code></td>
      <td>text</td>
      <td>64</td>
      <td>City of delivery address.</td>
      <td>Example: São Paulo</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.state</code></td>
      <td>text</td>
      <td>2</td>
      <td>Shipping address state.</td>
      <td>Example: SP</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.status</code></td>
      <td>text</td>
      <td>10</td>
      <td>Transaction status</td>
      <td>Example: Paid <a href="https://developercielo.github.io/manual/linkdepagamentos5#payment_status">Full List</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.tid</code></td>
      <td>text</td>
      <td>32</td>
      <td>TID Cielo generated at the time of authorization of the transaction.</td>
      <td>Example: 10127355487AK2C3EOTB</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.nsu</code></td>
      <td>text</td>
      <td>6</td>
      <td>NSU Cielo generated at the time of authorization of the transaction.</td>
      <td>Example: 123456</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.authorizationCode</code></td>
      <td>text</td>
      <td>3</td>
      <td>Authorization code.</td>
      <td>Example: 456789</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.numberOfPayments</code></td>
      <td>number</td>
      <td>6</td>
      <td>Number of Installments.</td>
      <td>Example: 123456</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.createdDate</code></td>
      <td>text</td>
      <td>22</td>
      <td>Transaction creation date.</td>
      <td>Example: YYYY-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.finishedDate</code></td>
      <td>text</td>
      <td>22</td>
      <td>Transaction completion date.</td>
      <td>Example: YYYY-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.cardMaskedNumber</code></td>
      <td>text</td>
      <td>19</td>
      <td>Masked card number.</td>
      <td>Example: 123456<strong>**</strong>2007</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.brand</code></td>
      <td>text</td>
      <td>10</td>
      <td>Card brand.</td>
      <td>Example: Visa. See the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_method_brand">full list</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.antifraud.antifraudeResult</code></td>
      <td>number</td>
      <td>1</td>
      <td>Antifraud status</td>
      <td>Example: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.antifraud.description</code></td>
      <td>text</td>
      <td>256</td>
      <td>Description of anti-fraud status</td>
      <td>Example: Retailer chose not to carry out anti-fraud analysis</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.type</code></td>
      <td>text</td>
      <td>11</td>
      <td>Type of payment method</td>
      <td>Example: CreditCard. See the <a href="https://developercielo.github.io/manual/checkout-cielo#payment_method_type">full list</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.errorcode</code></td>
      <td>number</td>
      <td>2</td>
      <td>Return code</td>
      <td>Example: 00, 51, 57 etc. See the <a href="https://developercielo.github.io/manual/linkdepagamentos5#c%C3%B3digos-de-retorno-abecs">full list</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>number</td>
      <td>14</td>
      <td>CPF or CNPJ of the shopper.</td>
      <td>Example: 12345678909</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.FullName</code></td>
      <td>text</td>
      <td>256</td>
      <td>Full name of shopper.</td>
      <td>Example: Fulano da Silva</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>text</td>
      <td>64</td>
      <td>Shopper’s email.</td>
      <td>Example: example@email.com.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Phone</code></td>
      <td>number</td>
      <td>11</td>
      <td>Phone of the shopper.</td>
      <td>Example: 11123456789</td>
    </tr>
  </tbody>
</table>

<h2 id="capturing-transactions">Capturing transactions</h2>

<p>Capturing consists of confirming an authorization that was previously carried out and is an exclusive procedure for <strong>credit card</strong> transactions.</p>

<p>The capture takes place after authorization, so that the sale can be completed and the card will be charged. Only after capture will the cardholder be able to view it on their statement or invoice.</p>

<h3 id="request-8">Request</h3>

<p>To capture a credit card transaction via <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, simply perform a <code class="language-plaintext highlighter-rouge">PUT</code>.</p>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<p><strong>Total Capture</strong></p>

<p>It is the capture of the total value of the transaction.</p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/capture</span></aside>

<p><strong>Partial Capture</strong></p>

<p>It is the capture of part of the transaction value. It can only be performed once.</p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/capture?amount={Valor}</span></aside>

<blockquote>
  <p><strong>Note</strong>: Partial capture can only be performed once and is exclusive to credit cards.</p>
</blockquote>

<h3 id="response-6">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">success</code></td>
      <td>Sets the status of the capture</td>
      <td>boolean</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Transaction status at Checkout</td>
      <td>int</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnCode</code></td>
      <td>Code explaining the reason for denied or authorized transactions</td>
      <td>String</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnMessage</code></td>
      <td>Message explaining the reason for denied or authorized transactions</td>
      <td>String</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h2 id="canceling-transactions">Canceling transactions</h2>

<p>To cancel a transaction using <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, simply perform a <code class="language-plaintext highlighter-rouge">PUT</code>.</p>

<p>For cancellation requests for the same transaction, it is necessary to wait a period of <strong>5 seconds</strong> between one request and another, so that the balance can be consulted, the amount reserved in the financial calendar and the balance raised, avoiding duplication of cancellation. This rule applies to total and/or partial cancellations.</p>

<p>To identify that cancellation requests are from the same transaction, we consider the EC number, cancellation authorization number, sale date, sale value and NSU.</p>

<blockquote>
  <p><strong>Important</strong>: To make any cancellation request, the establishment must have a sufficient balance in the transaction/book.</p>
</blockquote>

<h3 id="request-9">Request</h3>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<p><strong>Full cancellation</strong></p>

<p>It is the cancellation of the total value of the transaction.</p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/void</span></aside>

<p><strong>Partial Cancellation</strong></p>

<p>It is the cancellation of part of the transaction value. It can be done more than once, until the total amount is cancelled.</p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/void?amount={Valor}</span></aside>

<blockquote>
  <p><strong>Attention</strong>: Partial cancellation can only be carried out after capture. Partial cancellation can be carried out numerous times until the total amount is cancelled.</p>
</blockquote>

<h3 id="response-7">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">success</code></td>
      <td>Sets the status of the cancellation</td>
      <td>boolean</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Transaction status at Checkout</td>
      <td>int</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnCode</code></td>
      <td>Code explaining the reason for denied or authorized transactions</td>
      <td>string</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnMessage</code></td>
      <td>Message explaining the reason for denied or authorized transactions</td>
      <td>string</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h1 id="status-and-codes">Status and codes</h1>

<h2 id="payment_status-1">Payment_status</h2>

<p>Checkout has its own status, different from the Cielo website or the Cielo E-commerce API. See the complete list below.</p>

<table>
  <thead>
    <tr>
      <th>VALUE</th>
      <th>TRANSACTION STATUS</th>
      <th>PAYMENT METHODS</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Pending</td>
      <td>For all payment methods</td>
      <td>Indicates that the payment is still being processed; Note: Boleto - Indicates that the status of the bill has not been changed by the merchant</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Paid</td>
      <td>For all payment methods</td>
      <td>Transaction was captured and money will be deposited into account.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Denied</td>
      <td>Only for Credit Card</td>
      <td>Transaction not authorized by the person responsible for the payment method</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Expired</td>
      <td>Credit and Boleto Cards</td>
      <td>Transaction is no longer valid for capture - <strong>15 days after authorization</strong></td>
    </tr>
    <tr>
      <td>5</td>
      <td>Voided</td>
      <td>For credit cards</td>
      <td>Transaction was canceled by the merchant</td>
    </tr>
    <tr>
      <td>6</td>
      <td>NotFinalized</td>
      <td>All payment methods</td>
      <td>Payment waiting Status - May indicate an error or processing failure. Contact Cielo Support</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Authorized</td>
      <td>Credit Card Only</td>
      <td>Transaction authorized by the card issuer. It must be captured for the money to be deposited into the account</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Chargeback</td>
      <td>Only for Credit Card</td>
      <td>Transaction canceled by the shopper along with the card issuer. The money will not be deposited into the account.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: For order queries, the <code class="language-plaintext highlighter-rouge">payment.status</code> field will be returned in text format, always in English (Transaction Status column).</p>
</blockquote>

<h2 id="card-brands-retry-program">Card Brands Retry Program</h2>

<p>When a person tries to make a purchase with a card in e-commerce, the transaction may be denied due to a series of factors. The <strong>following attempts to complete the transaction</strong> using the <strong>same card</strong> are what we call a <strong>retry</strong>.</p>

<p><strong>How does ​​it work?</strong></p>

<p>Denied transactions are classified as:</p>

<ul>
  <li><strong>Irreversible</strong>: when retrying is not allowed;</li>
  <li><strong>Reversible</strong>: when retrying is permitted according to the rules of each card brand.</li>
</ul>

<p><br />
Retries may be charged by the brand and the number of times a transaction can be retried before being charged also varies depending on the brand.</p>

<blockquote>
  <p>To check the retry rules for each card brand, access the manual <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras" target="_blank">Card Brands Retry Program</a>.</p>
</blockquote>

<h2 id="abecs-return-codes">ABECS return codes</h2>

<p>The Brazilian Association of Credit Card and Services Companies (ABECS) is responsible for standardizing the <strong>return code for denied sales authorizations</strong> for both physical and e-commerce payment solutions in the Brazilian market.</p>

<blockquote>
  <p>To see the complete list of return codes for denied transactions, access <a href="https://developercielo.github.io/en/tutorial/abecs-e-outros-codigos" target="_blank">ABECS return codes</a>.</p>
</blockquote>

<p><strong>Cielo Support</strong></p>

<p>Cielo provides technical support 24 hours a day, 7 days a week in Portuguese and English, at the following contacts:</p>

<ul>
  <li>Email: <a href="mailto:cieloecommerce@cielo.com.br">cieloecommerce@cielo.com.br</a></li>
  <li>+55 4002-5472 (capitals and metropolitan regions)</li>
  <li>+55 0800 570 8472 (other locations)</li>
  <li>+55 11 2860-1348 (international)
    <ul>
      <li>Option 5 (E-commerce Support)</li>
    </ul>
  </li>
</ul>

</body>
</html>