<!DOCTYPE html>
<html lang="en">
    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#00aeef" />
  <meta http-equiv="Content-Language" content="en" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     Integration Manual E-commerce Cielo &middot; Documentações e tutoriais 
  </title>

  <link rel="shortcut icon" href="https://developercielo.github.io/en/assets/favicon.ico" />

  <!-- CSS -->
  <link
    href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500"
    rel="stylesheet"
    media="none"
    onload="if(media!='all')media='all'"
  />
  <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

  <link
    rel="stylesheet"
    href="https://developercielo.github.io/en/assets/bundles/css/bundle.min.css"
  />

   
  <link
    rel="alternate"
    hreflang="pt"
    href="https://developercielo.github.io/en/manual/cielo-ecommerce"
  />
    
  <link
    rel="alternate"
    hreflang="en"
    href="https://developercielo.github.io/en/en/manual/cielo-ecommerce"
  />
   

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://developercielo.github.io/en/atom.xml"
  />
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Toggle"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Help</a>

                            
                            <div class="lang">
                                <span>Languages</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/cielo-ecommerce">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/en/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/cielo-ecommerce">
                                    

                                        <img alt="English" src="https://developercielo.github.io/en/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="https://developercielo.github.io/en/">Home</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/en/manual/cielo-ecommerce">Integration Manual E-commerce Cielo</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post"><h1 id="api-e-commerce-cielo">API E-commerce Cielo</h1>

<h1 id="overview">Overview</h1>

<p>The purpose of this documentation is to guide the developer on how to integrate with <strong>API E-commerce Cielo</strong>, describing the features, methods to be used, listing information to be sent and received, and providing examples.</p>

<p>We recommend intermediate knowledge in web programming language, HTTP/HTTPS requests and JSON file manipulation are required to successfully deploy the E-commerce Cielo solution.</p>

<p>In this guide, you will find information on all operations available on API REST of API E-commerce Cielo. These operations must be performed using your credentials (Merchant ID and Merchant Key) in the respective environment endpoints</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: center">SandBox</th>
      <th style="text-align: center">Production</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Requests</strong></td>
      <td style="text-align: center">https://apisandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://api.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Queries</strong></td>
      <td style="text-align: center">https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<p>To perform an operation, combine the base URL of the environment with the URL of the desired operation and send it using the HTTP verb as described in the operation.</p>

<blockquote>
  <p><a href="https://developercielo.github.io/en/attachment/merchantid-merchantkey-cielo-2023.pdf" target="\_blank">Download the tutorial</a> to learn how to generate your <strong>MerchantId</strong> and <strong>MerchantKey</strong> credentials on <a href="https://www.cielo.com.br/" target="\_blank">Cielo portal</a>.</p>
</blockquote>

<h2 id="solution-features">Solution features</h2>

<p>The <strong>API E-commerce Cielo</strong> solution of the E-commerce Cielo platform was developed with REST technology, which is market standard and also independent of the technology used by our customers. In this way, it is possible to integrate using the most varied programming languages.</p>

<blockquote>
  <p>To get examples in these languages, see our conversion tutorial <a href="https://developercielo.github.io/en/tutorial/postman" target="\_blank"><strong>Postman Tutorial</strong></a></p>
</blockquote>

<p>Among other features, the attributes that stand out most in the Cielo e-commerce platform:</p>

<ul>
  <li><strong>No proprietary apps</strong>: it is not necessary to install applications in the virtual shop environment.</li>
  <li><strong>Simplicity</strong>: the only protocol used is HTTPS.</li>
  <li><strong>Easy testing</strong>: the Cielo platform offers a publicly accessible Sandbox environment, which allows the developer to create a test account without the need for accreditation, making it easier and faster to start integration.</li>
  <li><strong>Credentials</strong>: the handling of the customers’s credentials (affiliation number and access key) traffics in the header of the HTTP request of the message.</li>
  <li><strong>Safety</strong>: the information exchange always takes place between the Store Server and Cielo Server, without the shopper’s browser.</li>
  <li><strong>Multiplatform</strong>: the integration is performed through Web Service REST.</li>
</ul>

<h2 id="architecture">Architecture</h2>

<p>The model employed for the integration is quite simple since there are two URLs (endpoints):</p>

<ul>
  <li>Requests URL: for operations that cause side effects - such as authorization, capture and cancellation of transactions</li>
  <li>Queries URL: for operations that do not cause side effects, such as transaction searching.</li>
</ul>

<p>To execute an operation:</p>

<ol>
  <li>Combine the base URL of the environment with the URL of the desired operation. Eg.: https://api.cieloecommerce.cielo.com.br/<em>1/sales/</em></li>
  <li>Send the request to the URL using the adequate HTTP method.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>POST</strong></td>
      <td>The <code class="language-plaintext highlighter-rouge">POST</code> HTTP method is used in the creation of features or in sending information that will be processed. For example, creation of a transaction.</td>
    </tr>
    <tr>
      <td><strong>PUT</strong></td>
      <td>The<code class="language-plaintext highlighter-rouge">PUT</code> HTTP method is used to update an already existing feature. For example, capture or cancelation of a previously authorized transaction.</td>
    </tr>
    <tr>
      <td><strong>GET</strong></td>
      <td>The <code class="language-plaintext highlighter-rouge">GET</code> HTTP method is used for querying already existing features. For example, transaction query.</td>
    </tr>
  </tbody>
</table>

<p>All operations require the access credentials <strong><code class="language-plaintext highlighter-rouge">MerchantId</code></strong> and <strong><code class="language-plaintext highlighter-rouge">MerchantKey</code></strong>, which must be sent in the header (<em>header</em>) of the request.<br />Each request sent will return an <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#http-status-code">HTTP Status Code</a>, indicating whether it was carried out successfully or not.</p>

<h2 id="glossary">Glossary</h2>

<p>To facilitate understanding, we have listed below a short glossary with the main terms related to e-commerce and also to card and acquiring market:</p>

<table>
  <thead>
    <tr>
      <th>Terms</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Authentication</strong></td>
      <td>Process to ensure that the shopper is actually who they claim to be (lawful carrier), usually occurs at the issuing bank using a digital token or card with security keys.</td>
    </tr>
    <tr>
      <td><strong>Authorization</strong></td>
      <td>Process to check whether a purchase can or not be made with a card. At this point, several verifications are done with the card and the carrier (e.g., timely payments, card locks, etc.). It is also at this point that the card limit is checked with the transaction value.</td>
    </tr>
    <tr>
      <td><strong>Cancellation</strong></td>
      <td>Process to cancel a purchase made with a card.</td>
    </tr>
    <tr>
      <td><strong>Capture</strong></td>
      <td>Process that confirms an authorization that was previously made. It is only after the capture that the card carrier will be able to view it on their bank statement or invoice.</td>
    </tr>
    <tr>
      <td><strong>Shopper</strong></td>
      <td>It is the one who makes the purchase at the virtual store.</td>
    </tr>
    <tr>
      <td><strong>Issuer (or issuing bank)</strong></td>
      <td>It is the financial institution that issues the credit card, debit card or voucher.</td>
    </tr>
    <tr>
      <td><strong>Commercial establishment or CE</strong></td>
      <td>Entity that responds by the virtual store.</td>
    </tr>
    <tr>
      <td><strong>Payment Gateway</strong></td>
      <td>Company responsible for technical integration and transaction processing.</td>
    </tr>
    <tr>
      <td><strong>Carrier</strong></td>
      <td>It is the person who carries the card at the time of sale.</td>
    </tr>
    <tr>
      <td><strong>TID (Transaction Identifier)</strong></td>
      <td>Code consisting of 20 characters that identifies a Cielo e-commerce transaction.</td>
    </tr>
  </tbody>
</table>

<h2 id="products-and-supported-brands">Products and Supported Brands</h2>

<p>The current version of Cielo Webservice supports the following issuers and products:</p>

<table>
  <thead>
    <tr>
      <th>Issuer</th>
      <th>Demand credit</th>
      <th>Installment credit Store</th>
      <th>Debit</th>
      <th>Voucher</th>
      <th>International</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Visa</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Master Card</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>American Express</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Elo</td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Discover</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>JCB</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Aura</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Hipercard</td>
      <td>Yes</td>
      <td>Yes</td>
      <td><em>No</em></td>
      <td><em>No</em></td>
      <td><em>No</em></td>
    </tr>
  </tbody>
</table>

<aside class="warning">Cards that were issued abroad do not have permission to pay in installments.</aside>

<h2 id="cielo-support">Cielo Support</h2>

<p>If you have any questions, feel free to contact us through our e-mail: <strong>cieloecommerce@cielo.com.br</strong></p>

<h1 id="extended-validation-certificate">Extended Validation Certificate</h1>

<h2 id="what-is-the-ssl-certificate">What is the SSL Certificate?</h2>

<p>The SSL Certificate for web servers confirms the authenticity and integrity of the website data, giving customers of virtual stores the guarantee that they are actually accessing the website they want, not a fraudulent website.</p>

<p>Specialized companies are responsible for validating the domain and, depending on the type of certificate, they are also responsible for the validation of the entity that owns the domain.</p>

<h3 id="internet-explorer">Internet Explorer:</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-ie.jpg" alt="EV Internet Explorer Certificate" /></p>

<h3 id="firefox">Firefox:</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-firefox.jpg" alt="EV Firefox Certificate" /></p>

<h3 id="google-chrome">Google Chrome:</h3>

<p><img src="https://developercielo.github.io/en/images/certificado-chrome.jpg" alt="EV Google Chrome Certificate" /></p>

<h2 id="what-is-ev-ssl-certificate">What is EV SSL Certificate?</h2>

<p>The EV Certificate ensures a higher level of security for virtual stores customers.</p>

<p>It is a more trustworthy certificate and when HTTPS is accessed the address bar will turn green, showing more reliability for users.</p>

<h2 id="how-to-install-the-extended-validation-certificate-on-the-store-server">How to install the <strong>Extended Validation Certificate</strong> on the Store server?</h2>

<p>You just have to install the following files in the server Trustedstore. Cielo does not offer support to the installation of the Certificate. If you are unsure about how to install the EV Certificate, then you should contact your server vendor support.</p>

<ul>
  <li><a href="https://developercielo.github.io/en/attachment/root-2024.zip">Root Certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/intermediate-2024.zip">Intermediate certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/cielo-ecommerce-2024.zip">E-Commerce Cielo certificate</a></li>
</ul>

<h2 id="installation-tutorial">Installation tutorial</h2>

<h3 id="installation-on-the-virtual-store-server">Installation on the Virtual Store Server</h3>

<p>For the the step-by-step of the EV Certificate installation, you must contact your server vendor support.</p>

<aside class="warning">Cielo does not offer support for the installation of the Certificate.</aside>

<h3 id="client-access-to-virtual-store">Client Access to Virtual Store</h3>

<p>Usually, the browser automatically updates the Certificate. If it does not and the client reaches out, the following steps must be informed:</p>

<p><strong>Step 1:</strong></p>

<p>Save these files below into a new folder, or into a folder that can be easily accessed, as it will be used later:</p>

<ul>
  <li><a href="https://developercielo.github.io/en/attachment/root-2024.zip">Root Certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/intermediate-2024.zip">Intermediate certificate</a></li>
  <li><a href="https://developercielo.github.io/en/attachment/cielo-ecommerce-2024.zip">E-Commerce Cielo certificate</a></li>
</ul>

<p><strong>Step 2:</strong></p>

<p>On Internet Explorer, click on <strong>Tools</strong> and go to <strong>Internet Options</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-1.jpg" alt="Install IE" /></p>

<p>On Firefox, click on <strong>Open Menu</strong> and go to <strong>Advanced</strong> &gt; <strong>Options</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-1.jpg" alt="Install FF" /></p>

<p>On Google Chrome, click on <strong>Control Google Chrome</strong> and go to <strong>Settings</strong> &gt; <strong>Show advanced settings…</strong> &gt; <strong>Change Proxy Settings…</strong> &gt; <strong>Content</strong> &gt; <strong>Certificates</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-gc-1.jpg" alt="Install GC" /></p>

<p><strong>Step 3:</strong></p>

<p>On Internet Explorer, under <strong>Certificates</strong>, click on <em>*Import…</em>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-2.jpg" alt="Install IE" /></p>

<p>On Firefox, go on <strong>View Certificates</strong>, click on <strong>Import…</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-2.jpg" alt="Install FF" /></p>

<p>On Chrome, go on <strong>Manage Certificates…</strong>, click on <strong>Import</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-gc-2.jpg" alt="Install GC" /></p>

<p><strong>Step 4:</strong></p>

<p>On Internet Explorer and Chrome, under <strong>Certificate Import Wizard</strong>, click on <strong>Next</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-3.jpg" alt="Install IE and GC" /></p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-4.jpg" alt="Install IE and GC" /></p>

<p>On Firefox, under <strong>Servers</strong>, click on <strong>Import…</strong>:</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ff-3.jpg" alt="Install FF" /></p>

<p><strong>Step 5:</strong></p>

<p>On Chrome and Internet Explorer, under <strong>Certificate Import Wizard</strong>, click on <strong>Search</strong>, look for the folder where the files are and select the file cieloecommerce.cielo.com.br.crt, click on <strong>Open</strong> and then <strong>Next</strong>.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-5.jpg" alt="Install IE and GC" /></p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-6.jpg" alt="Install IE and GC" /></p>

<p><strong>Step 6:</strong></p>

<p>Select the desired option: add the Certificate in a default folder or search for the folder of your choice.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-7.jpg" alt="Install IE and GC" /></p>

<p><strong>Step 7:</strong></p>

<p>Click on <strong>Finish</strong>.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-8.jpg" alt="Install IE and GC" /></p>

<p><strong>Step 8:</strong></p>

<p>Click on <strong>Ok</strong> to complete the import.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-9.jpg" alt="Install IE and GC" /></p>

<aside class="notice">In Firefox there is no Successfull Import message, it only completes the import.</aside>

<p>The Certificate may be viewed in the default tab <strong>Other People</strong> or at the one chosen by the customer.</p>

<p><img src="https://developercielo.github.io/en/images/certificado-instalar-ie-gc-10.jpg" alt="Install IE and GC" /></p>

<p><strong>Step 9:</strong></p>

<p>Repeat the same procedure for the 3 sent files.</p>

<h1 id="sandbox-and-tools">Sandbox and Tools</h1>

<h2 id="about-sandbox">About Sandbox</h2>

<p>To facilitate testing during integration, Cielo offers a Sandbox environment that allows simuation of the API messages. The Sandbox environment is programmed to give you responses for every feature available on API E-commerce Cielo</p>

<table>
  <thead>
    <tr>
      <th>INFORMATION</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Access credentials</td>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code> and <code class="language-plaintext highlighter-rouge">MerchantKey</code> obtained after creating your testing account on <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/" target="\_blank"><strong>Sandbox Registration</strong></a></td>
    </tr>
    <tr>
      <td>Requests URL</td>
      <td>https://apisandbox.cieloecommerce.cielo.com.br</td>
    </tr>
    <tr>
      <td>Queries URL</td>
      <td>https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
    </tr>
  </tbody>
</table>

<p><strong>Perks of using Sandbox</strong></p>

<ul>
  <li>No affiliation is required to use Sandbox Cielo.</li>
  <li>Just access the <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/" target="\_blank"><strong>Sandbox Registration</strong></a> to create an account.</li>
</ul>

<h2 id="integration-tool">Integration Tool</h2>

<p>You can use Postman to test your integration, using the API E-commerce Cielo collection.</p>

<h3 id="collection">Collection</h3>

<blockquote>
  <p><strong>Importation link</strong>: <a href="https://www.postman.com/collections/7313fe78130211f5f009" target="\_blank">https://www.postman.com/collections/7313fe78130211f5f009</a></p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Environment</th>
      <th>Endpoints</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td><strong>Request</strong>: https://apisandbox.cieloecommerce.cielo.com.br <br /> <strong>Query</strong>: https://apiquerysandbox.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td>Production</td>
      <td><strong>Request</strong>: https://api.cieloecommerce.cielo.com.br/ <br /> <strong>Query</strong>: https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<h3 id="environment">Environment</h3>

<p>Download the <a href="https://github.com/DeveloperCielo/developercielo.github.io/blob/docs/attachment/postman/apicielo2021.rar" target="\_blank"><strong>Environment Production and Sandbox</strong></a> file and replace MerchantID and MerchantKeys with your store’s information.</p>

<h2 id="credit-card-in-sandbox">Credit card in sandbox</h2>

<p>With this payment method it is possible to simulate the flows of:</p>

<ul>
  <li>Authorization;</li>
  <li>Capture;</li>
  <li>Cancellation;</li>
  <li>Consultation.</li>
</ul>

<p>To make better use of a simulated payment, you can create a fake card number using a generator online or choosing random numbers. For either option, the first 15 digits can be random, but the last one should correspond to the transaction status you want to test.</p>

<p>The <strong>Security Code (CVV)</strong> and expiration date information may be random, keeping the format - CVV (3 digits) and Validity (MM/YYYY).</p>

<aside class="notice">Tokenization: If you want to test a transaction on the API E-commerce Cielo by saving the card number, we recommend using a card generator to comply with the mod10 (Luhn Algorithm) rule, which is used in Sandbox and Production environments.</aside>
<aside class="notice">To simulate a successful authorization of a Zeroauth request in Sandbox, you have to send the request using a card number starting with 5, disregarding the issuer. For example: **5XXX.XXXX.XXXX.XXX4**.</aside>
<aside class="notice">The status of the transactions are defined by the final digits of each card, as well as the ReturnCode.</aside>

<table>
  <thead>
    <tr>
      <th>Final card digit</th>
      <th>Transaction Status</th>
      <th>Return Code</th>
      <th>Return Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX0<br />XXXX.XXXX.XXXX.XXX1<br />XXXX.XXXX.XXXX.XXX4</td>
      <td>Authorized</td>
      <td>4/6</td>
      <td>Operation performed successfully</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX2</td>
      <td>Not Authorized</td>
      <td>05</td>
      <td>Not Authorized</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX3</td>
      <td>Not Authorized</td>
      <td>57</td>
      <td>Expired Card</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX5</td>
      <td>Not Authorized</td>
      <td>78</td>
      <td>Blocked Card</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX6</td>
      <td>Not Authorized</td>
      <td>99</td>
      <td>Time Out</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX7</td>
      <td>Not Authorized</td>
      <td>77</td>
      <td>Canceled Card</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX8</td>
      <td>Not Authorized</td>
      <td>70</td>
      <td>Problems with the Credit Card</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX9</td>
      <td>Random Authorization</td>
      <td>4 a 99</td>
      <td>Operation Successful / Time Out</td>
    </tr>
  </tbody>
</table>

<p>The test card <strong>4024.0071.5376.3191</strong>, for example, would simulated a successful transaction.</p>

<aside class="notice">Warning: The  environment evaluates the format and end of the card. If an actual card is sent, the result of the operation will be identical to that described in the test cards table.</aside>

<aside class="Warning">Warning: Sandbox return codes are not the same as the ones available in production. </aside>

<p><strong>To check the return codes in Production,</strong> check <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-codes">API Codes</a>.</p>

<h2 id="debit-card-in-sandbox">Debit card in sandbox</h2>

<p>With this payment method, it is possible to simulate the flows of:</p>

<ul>
  <li>Authorization;</li>
  <li>Cancellation;</li>
  <li>Consultation.
<br /></li>
</ul>

<p>The debit transaction needs to be authenticated:</p>

<ul>
  <li><strong>Authentication via 3DS 2.0</strong>: learn to simulate the authentication 3DS 2.0 in Sandbox in the <a href="https://developercielo.github.io/en/manual/3ds" target="\_blank">3DS documentation</a></li>
  <li><strong>Authentication URL</strong>: it’s being discontinued. In this type of authentication, the debit card transactional flow works by getting an Authentication URL from the transaction response. On the authentication screen, the chosen option defines the status of the transaction.
<br /></li>
</ul>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Authenticated</td>
      <td>Authorized</td>
    </tr>
    <tr>
      <td>Not Authenticated</td>
      <td>Denied</td>
    </tr>
    <tr>
      <td>Do not use the URL</td>
      <td>Not Finished</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Online Transfer</strong>: The same behavior of debit card in Sandbox is valid for debit card.</p>
</blockquote>

<h2 id="other-payment-methods-in-sandbox">Other payment methods in sandbox</h2>

<p>Other payment methods do not have cards or specific simulated data, as in the case of credit cards. Below we specify any existing differences:</p>

<table>
  <thead>
    <tr>
      <th>Payment Method</th>
      <th>Orientations for Sandbox</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Boleto</td>
      <td>To send a boleto transaction in the Sandbox environment you should put the <code class="language-plaintext highlighter-rouge">Provider</code> as <strong>Simulado</strong>.<br />There is no bank validation. The boleto behaves as a boleto without registration.</td>
    </tr>
    <tr>
      <td>Alelo</td>
      <td>Use the same values from the request at the Production environment for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#alelo-cards">Alelo Cards</a>.</td>
    </tr>
    <tr>
      <td>QR Code</td>
      <td>Use the same values from the resquest at the Production environment for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#qr-code">QR Code</a>. There is no bank conciliation.</td>
    </tr>
    <tr>
      <td>Carnê</td>
      <td>Use the same values from the request at the Production environmnet for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#carn%C3%AA-transaction">Carnê Transaction</a>.</td>
    </tr>
    <tr>
      <td>Electronic Transfer</td>
      <td>The <code class="language-plaintext highlighter-rouge">Provider</code> used should be <strong>“Simulado”</strong>. <br /> The redirecting URL for the bank environment will be a screen for you to choose the status of the authentication.</td>
    </tr>
  </tbody>
</table>

<h2 id="renova-fácil-in-sandbox">Renova Fácil in Sandbox</h2>

<p>To simulate a transaction with return for a new card, updated by our service <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#renew-easy" target="\_blank">Renova Fácil</a>, follow the instructions below.</p>

<p>In the authorization request, besides the fields already mentioned for the used method of payment, you need the send the following:</p>

<ul>
  <li>In the field <code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code>: send a card with 3 as the final digit, which simulates an expired card.</li>
  <li>In the field <code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code>: send an expiration date that has passed.</li>
  <li>Send the field <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> as true, to mark the transaction as recurring.</li>
</ul>

<h2 id="consulta-bin---sandbox">Consulta BIN - Sandbox</h2>

<p>A card’s BIN code is the first six digits of the card number. At the Consulta BIN simulation in the Sandbox environment, each one of the six digits will determine a simulated result.</p>

<p>It is possible to test different card numbers and observe the expected return according to the different options.</p>

<p>A card’s BIN code should return the card brand, the type of card, the nationality, if it is a corporate card, the return of the BIN analysis and the card issuer. To know more, read the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#bin-checker" target="\_blank">Consulta BIN</a> section of this guide.</p>

<table>
  <thead>
    <tr>
      <th>Digit</th>
      <th>Meaning</th>
      <th>Return</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1st digit</td>
      <td>Brand.</td>
      <td>If it’s ‘<strong>3</strong>’ it returns “<strong>AMEX</strong>“<br />If it’s ‘<strong>5</strong>’ it returns “<strong>MASTERCARD</strong>“<br />If it’s ‘<strong>6</strong>’ it returns “<strong>DISCOVER</strong>“<br />Every other number returns “<strong>VISA</strong>”.</td>
    </tr>
    <tr>
      <td>2nd digit</td>
      <td>Type of card</td>
      <td>If it’s ‘<strong>3</strong>’ it returns “<strong>Débito</strong>“<br />If it’s ‘<strong>5</strong>’ it returns “<strong>Crédito</strong>“<br />If it’s ‘<strong>7</strong>’ it returns “<strong>Crédito</strong>” and it returns the <code class="language-plaintext highlighter-rouge">Prepaid</code> field as “<strong>true</strong>“<br /> Any other number returns “<strong>Múltiplo</strong>”.</td>
    </tr>
    <tr>
      <td>3rd digit</td>
      <td>Card nationality</td>
      <td>If it’s ‘<strong>1</strong>’ it returns “<strong>true</strong>” (national card)<br />Every other number other than ‘<strong>1</strong>’ returns “<strong>false</strong>” (international card).</td>
    </tr>
    <tr>
      <td>4th digit</td>
      <td>If it’s a corporate card</td>
      <td>If it’s ‘<strong>1</strong>’ it returns “<strong>true</strong>” (it is a corporate card)<br />Every other number other than ‘<strong>1</strong>’ returns “<strong>false</strong>” (not a corporate card).</td>
    </tr>
    <tr>
      <td>5th digit</td>
      <td>Analysis return</td>
      <td>If it’s ‘<strong>2</strong>’ it returns “<strong>01 - Bandeira não suportada</strong>“<br />If it’s ‘<strong>3</strong>’ it returns “<strong>02 - Voucher - Não suportado na consulta de bins</strong>“<br />Every other number returns “<strong>00 - Analise autorizada</strong>”</td>
    </tr>
    <tr>
      <td>6th digit</td>
      <td>Issuing bank</td>
      <td>If it’s ‘<strong>1</strong>’ it returns “<strong>104</strong>” and “<strong>Caixa</strong>“<br />If it’s ‘<strong>2</strong>’ it returns “<strong>001</strong>” and “<strong>Banco do Brasil</strong>“<br />Every other number returns “<strong>237</strong>” e “<strong>Bradesco</strong>”</td>
    </tr>
  </tbody>
</table>

<p><strong>Example</strong></p>

<p>A card with the number <strong>4110110012341234</strong> will return the following data:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/consultabin-sdbx-cielo.png" alt="Consulta BIN Sandbox" /></p>

<h3 id="request">Request</h3>

<aside class="request"><span class="method get">GET</span><span class="endpoint">/1/cardBin/`BIN`</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET https://apiquerysandbox.cieloecommerce.cielo.com.br/1/cardBin/411011
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multiplo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ForeignCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CorporateCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banco do Brasil"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="o">{</span>
    <span class="s2">"Status"</span>: <span class="s2">"00"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"VISA"</span>,
    <span class="s2">"CardType"</span>: <span class="s2">"Multiplo"</span>,
    <span class="s2">"ForeignCard"</span>: <span class="nb">false</span>,
    <span class="s2">"CorporateCard"</span>: <span class="nb">false</span>,
    <span class="s2">"Issuer"</span>: <span class="s2">"Banco do Brasil"</span>,
    <span class="s2">"IssuerCode"</span>: <span class="s2">"001"</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<h1 id="payment-methods">Payment Methods</h1>

<h2 id="credit-and-debit-cards">Credit and Debit Cards</h2>

<h3 id="credit-cards">Credit Cards</h3>

<p>To enjoy all the features available in our API, it is important that you first understand the concepts around processing a credit card transaction.</p>

<table>
  <thead>
    <tr>
      <th>Concept</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Authentication</strong></td>
      <td>The authentication process makes it possible to effective a sale, which will pass through the authentication process of the card issuing bank, then providing more security for the sale and transferring the risk of fraud to the bank.</td>
    </tr>
    <tr>
      <td><strong>Authorization</strong></td>
      <td>The authorization (or pre-authorization) is the main operation in the eCommerce, because through it, the sale can be finished. Pre-authorization only sensitizes the customer’s limit, but still does not generate charge for the consumer.</td>
    </tr>
    <tr>
      <td><strong>Capture</strong></td>
      <td>When making a pre-authorization, it is necessary to confirm it, so that the charge is effected to the card carrier. It is through this operation a pre-authorization is effected, and it can be executed normally within 5 days after the pre-authorization date.</td>
    </tr>
    <tr>
      <td><strong>Cancellation</strong></td>
      <td>The cancellation is necessary when, for some reason, a sale will not be effected anymore.</td>
    </tr>
  </tbody>
</table>

<aside class="warning">IMPORTANT: The order identification number (`MerchantOrderId``) does not change, remaining the same throughout the transactional flow. However, an additional number can be generated for the order and used during the transaction. This number will only be different in case of adaptation to the acquirer's rules or in case there are repeated order identification numbers (`MerchantOrderId`) in less then 24 hours. For reconciliation purposes, use `TransactionId``.</aside>

<h4 id="creating-a-credit-card-transaction">Creating a credit card transaction</h4>

<p>To create a credit card transaction, you need to send a request using the <code class="language-plaintext highlighter-rouge">POST</code> method, as shown. This example covers all the possible fields you can send; check which fields are required in the request properties table.</p>

<blockquote>
  <p>The transaction <strong>capture</strong> can be <strong>authomatic</strong> or <strong>posterior</strong>. For an authomatic capure, send the <code class="language-plaintext highlighter-rouge">Payment.Capture</code> field in the request as “true”. For a posterior capture, send the field as “false” and then do the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#queries,-capture-and-cancellation" target="\_blank">capture request</a>.</p>
</blockquote>

<blockquote>
  <p>Warning: It is not possible to carry out a transaction with its value (<code class="language-plaintext highlighter-rouge">Amount</code>) as 0. To verify if a card is valid, use <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#zero-auth">Zero Auth</a>.</p>
</blockquote>

<aside class="notice">Warning: In the request header, use Content-Type as application/json .</aside>

<blockquote>
  <p><strong>Mastercard credit card transactions with stored credentials</strong>: the Mastercard brand requires the Transaction Initiator Indicator for credit and debit card transactions using stored card data. The goal is to indicate if the transaction was initiated by the cardholder or by the merchant. In this scenario, the node <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator</code> must be sent with the parameters <code class="language-plaintext highlighter-rouge">Category</code> and <code class="language-plaintext highlighter-rouge">SubCategory</code> for Mastercard transactions, within the <code class="language-plaintext highlighter-rouge">Payment</code> node. Please check the complete list of categories in the <code class="language-plaintext highlighter-rouge">Category</code> parameter description and the subcategories tables in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator-tables">Transaction Indicator Tables</a>.</p>
</blockquote>

<p>Please refer to <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#credit-card-with-authentication">Credit card with authentication</a> to create an authenticated credit card transaction.</p>

<h5 id="request-1">Request</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito completo"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"Recurrent"</span>:<span class="s2">"false"</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
      <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
          <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
          <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,     
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"AirlineData"</span>:<span class="o">{</span>
         <span class="s2">"TicketNumber"</span>:<span class="s2">"AR988983"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
      <td>Store identifier in Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>text</td>
      <td>40</td>
      <td>Yes</td>
      <td>Public Key for Double Authentication in Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>header</td>
      <td>40</td>
      <td>Yes</td>
      <td>application/json (required).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
      <td>Request identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
      <td>Order ID number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s name.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>The customer’s registration status on the store. (NEW / EXISTING).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>text</td>
      <td>14</td>
      <td>No</td>
      <td>Customer’s RG, CPF or CNPJ.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s type of identification (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s e-mail.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>date</td>
      <td>10</td>
      <td>No</td>
      <td>Customer’s birth date (AAAA/MM/DD).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>text</td>
      <td>15</td>
      <td>No</td>
      <td>Customer’s address number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s address complement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>text</td>
      <td>9</td>
      <td>No</td>
      <td>Customer’s Zip Code.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s address’ city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>text</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s address’ state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>text</td>
      <td>35</td>
      <td>No</td>
      <td>Customer’s address’ country.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s delivery address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>text</td>
      <td>15</td>
      <td>No</td>
      <td>Customer’s delivery address number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s delivery address complement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>text</td>
      <td>9</td>
      <td>No</td>
      <td>Customer’s delivery address Zip Code.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s delivery address city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>text</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s delivery address state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>text</td>
      <td>35</td>
      <td>No</td>
      <td>Customer’s delivery address country.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Street</code></td>
      <td>string</td>
      <td>24</td>
      <td>No</td>
      <td>Customer’s billing address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Number</code></td>
      <td>string</td>
      <td>5</td>
      <td>No</td>
      <td>Customer’s billing address number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Complement</code></td>
      <td>string</td>
      <td>14</td>
      <td>No</td>
      <td>Customer’s billing address complement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Neighborhood</code></td>
      <td>string</td>
      <td>15</td>
      <td>No</td>
      <td>Customer’s billing address neighborhood.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.City</code></td>
      <td>string</td>
      <td>20</td>
      <td>No</td>
      <td>Customer’s billing address city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.State</code></td>
      <td>string</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s billing address state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Country</code></td>
      <td>string</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s billing address country. More information at <a href="https://www.iso.org/obp/ui" target="\_blank">ISO 2-Digit Alpha Country Code</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.ZipCode</code></td>
      <td>string</td>
      <td>9</td>
      <td>No</td>
      <td>Customer’s billing address Zip Code.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>text</td>
      <td>100</td>
      <td>Yes</td>
      <td>Type of the payment method.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>number</td>
      <td>15</td>
      <td>Yes</td>
      <td>Order Amount (to be sent in cents).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>text</td>
      <td>3</td>
      <td>No</td>
      <td>Currency in which the payment will be made (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>text</td>
      <td>3</td>
      <td>No</td>
      <td>Country in which the payment will be made.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>text</td>
      <td>15</td>
      <td>—</td>
      <td>Defines the behavior for the payment method/NOT REQUIRED FOR CREDIT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>number</td>
      <td>15</td>
      <td>No</td>
      <td>Appliable only to airline companies. Order amounth that will be destined to service tax. PS.: This amount is not added to the authorization amount.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>text</td>
      <td>13</td>
      <td>No</td>
      <td>The store’s name that will be on the shopper’s bank invoice. Does not allow special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>number</td>
      <td>2</td>
      <td>Yes</td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>text</td>
      <td>10</td>
      <td>No</td>
      <td>Type of installments - Store (ByMerchant) or Card (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the authorization should be done by <strong>Authomatic capture (true)</strong> or <strong><a href="https://developercielo.github.io/en/manual/cielo-ecommerce#capture">posterior capture</a> (false)</strong>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Defines if the shopper will be directed to the issuing bank for a card authetication.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates if the transaction is recurring (“true”) or not (“false”). The value “true” won’t originate a new recurrence, it will only allow a transaction without the need to send the security code. <code class="language-plaintext highlighter-rouge">Authenticate</code> should be “false” if <code class="language-plaintext highlighter-rouge">Recurrent</code> is “true”. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#recurring-payments">Recurring Payments</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>No (default false)</td>
      <td>Should be send as “true” if the transaction is to sell or buy criptocurrency.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AirlineData.TicketNumber</code></td>
      <td>alphanumeric</td>
      <td>13</td>
      <td>No</td>
      <td>Inform the number of the main airline ticket of the transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>text</td>
      <td>19</td>
      <td>Yes</td>
      <td>Shopper’s card number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>text</td>
      <td>25</td>
      <td>No</td>
      <td>Name of the shopper that’s printed on the card. Does not accept special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiration date printed on the card. Example: MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>text</td>
      <td>4</td>
      <td>No</td>
      <td>Security code printed on the back of the card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the card will be saved to generate a <code class="language-plaintext highlighter-rouge">CardToken</code>. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand. Possible values: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Usage</code></td>
      <td>text</td>
      <td>-</td>
      <td>No</td>
      <td><strong>First</strong> if the card was stored and it’s your first use.<br /><strong>Used</strong> if the card was stored and has been used for another transaction before. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#card-on-file">Card On File</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Reason</code></td>
      <td>text</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates the motive for card storage, if the “Usage” field is “Used”. <br /> <strong>Recurring</strong> - Programmed recurring transaction (e.g. Subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence). <br /> <strong>Unscheduled</strong> - Recurring transaction with no fixed date (e.g. service apps) <br /><strong>Installments</strong> - Installments through recurring transactions. Get more information on the topic <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#card-on-file" target="_blank">Card On File</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code></td>
      <td>string</td>
      <td>2</td>
      <td>Conditional. Required only for Mastercard.</td>
      <td>Transaction Initiator Indicator category. <em>Valid only for Mastercard</em>.<br />Possible values:<br />- “C1”: transaction initiated by the cardholder;<br />- “M1”: recurring payment or installment initiated by the merchant<br />- “M2”: transaction initiated by the merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code></td>
      <td>string</td>
      <td>-</td>
      <td>Conditional. Required only for Mastercard.</td>
      <td>Transaction Initiator Indicator subcategory. <em>Valid only for Mastercard</em>. Please refer to the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator-tables">Transaction Initiator Indicator</a> tables for the full list.</td>
    </tr>
  </tbody>
</table>

<h5 id="response-1">Response</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92745135160550440006111072222"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TryAutomaticCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MerchantAdviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito completo"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
          <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
          <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,        
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"TryAutomaticCancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"MerchantAdviceCode"</span>:<span class="s2">"1"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice. Does not allow special characters.</td>
      <td>text</td>
      <td>13</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number, needed for future operations like Consulting, Capture and Cancellation.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Indicates how safe a transaction is.</td>
      <td>text</td>
      <td>2</td>
      <td>Examples: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction status. Check out the complete <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">Transactional status codes</a> table.</td>
      <td>byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Acquiring return code.</td>
      <td>text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Acquiring return message.</td>
      <td>text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.MerchantAdviceCode</code></td>
      <td>Card brand’s return code that defines the period for transaction submission retry. <em>Valid only for Mastercard</em>. See more at <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard">Mastercard retry program</a></td>
      <td>text</td>
      <td>2</td>
      <td>Number</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TryAutomaticCancellation</code></td>
      <td>In case of error during authorization (status “Not Finished - 0”), the response will include the “tryautomaticcancellation” field as “true”. In this case, the transaction will be automatically queried, and if it has been authorized successfully, it will be canceled automatically. This feature must be enabled for establishment. To enable, please contact our technical support.</td>
      <td>boolean</td>
      <td>-</td>
      <td>true ou false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.PaymentAccountReference</code></td>
      <td>PAR (payment account reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to Cielo e-commerce customers. If the card brand doesn’t send the information the field will not be returned.</td>
      <td>alphanumeric</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h3 id="debit-cards">Debit cards</h3>

<p>This payment method is automatically released along to the Cielo’s affiliation.</p>

<p>Every debit transaction should be authenticated by demand of the issuing banks and card brands, to ensure better safety.</p>

<p>To authenticate a debit transaction, we use the EMV 3DS 2.0 protocol; this protocol is a script integrated to your e-commerce that verifies the identity of the shopper while keeping a positive shopping experience and reducing the risk of fraud.</p>

<p>To integrate the authentication method, check the <a href="https://developercielo.github.io/en/manual/3ds" target="\_blank">3DS 2.0 documentation</a>.</p>

<aside class="warning">WARNING: Cielo doesn't offer the first version of the authentication protocol (3DS 1.0), since card brands and issuers are discontinuing this option.</aside>

<blockquote>
  <p><strong>Debit without authentication</strong>: or “debit without password”, can only be done when the e-commerce has the issuing bank’s authorization to dismiss the authentication. In case you have that permission, send the field <code class="language-plaintext highlighter-rouge">Authenticate</code> as “false” in the standard request for debit card.</p>
</blockquote>

<h4 id="creating-a-debit-transaction">Creating a debit transaction</h4>

<p>To sell with a debit card, you should request using the POST method. The example below shows the minimum necessary fields that should be sent for the authorization.</p>

<blockquote>
  <p><strong>Mastercard debit transactions with stored credentials</strong>: Mastercard requires the submission of the <strong>Transaction Initiator Indicator</strong> for <strong>credit and debit card</strong> purchases that use a card’s stored data. The objective is to indicate whether the transaction was initiated by the shopper (Cardholder-Initiated Transaction - CIT) or by the e-commerce (Merchant-Initiated Transaction - MIT). In this scenario, it is mandatory to send the <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator</code> node with the <code class="language-plaintext highlighter-rouge">Category</code> and <code class="language-plaintext highlighter-rouge">SubCategory</code> parameters for Mastercard transactions, within the <code class="language-plaintext highlighter-rouge">Payment</code> node. Check out the list of categories in the <code class="language-plaintext highlighter-rouge">Category</code> parameter description and the full table of subcategories in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator">Mastercard Transaction Initiator</a>.</p>
</blockquote>

<blockquote>
  <p>Attention: It is not possible to carry out a transaction with an amount (<code class="language-plaintext highlighter-rouge">Amount</code>) 0. To check the validity of a card, use <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#zero-auth">Zero Auth</a>.</p>
</blockquote>

<blockquote>
  <p>In the standard debit transaction (with authentication), send <code class="language-plaintext highlighter-rouge">Authenticate</code> = “true”.</p>
</blockquote>

<h5 id="request-2">Request</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5551870000000181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReferenceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014121201"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Cartão de débito"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"Amount"</span>:15700,
      <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"5551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>
      <span class="o">}</span>,
      <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
         <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
         <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
         <span class="s2">"Eci"</span>:<span class="s2">"5"</span>,
         <span class="s2">"Version"</span>:<span class="s2">"2"</span>,
         <span class="s2">"ReferenceID"</span>:<span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span>
      <span class="o">}</span>,      
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order Identifier field at the e-commerce.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in store (NEW / EXISTING) - Used for fraud analysis</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the payment method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Defines if the shopper will be directed to the issuing bank for the authentication of the card.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL to where the user will be redirected after payment.</td>
      <td>Text</td>
      <td>1024</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Should be send as “true” if the transaction is to sell or buy criptocurrency.</td>
      <td>Boolean</td>
      <td>-</td>
      <td>No (default false)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.CardNumber</code></td>
      <td>Customer’s card number.</td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.Holder</code></td>
      <td>Customer’s name printed on the card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.ExpirationDate</code></td>
      <td>Expiration date printed on the card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.SecurityCode</code></td>
      <td>Security code printed on the back of the card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code></td>
      <td>Transaction start indicator category. Valid only for Mastercard brand.<br />Possible values:<br />- “C1”: transaction initiated by the cardholder;<br />- “M1”: recurring or installment transaction initiated by the store;<br />- “M2” : transaction initiated by the e-commerce.</td>
      <td>string</td>
      <td>2</td>
      <td>Conditional. Required only for Mastercard.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code></td>
      <td>Indicator subcategory. Valid only for Mastercard brand.<br />Possible values:<br />If <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “C1” or “M1”<br /><em>CredentialsOnFile</em><br /><em>StandingOrder</em><br /><em>Subscription</em><br /> <em>Installment</em><br />If <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “M2”<br /><em>PartialShipment</em><br /><em>RelatedOrDelayedCharge</em><br /><em>NoShow</em><br /><em>Resubmission</em><br />See the table with the description of subcategories in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator">Mastercard transaction start indicator</a>.</td>
      <td>string</td>
      <td>-</td>
      <td>Conditional. Required only for Mastercard.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>E-Commerce Indicator returned on the authentication process.</td>
      <td>Number</td>
      <td>1</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExternalAuthentication.ReferenceId</code></td>
      <td><code class="language-plaintext highlighter-rouge">RequestID</code> returned on the authentication process.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h5 id="response-2">Response</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IC722LCXBROSHBPIBK7B44MBXO5HF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"635288"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0826104754051"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132471"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-26 10:47:53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-26 10:47:54"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21c9a3e7-23c2-420b-b12d-b514ef271c85"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/21c9a3e7-23c2-420b-b12d-b514ef271c85"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Cartão de débito"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"555187******0181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Master"</span>,
            <span class="s2">"PaymentAccountReference"</span>: <span class="s2">"IC722LCXBROSHBPIBK7B44MBXO5HF"</span>
        <span class="o">}</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"635288"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0826104754051"</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"132471"</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"ExternalAuthentication"</span>: <span class="o">{</span>
            <span class="s2">"Cavv"</span>: <span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
            <span class="s2">"Xid"</span>: <span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
            <span class="s2">"Eci"</span>: <span class="s2">"5"</span>,
            <span class="s2">"Version"</span>: <span class="s2">"2"</span>,
            <span class="s2">"ReferenceId"</span>: <span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span>
        <span class="o">}</span>,        
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-08-26 10:47:53"</span>,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-08-26 10:47:54"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"21c9a3e7-23c2-420b-b12d-b514ef271c85"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/21c9a3e7-23c2-420b-b12d-b514ef271c85"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL to where the e-commerce should redirect the shopper for the debit flow.</td>
      <td>Text</td>
      <td>56</td>
      <td>Authentication URL</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id at the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number, needed for future operations like Queries, Capture and Cancellation.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnUrl</code></td>
      <td>Return URL for the store. URL where the store will be redirected after the flow.</td>
      <td>Text</td>
      <td>1024</td>
      <td>http://www.urlecommerce.com.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status. Check out the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">Transactional Status codes</a> table</td>
      <td>Byte</td>
      <td>—</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Acquirer return code.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.MerchantAdviceCode</code></td>
      <td>Card brand’s return code that defines the period for transaction submission retry.<em>Valid only for Mastercard</em>. See more at <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras#mastercard" target="\_blank">Mastercard Retry Program</a>.</td>
      <td>Text</td>
      <td>2</td>
      <td>Number</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.PaymentAccountReference</code></td>
      <td>PAR (payment account reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to Cielo e-commerce customers. If the card brand doesn’t send the information the field will not be returned.</td>
      <td>Alphanumeric</td>
      <td>29</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="3d-secure-authentication">3D Secure Authentication</h3>

<p>Cielo offers 3DS 2.0, a transaction authenticating protocol. Authentication is optional for credit cards transactions and required for debit cards transaction, as determined by issuing banks and card brands.</p>

<p>To integrate the authentication to your transactions:</p>

<ol>
  <li><strong>Integrate the 3DS 2.0 script</strong> to your payment page, as instructed on the <a href="https://developercielo.github.io/en/manual/3ds" target="\_blank">3DS guide</a>;</li>
  <li>In the credit or debit <strong>transaction request</strong>, <strong>send the aditional node</strong> <code class="language-plaintext highlighter-rouge">ExternalAuthentication</code>, as the following examples.</li>
</ol>

<aside class="notice">The 3DS 1.0 authentication is being discontinued by the card brands. New integrations should follow the 3DS 2.0 protocol.</aside>

<h4 id="credit-card-with-authentication">Credit card with authentication</h4>

<h5 id="request-3">Request</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito completo"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"Recurrent"</span>:<span class="s2">"false"</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"AirlineData"</span>:<span class="o">{</span>
         <span class="s2">"TicketNumber"</span>:<span class="s2">"AR988983"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
      <td>Store identifier at Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>text</td>
      <td>40</td>
      <td>Yes</td>
      <td>Public key for double authentication at Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>header</td>
      <td>40</td>
      <td>Yes</td>
      <td>application/json (required).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
      <td>Order ID number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s name</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>The customer’s registration status on the store. (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>text</td>
      <td>14</td>
      <td>No</td>
      <td>Customer’s RG, CPF or CNPJ.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s type of identification (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s e-mail</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>date</td>
      <td>10</td>
      <td>No</td>
      <td>Customer’s birth date (AAAA/MM/DD).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>text</td>
      <td>15</td>
      <td>No</td>
      <td>Customer’s address number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s address complement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>text</td>
      <td>9</td>
      <td>No</td>
      <td>Customer’s Zip Code</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s address’ city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>text</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s address’ state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>text</td>
      <td>35</td>
      <td>No</td>
      <td>Customer’s address’ country.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s delivery address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>text</td>
      <td>15</td>
      <td>No</td>
      <td>Customer’s delivery address number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s delivery address complement.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>text</td>
      <td>9</td>
      <td>No</td>
      <td>Customer’s delivery address Zip Code.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>text</td>
      <td>50</td>
      <td>No</td>
      <td>Customer’s delivery address city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>text</td>
      <td>2</td>
      <td>No</td>
      <td>Customer’s delivery address state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>text</td>
      <td>35</td>
      <td>No</td>
      <td>Customer’s delivery address country.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>text</td>
      <td>100</td>
      <td>Yes</td>
      <td>Type of the payment method.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>number</td>
      <td>15</td>
      <td>Yes</td>
      <td>Order Amount (to be sent in cents).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>text</td>
      <td>3</td>
      <td>No</td>
      <td>Currency in which the payment will be made (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>text</td>
      <td>3</td>
      <td>No</td>
      <td>Country in which the payment will be made.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>text</td>
      <td>15</td>
      <td>—</td>
      <td>Defines the behavior for the payment method/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>number</td>
      <td>15</td>
      <td>No</td>
      <td>Appliable only to airline companies. Order amount that will be destined to service tax. PS.: This amount is not added to the authorization amount.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>text</td>
      <td>13</td>
      <td>No</td>
      <td>The store’s name that will be on the shopper’s bank invoice. Does not allow special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>number</td>
      <td>2</td>
      <td>Yes</td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>text</td>
      <td>10</td>
      <td>No</td>
      <td>Type of installments - e-commerce (ByMerchant) or card (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the authorization should be done by <strong>authomatic capture</strong> (“true”) or <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#capture">posterior capture</a> (“false”).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Defines if the shopper will be directed to the issuing bank for card authetication.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates if the transaction is recurring (“true”) or not (“false”). The value “true” won’t originate a new recurrence, it will only allow a transaction without the need to send the security code. <code class="language-plaintext highlighter-rouge">Authenticate</code> should be “false” if <code class="language-plaintext highlighter-rouge">Recurrent</code> is “true”. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#recurring-payments">Recurring Payments</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>No (default false)</td>
      <td>Should be send as “true” if the transaction is to sell or buy criptocurrency.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AirlineData.TicketNumber</code></td>
      <td>alphanumeric</td>
      <td>13</td>
      <td>No</td>
      <td>Inform the number of the main airline ticket of the transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>text</td>
      <td>19</td>
      <td>Yes</td>
      <td>Shopper’s card number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>text</td>
      <td>25</td>
      <td>No</td>
      <td>Name of the shopper printed on the card. Does not accept special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiration date printed on the card. E.g. MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>text</td>
      <td>4</td>
      <td>No</td>
      <td>Security code printed on the back of the card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the card will be saved to generate a <code class="language-plaintext highlighter-rouge">CardToken</code>. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand. Possible values: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>text</td>
      <td>-</td>
      <td>No</td>
      <td><strong>First</strong> if the card was stored and it’s its first use.<br /><strong>Used</strong> if the card was stored and has been used for another transaction before.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>text</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates the motive for card storage, if the “Usage” field is “Used”. <br /> <strong>Recurring</strong> - Programmed recurring transaction (e.g. Subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence). <br /> <strong>Unscheduled</strong> - Recurring transaction with no fixed date (e.g. service apps) <br /><strong>Installments</strong> - Installments through recurring transactions.</td>
    </tr>
  </tbody>
</table>

<h5 id="response-3">Response</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92745135160550440006111072222"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TryAutomaticCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MerchantAdviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito completo"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"TryAutomaticCancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"MerchantAdviceCode"</span>:<span class="s2">"1"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to the NSU.</td>
      <td>text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice. Does not allow special characters.</td>
      <td>text</td>
      <td>13</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number, needed for future operations like Queries, Capture and Cancellation.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Indicates how safe a transaction is.</td>
      <td>text</td>
      <td>2</td>
      <td>E.g. 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction status. Check out the complete <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">Transactional status codes</a> table.</td>
      <td>byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Acquirer return code.</td>
      <td>text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Acquirer return message.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantAdviceCode</code></td>
      <td>Card brand’s return code that defines the period for transaction submission retry. <em>Valid only for Mastercard</em>. See more at <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras#mastercard">Mastercard retry program</a></td>
      <td>text</td>
      <td>2</td>
      <td>Number</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TryAutomaticCancellation</code></td>
      <td>In case of error during authorization (status “Not Finished - 0”), the response will include the “tryautomaticcancellation” field as “true”. In this case, the transaction will be automatically queried, and if it has been authorized successfully, it will be canceled automatically. This feature must be enabled for establishment. To enable, please contact our technical support.</td>
      <td>boolean</td>
      <td>-</td>
      <td>true or false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>PAR (payment account reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to Cielo e-commerce customers. If the card brand doesn’t send the information the field will not be returned.</td>
      <td>alphanumeric</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h4 id="debit-card-with-authentication">Debit card with authentication</h4>

<p>The debit transaction with authentication is the standard for this payment method. Follow the integration steps at the <a href="https://developercielo.github.io/en/manual/3ds" target="\_blank">3DS guide</a> and send the request as shown in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-debit-transaction">Creating a debit transaction</a>.</p>

<h4 id="external-mpi">External MPI</h4>

<p>The Merchant plug-in, known as MPI, is a service that allows you to make the call for authentication, integrated and certified with card brands for 3DS authentication processing. Cielo offers the merchant the 3DS integration through the Internal MPI or the External MPI.</p>

<ul>
  <li>
    <p><strong>Internal MPI</strong>: it is a service already integrated to 3DS Cielo, there is no need to integrate or hire.</p>
  </li>
  <li>
    <p><strong>External MPI</strong>: used when your e-commerce hires a MPI solution, without Cielo’s participation. No matter the 3DS version hired, follow the <a href="https://developercielo.github.io/en/manual/3ds#authorization-with-authentication" target="\_blank">Authorization with Authentication guide</a>.</p>
  </li>
</ul>

<h3 id="mastercard-transaction-initiator">Mastercard Transaction Initiator</h3>

<p>The following tables apply to <strong>Mastercard credit and debit</strong> transactions with <strong>stored credentials</strong>. The objective is to identify whether the transaction was initiated by the <strong>cardholder</strong> or by the <strong>merchant</strong>:</p>

<ul>
  <li><strong>Cardholder-Initiated Transaction (CIT)</strong>: the transaction is initiated by the cardholder, who provides their payment credentials and allows them to be stored.</li>
  <li><strong>Merchant-Initiated Transaction (MIT)</strong>: the transaction is initiated by the merchant, after an agreement in which the cardholder authorizes the merchant to save and use the account data to initiate one or more transactions in the future (such as recurrent payments or installments, and charges commonly applied by the tourism and hospitality sector).
<br />
<br /></li>
</ul>

<p>The transaction initiator indicator must be sent in the node <code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator</code>, within parameters <code class="language-plaintext highlighter-rouge">Category</code> and <code class="language-plaintext highlighter-rouge">Subcategory</code>. Please refer to the following request example and tables for more information:</p>

<h4 id="request-4">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="err">(...)</span><span class="w">
    </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">(...)</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="o">(</span>...<span class="o">)</span>
    <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
        <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
        <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,
    <span class="o">(</span>...<span class="o">)</span>
   <span class="o">}</span>
</code></pre></div></div>

<blockquote>
  <p>For the full request example see <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-credit-card-transaction">Creating a credit card transaction</a> or <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-debit-transaction">Creating a debit transaction</a>.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code></td>
      <td>string</td>
      <td>2</td>
      <td>Conditional. Required only for Mastercard.</td>
      <td>Transaction Initiator Indicator category. <em>Valid only for Mastercard</em>.<br />Possible values:<br />- “C1”: transaction initiated by the cardholder;<br />- “M1”: recurring payment or installment initiated by the merchant<br />- “M2”: transaction initiated by the merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code></td>
      <td>string</td>
      <td>-</td>
      <td>Conditional. Required only for Mastercard.</td>
      <td>Transaction Initiator Indicator subcategory. <em>Valid only for Mastercard</em>. Please refer to the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator-tables">Transaction Initiator Indicator</a> tables for the full list.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-4">Response</h4>

<p>The response will be the default response for the credit or debit transaction, returning the node <code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator</code> as sent in the request.</p>

<h4 id="mastercard-transaction-initiator-tables">Mastercard transaction initiator tables</h4>

<h5 id="cit-and-mit-categories">CIT and MIT categories</h5>

<p>The categories (C1, M1 or M2) must be sent in parameter <code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code>.</p>

<table>
  <thead>
    <tr>
      <th>Category</th>
      <th>Transaction initiator</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">C1</code></td>
      <td>Cardholder-initiated transaction (CIT).</td>
      <td>The transaction is initiated by the cardholder. The cardholder provides card data and agrees with the merchant storing payment credentials or makes a purchase using previously stored payment credentials. The subcategory will indicate the reason for the purchase or for storing card data.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M1</code></td>
      <td>Merchant-initiated transaction (MIT).</td>
      <td>The merchant has stored the payment credentials in the past (tokenized and with cardholder consent) and is authorized to initiate one or more transactions in the future for recurrent payments or installments.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M2</code></td>
      <td>Merchant-initiated transaction (MIT).</td>
      <td>The merchant has stored the payment credentials in the past (tokenized and with cardholder consent) and is authorized to initiate one or more transactions in the future in order to charge for partial deliveries, related/delayed expenses, <em>no-show</em> fees and retry/resubmission.</td>
    </tr>
  </tbody>
</table>

<h5 id="cit-and-mit-subcategories">CIT and MIT subcategories</h5>

<p>The subcategories must be sent in parameter <code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code>.</p>

<table>
  <thead>
    <tr>
      <th>Initiator category</th>
      <th>Initiator subcategory</th>
      <th>Meaning</th>
      <th>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">C1</code></td>
      <td><code class="language-plaintext highlighter-rouge">CredentialsOnFile</code></td>
      <td>Cardholder-initiated transaction in which the cardholder provides card data and agrees with the merchant storing payment credentials or makes a purchase using previously stored payment credentials.</td>
      <td>The cardholder initiates the purchase and the merchant is authorized to save card data for future purchases initiated by the cardholder, such as <em>one-click-buy</em>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">C1</code></td>
      <td><code class="language-plaintext highlighter-rouge">StandingOrder</code></td>
      <td>Cardholder-initiated transaction in which the cardholder provides card data and agrees with the merchant storing payment credentials for future payments of fixed amount and variable frequency.</td>
      <td>Initial transaction to store card data for utility bills monthly payments.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">C1</code></td>
      <td><code class="language-plaintext highlighter-rouge">Subscription</code></td>
      <td>Cardholder-initiated transaction in which the cardholder provides card data and agrees with the merchant storing payment credentials for recurrent payments of fixed amount and frequency.</td>
      <td>Initial transaction to store card data for a monthly subscription (e.g .newspapers and magazines).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">C1</code></td>
      <td><code class="language-plaintext highlighter-rouge">Installment</code></td>
      <td>Cardholder-initiated transaction in which the cardholder initiates the first installment and authorizes the merchant to save card data for the next installments.</td>
      <td>Initial transaction to store card data for installment buying</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M1</code></td>
      <td><code class="language-plaintext highlighter-rouge">CredentialsOnFile</code></td>
      <td>Merchant-initiated unscheduled transaction of fixed or variable amount.</td>
      <td>When the cardholder agrees with transactions for toll charges when the balance in their account is below a certain amount (auto-recharge).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M1</code></td>
      <td><code class="language-plaintext highlighter-rouge">StandingOrder</code></td>
      <td>Merchant-initiated transaction of variable amount and fixed frequency.</td>
      <td>Utility bills monthy payments.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M1</code></td>
      <td><code class="language-plaintext highlighter-rouge">Subscription</code></td>
      <td>Merchant-initiated transaction of fixed amount and fixed frequency.</td>
      <td>Monthly subscription or fixed monthly service payment.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M1</code></td>
      <td><code class="language-plaintext highlighter-rouge">Installment</code></td>
      <td>Merchant-initiated transaction of known amount and defined period.</td>
      <td>If a shopper buys a TV for $600 and chooses to pay in three $200 installments; in this situation, the first transaction is initiated by the cardholder and the following two transactions are initiated by the merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M2</code></td>
      <td><code class="language-plaintext highlighter-rouge">PartialShipment</code></td>
      <td>Merchant-initiated transaction when the order will be delivered in more than one shipping.</td>
      <td>Partial shipment may occur when the amount of purchased goods in the e-commerce is not available for shipping in the time of purchase. Each shipping is a separate transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M2</code></td>
      <td><code class="language-plaintext highlighter-rouge">RelatedOrDelayedCharge</code></td>
      <td>Merchant-initiated transaction for additional expenses, i.e., additional charges after providing initial services and processing the payment.</td>
      <td>A hotel minibar fridge charges after cardholder check-out.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M2</code></td>
      <td><code class="language-plaintext highlighter-rouge">NoShow</code></td>
      <td>Merchant-initiated transaction for <em>no-show</em> charges according to the merchant cancellation policy.</td>
      <td>The cancellation of a reservation by the cardholder without adequate prior notice to the merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">M2</code></td>
      <td><code class="language-plaintext highlighter-rouge">Resubmission</code></td>
      <td>Merchant-initiated transaction for retrying previously denied transactions.</td>
      <td>The previous attempt to submit a transaction was denied, but the issuer response does not prohibit the merchant to retry, such as insufficient funds/response above credit limit.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Important</strong>: Card data is stored in encrypted format.</p>
</blockquote>

<h2 id="pix">Pix</h2>

<p>For <strong>Pix</strong>, the transmission for the payment order and the availability of funds for the receiver happens in real time, 24 hours a day and without the need of intermediaries. It is a payment method that allows fast and low cost transactions.</p>

<p>Get to know the cycle of a <strong>Pix</strong> transaction:</p>

<table>
  <thead>
    <tr>
      <th>SEQUENCE</th>
      <th>RESPONSIBLE</th>
      <th>DESCRIPTION</th>
      <th>TRANSACTION STATUS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>E-commerce</td>
      <td>Generating the QR code.</td>
      <td>12 - Pending</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Shopper</td>
      <td>Paying through the QR code.</td>
      <td>2 - Paid</td>
    </tr>
    <tr>
      <td>3</td>
      <td>E-commerce</td>
      <td>Getting notified of the payment confirmation.</td>
      <td>2 - Paid</td>
    </tr>
    <tr>
      <td>4</td>
      <td>E-commerce</td>
      <td>Consulting the transaction status.</td>
      <td>2 - Paid</td>
    </tr>
    <tr>
      <td>5</td>
      <td>E-commerce</td>
      <td>Releasing the order.</td>
      <td>2 - Paid</td>
    </tr>
    <tr>
      <td>6</td>
      <td>E-commerce</td>
      <td>If it’s necessary, requesting the Pix transaction refund (similar to a card refund).</td>
      <td>2 - Paid</td>
    </tr>
    <tr>
      <td>7</td>
      <td>E-commerce</td>
      <td>Getting notified of the payment refund.</td>
      <td>11 - Refunded</td>
    </tr>
    <tr>
      <td>8</td>
      <td>E-commerce</td>
      <td>Consulting the transaction status.</td>
      <td>11 - Refunded</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>WARNING</strong>:</p>
  <ul>
    <li>To enable Pix for the sandbox environment, get in touch with our E-commerce support e-mail: <em>cieloecommerce@cielo.com.br</em>;</li>
    <li>Before using Pix in production, certify that Pix is allowed in your account. To confirm, you just have to access <a href="https://www.cielo.com.br/" target="\_blank">Cielo portal</a> in the logged in area go to <strong>Meu Cadastro</strong> &gt; <strong>Autorizações</strong> &gt; <strong>PIX</strong>
<img src="https://developercielo.github.io/images/apicieloecommerce/adesao-pix.png" alt="Geração do QR Code Pix" /></li>
  </ul>
</blockquote>

<h3 id="creating-a-transaction-with-pix-qr-code">Creating a transaction with Pix QR Code</h3>

<p>To generate a Pix QR code through the API E-commerce Cielo, simply perform the integration according to the following specification.</p>

<p>The required field <code class="language-plaintext highlighter-rouge">Payment.Type</code> should be sent as “Pix”. In the response, the Pix QR Code image <em>code base64</em> will be returned and you should make it available to the shopper.</p>

<p>Check the <strong>transactional flow</strong> for generating a Pix QR Code:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/geracao-qr-code-pix-en.png" alt="Geração do QR Code Pix" /></p>

<p>The shopper then scans the QR code through one of the apps enabled for Pix and makes the payment. At this stage there is no participation from the e-commerce or the Cielo E-commerce API, as shown in the flow:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/pagamento-pix-en.png" alt="Pagamento Pix" /></p>

<aside class="notice">The QRCode for Cielo Pix expires in two hours.</aside>

<p>See the request and response examples for generating Pix QR Code:</p>

<h4 id="request-5">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020102601"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Pagador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pix"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://(...)/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2020102601"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Pagador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"12345678909"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="s2">"Type"</span>:<span class="s2">"Pix"</span>,
      <span class="s2">"Amount"</span>:100
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order Id number.</td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper name.</td>
      <td>text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Shopper’s ID number (CPF/CNPJ)</td>
      <td>text</td>
      <td>14</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Shopper’s type of ID (CPF or CNPJ).</td>
      <td>text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Payment type. In this case, “Pix”.</td>
      <td>text</td>
      <td>-</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Payment value amount in cents.</td>
      <td>number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-5">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2020102601"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Pagador"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
      </span><span class="err">(...)</span><span class="w">
      </span><span class="nl">"Paymentid"</span><span class="p">:</span><span class="s2">"1997be4d-694a-472e-98f0-e7f4b4c8f1e7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Pix"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="s2">"86c200c7-7cdf-4375-92dd-1f62dfa846ad"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"QrcodeBase64Image"</span><span class="p">:</span><span class="s2">"rfhviy64ak+zse18cwcmtg==[...]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"QrCodeString"</span><span class="p">:</span><span class="s2">"00020101021226880014br.gov.bcb.pix2566qrcodes-h.cielo.com.br/pix-qr/d05b1a34-ec52-4201-ba1e-d3cc2a43162552040000530398654041.005802BR5918Merchant Teste HML6009Sao Paulo62120508000101296304031C"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="s2">"2020-10-15 18:53:20"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="s2">"Pix gerado com sucesso"</span><span class="p">,</span><span class="w">
      </span><span class="err">(...)</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2020102601"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Pagador"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="o">(</span>...<span class="o">)</span>
      <span class="s2">"PaymentId"</span>:<span class="s2">"1997be4d-694a-472e-98f0-e7f4b4c8f1e7"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"Pix"</span>,
      <span class="s2">"AcquirerTransactionId"</span>:<span class="s2">"86c200c7-7cdf-4375-92dd-1f62dfa846ad"</span>,
         <span class="s2">"ProofOfSale"</span>:<span class="s2">"123456"</span>,
      <span class="s2">"QrcodeBase64Image"</span>:<span class="s2">"rfhviy64ak+zse18cwcmtg==[...]"</span>,
      <span class="s2">"QrCodeString"</span>:<span class="s2">"00020101021226880014br.gov.bcb.pix2566qrcodes-h.cielo.com.br/pix-qr/d05b1a34-ec52-4201-ba1e-d3cc2a43162552040000530398654041.005802BR5918Merchant Teste HML6009Sao Paulo62120508000101296304031C"</span>,
      <span class="s2">"Amount"</span>:100,
      <span class="s2">"ReceivedDate"</span>:<span class="s2">"2020-10-15 18:53:20"</span>,
      <span class="s2">"Status"</span>:12,
      <span class="s2">"ReturnCode"</span>:<span class="s2">"0"</span>,
      <span class="s2">"ReturnMessage"</span>:<span class="s2">"Pix gerado com sucesso"</span>,
      <span class="o">(</span>...<span class="o">)</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentId</code></td>
      <td>Payment ID number.</td>
      <td>GUID</td>
      <td>40</td>
      <td>Text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AcquirerTransactionId</code></td>
      <td>Transaction Id for the provider of the payment methods.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>NSU Pix.</td>
      <td>text</td>
      <td>20</td>
      <td>Alphanumeric Text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.QrcodeBase64Image</code></td>
      <td>Base64 code for the QR Code image.</td>
      <td>text</td>
      <td>-</td>
      <td>Text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.QrCodeString</code></td>
      <td>Codified text for the shopper to copy and paste in the internet banking field for mobile payments. The availability of this code is the merchant’s responsibility. We recommend displaying a button that, when clicked, the shopper copies the code.</td>
      <td>text</td>
      <td>Variable</td>
      <td>Alphanumeric Text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Status</code></td>
      <td>Transaction status. In case of success, the inital status is “12” (<em>Pending</em>). See the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">transaction status list</a>.</td>
      <td>number</td>
      <td>-</td>
      <td>12</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnCode</code></td>
      <td>Code returned by the provider of the payment method.</td>
      <td>text</td>
      <td>32</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnMessage</code></td>
      <td>Message returned by the provider of the payment method.</td>
      <td>text</td>
      <td>512</td>
      <td>“Pix successfully generated”</td>
    </tr>
  </tbody>
</table>

<h3 id="requesting-pix-refund">Requesting Pix refund</h3>

<p>If your store needs to cancel a pix transaction, it’s possible to ask for a <strong>refund</strong>. It’s important to point out that the refund is not immediate and it needs to be approved by the Pix provider. When it is approved, your store will get <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#notification-post" target="\_blank">notified</a>.<br /></p>

<blockquote>
  <p><strong>Warning:</strong><br /></p>

  <ul>
    <li>The refund will only happen if there are funds available;<br /></li>
    <li>The deadline for cancellation is 90 days, as specified by BACEN.</li>
  </ul>
</blockquote>

<h4 id="request-6">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=xxx</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> PUT <span class="s2">"https://(...)/sales/{PaymentId}/void?Amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in Cielo.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public key for double authentication at Cielo.</td>
      <td>text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Amount to be cancelled/refunded in cents. Check if the acquirer supports cancellations or refunds.</td>
      <td>number</td>
      <td>15</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-6">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reembolso solicitado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://(...)/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
   <span class="s2">"Status"</span>: 12,
   <span class="s2">"ReasonCode"</span>: 0,
   <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
   <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
   <span class="s2">"ReturnMessage"</span>: <span class="s2">"Reembolso solicitado com sucesso"</span>,
   <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
         <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
         <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
         <span class="s2">"Href"</span>: <span class="s2">"https://(...)/sales/{PaymentId}"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction status.</td>
      <td>byte</td>
      <td>2</td>
      <td>E.g., “1”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReasonCode</code></td>
      <td>Indicates success or error in the requested operation. See more at <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-error-codes">API Error Codes</a>.</td>
      <td>text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReasonMessage</code></td>
      <td>Corresponding messa ge for the <code class="language-plaintext highlighter-rouge">ReasonCode</code>. Saiba mais em <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-error-codes">Códigos de Erros da API</a>.</td>
      <td>text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
  </tbody>
</table>

<h2 id="boleto">Boleto</h2>

<p>To make a Boleto transaction, you first need to hire this service at the bank. Then, configure the boleto payment method according to the guidelines in the <a href="https://developercielo.github.io/tutorial/manual-boleto" target="\_blank">Boletos guide</a>.</p>

<blockquote>
  <p><strong>Note</strong>: Banco do Brasil boletos do not have the automatic conciliation service.</p>
</blockquote>

<h3 id="request-7">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste Boleto"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"1234567890"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
          <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
          <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
          <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
          <span class="s2">"ZipCode"</span> : <span class="s2">"22750012"</span>,
          <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
          <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
          <span class="s2">"State"</span> : <span class="s2">"RJ"</span>,
          <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
           <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
           <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
           <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
           <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
           <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
           <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
           <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
           <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco2"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"BoletoNumber"</span>: <span class="s2">"123"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2020-12-31"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public key for double authentication in API E-commerce Cielo</td>
      <td>text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order ID number.</td>
      <td>text</td>
      <td>Bradesco: 27<br />Banco do Brasil: 50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>text</td>
      <td>Bradesco: 34<br />Banco do Brasil: 60</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in store(NEW / EXISTING) - Used by fraud analysis</td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Shopper’s address zip code.</td>
      <td>text</td>
      <td>9</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Shopper’s address country.</td>
      <td>text</td>
      <td>35</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Shopper’s address state.</td>
      <td>text</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Shopper’s address city.</td>
      <td>text</td>
      <td>Bradesco: 50<br />Banco do Brasil: 18</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Shopper’s neighborhood.</td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Shopper’s address.</td>
      <td>text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Shopper’s address number.</td>
      <td>text</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Street</code></td>
      <td>Shopper’s billing address.</td>
      <td>string</td>
      <td>24</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Number</code></td>
      <td>Shopper’s billing address number.</td>
      <td>string</td>
      <td>5</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Complement</code></td>
      <td>Shopper’s billing address complement.</td>
      <td>string</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Neighborhood</code></td>
      <td>Shopper’s billing address neighborhood.</td>
      <td>string</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.City</code></td>
      <td>Shopper’s billing address city.</td>
      <td>string</td>
      <td>20</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.State</code></td>
      <td>Shopper’s billing address state.</td>
      <td>string</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Country</code></td>
      <td>Shopper’s billing address country. More information at <a href="https://www.iso.org/obp/ui" target="\_blank">ISO 2-Digit Alpha Country Code</a></td>
      <td>string</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.ZipCode</code></td>
      <td>Shopper’s billing address Zip Code.</td>
      <td>string</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the payment method.</td>
      <td>text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Defines behavior of the payment method. Possible values: “Bradesco2” or “BancoDoBrasil2” - see <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#additional-rules">Additional Rules</a></td>
      <td>text</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Adress</code></td>
      <td>Transferor’s address.</td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Boleto number sent by the merchant. Used to count issued bank slips (“OurNumber”).</td>
      <td>number</td>
      <td>Bradesco: 11<br />Banco do Brasil: 9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Assignor</code></td>
      <td>Transferor’s name.</td>
      <td>text</td>
      <td>200</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Demonstrative</code></td>
      <td>Demonstration text.</td>
      <td>text</td>
      <td>450</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExpirationDate</code></td>
      <td>Boleto expiration date.</td>
      <td>date</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Identification</code></td>
      <td>Identification document of the Transferor.</td>
      <td>text</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>Boleto instructions.</td>
      <td>text</td>
      <td>450</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="response-7">Response</h3>

<p>For the boleto transaction response, API E-commerce Cielo will send the boleto URL and the bar code, which the e-commerce should display to the shopper.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Boleto Completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-05"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00096629900000157000494250000000012300656560"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Boleto Completo"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
        <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
        <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
        <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>: <span class="s2">"Centro"</span>
        <span class="o">}</span>,
      <span class="s2">"Billing"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
         <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
         <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
         <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
         <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
         <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2015-01-05"</span>,
        <span class="s2">"Url"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"123-2"</span>,
        <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00096629900000157000494250000000012300656560"</span>,
        <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco2"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment identification number, necessary for future operations such as Queries, Capture and Cancellation.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Instructions</code></td>
      <td>Boleto instructions.</td>
      <td>text</td>
      <td>450</td>
      <td>e.g.: Accept only until the due date, after that date interest of 1% per day.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Expiration date.</td>
      <td>text</td>
      <td>10</td>
      <td>2014-12-25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Url</code></td>
      <td>Generated Boleto URL.</td>
      <td>string</td>
      <td>256</td>
      <td>e.g.:https://…/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Number</code></td>
      <td>“NossoNumero” generated.</td>
      <td>text</td>
      <td>50</td>
      <td>e.g.: 1000000012-8</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BarCodeNumber</code></td>
      <td>Barcode numerical representation.</td>
      <td>text</td>
      <td>44</td>
      <td>e.g.: 00091628800000157000494250100000001200656560</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DigitableLine</code></td>
      <td>Digitable line.</td>
      <td>text</td>
      <td>256</td>
      <td>e.g.: 00090.49420 50100.000004 12006.565605 1 62880000015700</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Assignor</code></td>
      <td>Transferor’s name.</td>
      <td>text</td>
      <td>256</td>
      <td>e.g.: Test Store</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Address</code></td>
      <td>Transferor’s address.</td>
      <td>text</td>
      <td>256</td>
      <td>e.g.: 160 Test Avenue</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Identification</code></td>
      <td>Identification document of the Transferor.</td>
      <td>text</td>
      <td>14</td>
      <td>CPF or CNPJ of the Transferor without the special characters (., /, -)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status. View the full <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">Transactional Status</a> table</td>
      <td>byte</td>
      <td>—</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h3 id="additional-rules">Additional Rules</h3>

<p>Number of characters per field and Provider:</p>

<p><strong>Bradesco</strong></p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Notes</th>
      <th>Size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>N/a</td>
      <td>Bradesco2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Only letters, numbers, and characters like “_” and “$”.</td>
      <td>27</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>The value is validated by the bank.</td>
      <td>11</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>The API Cielo truncates automatically.</td>
      <td>34</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>The value is validated by API Cielo.</td>
      <td>70</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>The value is validated by API Cielo.</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>The value is validated by API Cielo.</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>The value is validated by API Cielo.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>The value is validated by API Cielo.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Demonstrative</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<p><strong>Banco do Brasil</strong></p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Notes</th>
      <th>Size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>BancoDoBrasil2</td>
      <td>BancoDoBrasil2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Not sent to the bank.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>When sent above 9 positions, the API Cielo truncates automatically, considering the last 9 digits.</td>
      <td>9</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>60</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>The fields <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> should total 60 characters at maximum.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>The fields <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> should total 60 characters at maximum.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>The fields <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> should total 60 characters at maximum.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>The fields <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> should total 60 characters at maximum.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td><strong>Valid characters:</strong> <br /> Letters from A to Z - CAPITAL LETTERS <br /> <strong>Special characters:</strong> hyphen (-) and apostrophe (‘) <br /> When used, it can not contain spaces between letters; <br /> <strong>Correct examples</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Incorrect examples</strong>: D’EL - REI; at most one blank space between words.</td>
      <td>18</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h2 id="e-wallet">E-wallet</h2>

<p><strong>What are e-wallets?</strong></p>

<p><em>E-wallets</em>, or digital wallets, are repositories of cards and payment data for online consumers. E-wallets allow a consumer to register their payment details in the wallet, making the purchasing process more convenient and secure.</p>

<blockquote>
  <p>To use e-wallets in the API E-commerce Cielo, the merchant must have the <strong>e-wallets integrated into their checkout</strong>.</p>
</blockquote>

<p>Contact the provider of your choice for further information on how to hire the service.</p>

<h3 id="available-e-wallets">Available e-wallets</h3>

<p>API E-commerce Cielo supports the following digital wallets:</p>

<ul>
  <li><a href="https://www.apple.com/br/apple-pay/" target="\_blank"><em>Apple Pay</em></a></li>
  <li><a href="https://pay.google.com/intl/pt-BR_br/about/" target="\_blank"><em>Google Pay</em></a></li>
  <li><a href="https://www.samsung.com.br/samsungpay/" target="\_blank"><em>Samsung Pay</em></a></li>
</ul>

<aside class="warning">When the “Wallet” node is sent in the request, the “CreditCard” node becomes optional.</aside>

<aside class="warning">When the "Wallet" node is sent in the request, for the debit card it is necessary to send the "DebitCard" node containing the "ReturnUrl".</aside>

<aside class="notice">Attention: Due to the need to use ephemeral keys to carry out credit operations, Recurrence is not available for e-wallet transactions. </aside>

<h3 id="e-wallet-integration">E-wallet Integration</h3>

<p>Please refer to the <a href="https://developercielo.github.io/en/manual/e-wallets-ecommercecielo-en" target="\_blank">E-Wallets documentation</a> to get details about integrating this payment method to your checkout page.</p>

<p>See below the representation of a standard <strong>transactional flow</strong> after the integration of an e-wallet:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/e-wallets/e-wallets-cielo-en.jpg" alt="Fluxo E-wallets EN" /></p>

<h2 id="qr-code">QR Code</h2>

<h3 id="credit-card-via-qr-code-in-sandbox">Credit card via QR Code in Sandbox</h3>

<p>To test a successful authorization scenario via QR Code, use the card <strong>4551.8700.0000.0183</strong>.</p>

<p>The card verification code and expiration date can be random, but they should follow this format:</p>

<ul>
  <li>Code with 3 digits;</li>
  <li>Date in the <em>MM/YYYY</em> format.</li>
</ul>

<h3 id="generating-a-qr-code-via-api">Generating a QR Code via API</h3>

<p>To create a transaction that will use a credit card, you need to send a request using the <code class="language-plaintext highlighter-rouge">POST</code> method to the Payment resource, as the example shows. This example includes the minimum necessary fields to be sent for the authorization.</p>

<aside class="notice">Warning: It is not possible to make a transaction with the value (`Amount`) 0.</aside>

<blockquote>
  <p><strong>Payment Facilitators</strong> (or submerchants) must send the parameters within node <code class="language-plaintext highlighter-rouge">PaymentFacilitator</code> as required by Banco Central do Brasil and card brands. If the node <code class="language-plaintext highlighter-rouge">PaymentFacilitator</code> is not sent, the card brand may apply penalties to the submerchant.</p>
</blockquote>

<h4 id="request-8">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="w">
    </span><span class="nl">"QrCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Loja Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000130733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara 160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CompanyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lojinha01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90501654000191"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24999399555"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2019010101"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"Type"</span>: <span class="s2">"qrcode"</span>,
    <span class="s2">"Amount"</span>: 100,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Modality"</span>: <span class="s2">"Credit"</span>
    <span class="s2">"QrCode"</span>: <span class="o">{</span>
    <span class="s2">"MerchantName"</span>: <span class="s2">"Loja Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"PaymentFacilitator"</span>: <span class="o">{</span>     
        <span class="s2">"EstablishmentCode"</span>: <span class="s2">"12345"</span>,
        <span class="s2">"SubEstablishment"</span>: <span class="o">{</span>
            <span class="s2">"EstablishmentCode"</span>: <span class="s2">"2000130733"</span>,
            <span class="s2">"Mcc"</span>: <span class="s2">"8999"</span>,
            <span class="s2">"Address"</span>: <span class="s2">"Av Marechal Camara 160"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"CountryCode"</span>: <span class="s2">"76"</span>,
            <span class="s2">"PostalCode"</span>: <span class="s2">"20020080"</span>,
            <span class="s2">"CompanyName"</span>: <span class="s2">"Lojinha01"</span>,
            <span class="s2">"Identity"</span>: <span class="s2">"90501654000191"</span>,
            <span class="s2">"PhoneNumber"</span>: <span class="s2">"24999399555"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
      <td>Store identifier in Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>text</td>
      <td>40</td>
      <td>Yes</td>
      <td>Public key for double authentication in Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>header</td>
      <td>40</td>
      <td>Yes</td>
      <td>application/json (required).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
      <td>Order ID number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>text</td>
      <td>255</td>
      <td>No</td>
      <td>Shopper’s name</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>text</td>
      <td>100</td>
      <td>Yes</td>
      <td>Type of payment method. Send <strong>qrcode</strong> for a QR Code transaction.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>number</td>
      <td>15</td>
      <td>Yes</td>
      <td>Order amount (to be sent in cents).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>number</td>
      <td>2</td>
      <td>Yes</td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>No</td>
      <td>Send as <strong>true</strong> for the capture to be authomatic.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Modality</code></td>
      <td>text</td>
      <td>10</td>
      <td>No</td>
      <td>Indicates if the payment will be made with credit or debit. Possible values: “Credit” (standard) or “Debit”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.EstablishmentCode</code></td>
      <td>text*</td>
      <td>11</td>
      <td>Required for facilitators</td>
      <td>Facilitator’s establishment code. “Facilitator ID” (Registration of the facilitator with the card brands).<br />The code is different depending on the brand, varying even the size of the field:<br />MasterCard –06 digits<br />Visa –08 digits<br />ELO –from 04 to 05 digits<br />Hipercard –06 digits<br />For other brands, like Amex and JCB, the field can be filled in by “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>text*</td>
      <td>15</td>
      <td>Required for facilitators</td>
      <td>Submerchant establishment code. “Sub-Merchant ID” (Registration of sub-accredited with the facilitator)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>text*</td>
      <td>14</td>
      <td>Required for facilitators</td>
      <td>Submerchant CNPJ or CPF</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>text*</td>
      <td>4</td>
      <td>Required for facilitators</td>
      <td>Submerchant MCC.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>text*</td>
      <td>22</td>
      <td>Required for facilitators</td>
      <td>Submerchant address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.City</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Submerchant city.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.State</code></td>
      <td>text*</td>
      <td>2</td>
      <td>Required for facilitators</td>
      <td>Submerchant state.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>text*</td>
      <td>9</td>
      <td>Required for facilitators</td>
      <td>Submerchant Postcode.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>text*</td>
      <td>3</td>
      <td>Required for facilitators</td>
      <td>Submerchant country code based on ISO 3166.<br />Ex: Brazil’s ISO 3166 code is 076. <a href="https://www.iso.org/obp/ui/#search/code/" target="_blank">Complete list online</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Submerchant Phone Number.</td>
    </tr>
  </tbody>
</table>

<p>*Avoid using accents as they are considered two characters.</p>

<h4 id="response-8">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-02 10:14:29"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QrCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000130733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara 160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CompanyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lojinha01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90501654000191"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24999399555"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode gerado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2019010101"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: 0,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2019-01-02 10:14:29"</span>,
        <span class="s2">"Status"</span>: 12,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"QrCodeBase64Image"</span>: <span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span>,
        <span class="s2">"PaymentFacilitator"</span>: <span class="o">{</span>     
            <span class="s2">"EstablishmentCode"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"SubEstablishment"</span>: <span class="o">{</span>
                <span class="s2">"EstablishmentCode"</span>: <span class="s2">"2000130733"</span>,
                <span class="s2">"Mcc"</span>: <span class="s2">"8999"</span>,
                <span class="s2">"Address"</span>: <span class="s2">"Av Marechal Camara 160"</span>,
                <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
                <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
                <span class="s2">"CountryCode"</span>: <span class="s2">"76"</span>,
                <span class="s2">"PostalCode"</span>: <span class="s2">"20020080"</span>,
                <span class="s2">"CompanyName"</span>: <span class="s2">"Lojinha01"</span>,
                <span class="s2">"Identity"</span>: <span class="s2">"90501654000191"</span>,
                <span class="s2">"PhoneNumber"</span>: <span class="s2">"24999399555"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"QRCode gerado com sucesso"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"qrcode"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">QrCodeBase64Image</code></td>
      <td>QR Code codified in base 64. The image can be shown on the page using a HTML code like this:<br />&lt;img src="data:image/png;base64, image_code_in_base_64"&gt;</td>
      <td>text</td>
      <td>variable</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment identification number, necessary for future operations such as Queries, Capture and Cancellation.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction status. For QR code transactions, the initial status is 12 (Pending). View the full <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#transactional-status">Transactional Status</a> table</td>
      <td>byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Acquirer return code.</td>
      <td>text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Acquirer return message.</td>
      <td>text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
  </tbody>
</table>

<h2 id="carnê">Carnê</h2>

<p><strong>Carnê</strong> is a <strong>debit transaction</strong> used to pay an account.</p>

<blockquote>
  <p>Carnê is a payment method available for MasterCard, Visa and Elo.</p>
</blockquote>

<p>This payment method can be used by merchants who <strong>issue their own carnês and Private Label card invoices</strong>. It allows the <strong>separation of sales</strong> related to <strong>product purchases and payment for services</strong>, making it easier to report values to Tax Authorities.</p>

<p>As in any other debit transaction on our E-commerce, the carnê transactions need to be authenticated via the 3DS 2.0 protocol. Find more information about the authentication protocol on the <a href="https://developercielo.github.io/en/manual/3ds" target="\_blank"><strong>3DS 2.0 guide</strong></a>.</p>

<h3 id="request-9">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111704"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carnet simples"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CieloSandbox"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05/2024"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABAWFlmQAAAABjRWWZEEFgFz+="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blNhMmtMUWg4RDFoV2JaM1RRbjA="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"iscarnetransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCarneTransaction</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (default false)</td>
      <td>Must be sent with a value of “true” in the case of a Carnê service payment transaction.</td>
    </tr>
  </tbody>
</table>

<h2 id="specific-implementations">Specific Implementations</h2>

<h3 id="quasi-cash">Quasi cash</h3>

<p>Quasi Cash transactions are refer to purchases of currencies in online gaming, lottery tickets and more. Only a few MCCs (Merchant Category Codes) can process this type of transaction. Contact the Cielo team to know if your business fits in this category.</p>

<p>All E-commerce customers who transact Quasi Cash must use the request for a debit and/or credit transaction (depending on the type of payment chosen) and additionally forward the QuasiCash tag as per the following example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"QuasiCash"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
   </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Usage"</span><span class="p">:</span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Value</th>
      <th>Format</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">QuasiCash</code></td>
      <td>Identifies a Quasi Cash transaction.</td>
      <td>“true” ou “false”</td>
      <td>boolean</td>
      <td>-</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h3 id="payment-facilitators">Payment Facilitators</h3>

<p>All E-Commerce customers who are <strong>Payment Facilitators, as required by the Card Networks and Central Bank</strong> must submit new fields in <strong>transactional messaging</strong>. Cielo will send the information to the Card Networks through transactional messaging at the time of authorization.</p>

<p>The new fields are contained within the Payment Facilitator node. In addition to the fields of this new node, facilitators will also have to send the <code class="language-plaintext highlighter-rouge">SoftDescriptor</code> field of the <code class="language-plaintext highlighter-rouge">Payment</code> node.</p>

<blockquote>
  <ul>
    <li><strong>Warning:</strong> If the card brands identify that the required data wasn’t sent in the transactional messaging, they will fine Cielo and these fines will be forwarded to the Facilitator responsible for sending the data.</li>
    <li>As of April 15, 2023, <strong>Visa</strong> updated the rules for marketplace and every merchant who acts as Payment Facilitators and has clients (submerchants) who operate as foreigner marketplace <strong>must send the foreigner retail indicator</strong> to avoid charges from Visa. The specific parameter is <code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.CountryCode</code>, which indicates the country code.</li>
  </ul>
</blockquote>

<h4 id="request-10">Request</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222222222"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">157000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4024007197692931"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111000100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"076"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1155855585"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.EstablishmentCode</code></td>
      <td>text*</td>
      <td>11</td>
      <td>Required for facilitators</td>
      <td>Facilitator’s establishment code. “Facilitator ID” (Registration of the facilitator with the card brands).<br />The code is different depending on the brand, varying even the size of the field:<br />MasterCard –06 digits<br />Visa –08 digits<br />ELO –from 04 to 05 digits<br />Hipercard –06 digits<br />For other brands, like Amex and JCB, the field can be filled in by “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>text*</td>
      <td>15</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant establishment code. “Sub-Merchant ID” (Registration of sub-accredited with the facilitator)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>text*</td>
      <td>14</td>
      <td>Required for facilitators</td>
      <td>CNPJ or CPF of the sub-merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>text*</td>
      <td>4</td>
      <td>Required for facilitators</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>text*</td>
      <td>22</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.City</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>City of the sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.State</code></td>
      <td>text*</td>
      <td>2</td>
      <td>Required for facilitators</td>
      <td>State do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>text*</td>
      <td>9</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Postcode.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>text*</td>
      <td>3</td>
      <td>Required for facilitators</td>
      <td>Sub-merchant country code based on ISO 3166.<br />Ex: Brazil’s ISO 3166 code is 076. <a href="https://www.iso.org/obp/ui/#search/code/">Complete list online</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Phone Number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Softdescriptor</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Text printed on buyer bank invoice. Must be completed according to the data of the sub Merchant.</td>
    </tr>
  </tbody>
</table>

<p>*<em>Avoid using accents as they are considered two characters.</em></p>

<aside class="warning">Attention: Fields mustn't be sent with spacing to the left. It can cause rejection in the settlement of transactions.</aside>

<h4 id="response-9">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1223092935684"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2935684"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065158"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQrCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111000100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"076"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1155855585"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">157000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-23 09:29:34"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.EstablishmentCode</code></td>
      <td>text*</td>
      <td>11</td>
      <td>Required for facilitators</td>
      <td>Facilitator’s establishment code. “Facilitator ID” (Registration of the facilitator with the card brands).<br />The code is different depending on the brand, varying even the size of the field:<br />MasterCard –06 digits<br />Visa –08 digits<br />ELO –from 04 to 05 digits<br />Hipercard –06 digits<br />For other brands, like Amex and JCB, the field can be filled in by “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>text*</td>
      <td>15</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant establishment code. “Sub-Merchant ID” (Registration of sub-accredited with the facilitator)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>text*</td>
      <td>14</td>
      <td>Required for facilitators</td>
      <td>CNPJ or CPF of the sub-merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>text*</td>
      <td>4</td>
      <td>Required for facilitators</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>text*</td>
      <td>22</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Address.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.City</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>City of the sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.State</code></td>
      <td>text*</td>
      <td>2</td>
      <td>Required for facilitators</td>
      <td>State do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>text*</td>
      <td>9</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Postcode.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>text*</td>
      <td>3</td>
      <td>Required for facilitators</td>
      <td>Sub-merchant country code based on ISO 3166.<br />Ex: Brazil’s ISO 3166 code is 076. <a href="https://www.iso.org/obp/ui/#search/code/">Complete list online</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Sub Merchant Phone Number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Softdescriptor</code></td>
      <td>text*</td>
      <td>13</td>
      <td>Required for facilitators</td>
      <td>Text printed on buyer bank invoice. Must be completed according to the data of the sub Merchant.</td>
    </tr>
  </tbody>
</table>

<p>*<em>Avoid using accents as they are considered two characters.</em></p>

<h3 id="cbps-transactions">CBPS Transactions</h3>

<p>Entities that operate as CBPS (in Portuguese, Bill Payment Service for Consumers) are companies that offer consolidated bill payment services to the cardholder. CBPS Marking is a Visa-specific option and provides more visibility and accuracy in transactions.</p>

<p>Establishments that operate with this service must be registered with Visa and to operate as such, they must send some additional information through messenger, which is required by the brand. See below:</p>

<h4 id="request-11">Request</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456ABCD1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"João das Contas accept"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521923455678"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsCustomerBillPaymentService"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CieloSandbox"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cardnumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"securitycode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jcb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"savecard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IsCustomerBillPaymentService</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No</td>
      <td>True ou false. Indicates whether it’s a CBPS (Consumer Bill Payment Service) transaction</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.Mcc</code></td>
      <td>string (number)</td>
      <td>—</td>
      <td>Yes, for CBPS transactions</td>
      <td>Establishment MCC (EC) allowed for CBPS transactions</td>
    </tr>
  </tbody>
</table>

<h3 id="sdwo-transactions">SDWO Transactions</h3>

<p>A SDWO (Staged Digital Wallet Operators) company offers e-wallet services, allowing the shopper to pay for a product or service through their own platform, with registered credit or debit cards or generating a QR Code.</p>

<p>To make transactions as a SDWO, the store needs to register it with the card brands. To do that, contact your commercial manager at Cielo for more information.</p>

<p>When the transactions at a SDWO e-commerce are made with a credit or debit card (not by QR Code), additional data is required so the card brands can identify this type of transaction. See the specifications below:</p>

<blockquote>
  <p>Besides the specific fields, for buying SDWO transactions it’s required for you to send the Soft Descriptor (<code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code>) and the shopper’s CNPJ, if the shopper is a legal entity (fields <code class="language-plaintext highlighter-rouge">Customer.Identity</code> and <code class="language-plaintext highlighter-rouge">Customer.IdentityType</code>). See more details on the request fields table.</p>
</blockquote>

<p>To run tests, you need to follow the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#sandbox-and-tools" target="\_blank">Sandbox and tools</a>.</p>

<p>To send the merchant’s MCC in the SDWO transaction, the market guidance is to use the ABECS (Brazilian Association of Credit Card and Services Companies) table, which makes the equivalence of CNAEs for MCCS across the industry. This table is constantly updated and is available online on the Abecs website at the following link: <a href="https://www.abecs.org.br/consulta-mcc-individual">ABECS</a></p>

<p><strong>Important:</strong> SDWO marking is only accepted for the following types and brands: Visa/Elo - credit and debit; Mastercard - credit only. Accepts foreign cards.</p>

<aside class="warning">Warning: For Visa transactions, the SDWO e-wallet should be located in the same country in which the seller receives their payment.</aside>

<h4 id="request-12">Request</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012345678"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carteira"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CARTEIRA*NOMELOJA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PlatformOperator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.PlatformOperator</code></td>
      <td>string (text)</td>
      <td>3</td>
      <td>Yes for SDWO transactions</td>
      <td>Acronym for the wallet that’s registered in Cielo (check with you commercial manager at Cielo)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.Mcc</code></td>
      <td>string (number)</td>
      <td>4</td>
      <td>Yes for SDWO transactions</td>
      <td>Merchant’s MCC (for purchase transactions); E-wallet’s MCC (for credit supply transactions in the wallet, if applicable – in which the cash in markup also seen in this session is required)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>text</td>
      <td>14</td>
      <td>Yes for SDWO transactions</td>
      <td>Shopper’s CPF or CNPJ number</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>text</td>
      <td>255</td>
      <td>Yes for SDWO transactions</td>
      <td>Shopper ID Type (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>text</td>
      <td>13</td>
      <td>Yes for SDWO transactions</td>
      <td>Text that will be printed on the shopper’s bank invoice.<br /> Does not allow special characters.<br />Needs to include <strong>Wallet name*merchant name</strong>.</td>
    </tr>
  </tbody>
</table>

<h3 id="cash-in-transactions">Cash In Transactions</h3>

<p>A Cash In transaction is when you add credit to a digital wallet. The merchants that operate this type of transaction should be registered as an E-Wallet with the card brands and should be registered with one of the following <strong>MCCs</strong>:</p>

<table>
  <thead>
    <tr>
      <th>EC</th>
      <th>KEY</th>
      <th>MCC</th>
      <th>BRANDS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2000019700</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6051/6540/6538/4829</td>
      <td>Mastercard</td>
    </tr>
    <tr>
      <td>2000019700</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6051/6540</td>
      <td>Visa</td>
    </tr>
    <tr>
      <td>2000019853</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6051</td>
      <td>Elo</td>
    </tr>
  </tbody>
</table>

<p>In addition, you have to send some additional data in the transaction so that the brands can identify this type of transaction. See the specifications below:</p>

<blockquote>
  <p>In addition to the specific fields of this payment method, for Cash In transactions, it is also required to send the Soft Descriptor (<code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code>) and the CPF or CNPJ of the shopper (<code class="language-plaintext highlighter-rouge">Customer.Identity</code> and <code class="language-plaintext highlighter-rouge">Customer.IdentityType</code>). In case of Cash In, the Soft Descriptor field should be filled in with <strong>name of e-wallet*name of shopper</strong>. See more details on the request fields table.</p>
</blockquote>

<p><strong>Important:</strong> Cash In booking is only accepted for the following types and brands: Visa/Mastercard credit only; Debit and credit link. Not accepted for foreign cards.</p>

<h4 id="request-13">Request</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012345678"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carteira"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CARTEIRA*NOMEPORTADOR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PlatformOperator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CashIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.PlatformOperator</code></td>
      <td>string (text)</td>
      <td>3</td>
      <td>Yes for Cash In transactions</td>
      <td>Acronym for the wallet that’s registered in Cielo (check with you commercial manager at Cielo)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.CashIn</code></td>
      <td>string (text)</td>
      <td>Yes for Cash In transactions</td>
      <td>Enviar como “True” se for uma transação de Cash In</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.Mcc</code></td>
      <td>string (number)</td>
      <td>4</td>
      <td>Yes for Cash In transactions</td>
      <td>MCC of the underlying merchant (for purchase transactions); MCC of the digital wallet (for credit supply transactions in the wallet, if applicable - in which it is necessary to mark cash in, also seen in this session)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>text</td>
      <td>14</td>
      <td>Yes for Cash In transactions</td>
      <td>Shopper’s CPF or CNPJ number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Text</td>
      <td>255</td>
      <td>Yes for Cash In transactions</td>
      <td>Shopper ID Type (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>text</td>
      <td>13</td>
      <td>Yes for Cash In transactions</td>
      <td>Text that will be printed on the shopper’s bank invoice.<br /> Does not allow special characters.<br />Needs to include <strong>Wallet name*merchant name</strong>.</td>
    </tr>
  </tbody>
</table>

<h1 id="card-tokenization">Card tokenization</h1>

<p><em>What is ** card tokenization**?</em></p>

<p>It is encryption that allows for secure credit card data storage. This data is transformed into an encrypted code called a “token”, which can be stored in a database. With the tokenization of cards, the merchant will be able to offer features like “1-click buy” and “Retry transaction sending”, always preserving the integrity and the confidentiality of the information.</p>

<h2 id="creating-a-tokenized-card-before-authorization">Creating a tokenized card before authorization</h2>

<p>To save a card without authorizing a transaction, simply make a tokenization request with the card data.</p>

<h3 id="request-14">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/card/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CustomerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste Cielo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532117080573700"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador T Cielo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/card/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"CustomerName"</span>: <span class="s2">"Comprador Teste Cielo"</span>,
    <span class="s2">"CardNumber"</span>:<span class="s2">"4532117080573700"</span>,
    <span class="s2">"Holder"</span>:<span class="s2">"Comprador T Cielo"</span>,
    <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
    <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Name</code></td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
      <td>Shopper’s name.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardNumber</code></td>
      <td>Text</td>
      <td>16</td>
      <td>Yes</td>
      <td>Shopper’s Card Number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Holder</code></td>
      <td>Text</td>
      <td>25</td>
      <td>Yes</td>
      <td>Shopper’s name printed on card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiry date printed on card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
    </tr>
  </tbody>
</table>

<h3 id="response-10">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"CardToken"</span>: <span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span>,
  <span class="s2">"Links"</span>: <span class="o">{</span>
    <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
    <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
    <span class="s2">"Href"</span>: <span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cardtoken</code></td>
      <td>Card identification token.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="creating-a-tokenized-card-during-an-authorization">Creating a tokenized card during an authorization</h2>

<p>To save a card as a token during a credit card transaction authorization, send the standard request for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#credit-and-debit-cards" target="\_blank">credit transaction</a> and send the <code class="language-plaintext highlighter-rouge">SaveCard</code> field as “true”.</p>

<p>The response will return with the card token on the <code class="language-plaintext highlighter-rouge">CardToken</code> field.</p>

<h2 id="network-tokenization">Network tokenization</h2>

<p>Some card brands offer a tokenization solution that tokenize and sotores card data in a network vault, in an encrypted form. Network tokenization is intended to improve the security and quality of card information transmitted, which leads to possible increases in the conversion of approval by issuing banks. See all the benefits:</p>

<ul>
  <li><strong>Increased security:</strong> In addition to creating a code (token or DPAN) to replace the card information, the brands also issue cryptograms, which function as a password or signature of the brand, unique to that card at that establishment.</li>
  <li><strong>Automatic Card Update:</strong> When a new card is issued in place of the previous card, or when a card’s expiration date changes, banks send this information to the brand’s base, and the brand automatically updates the tokens with the new information. That is, there is no need for any action on the part of the establishment.</li>
  <li><strong>Higher approval conversion:</strong> Due to the greater security with the flags’ tokens, issuing banks feel more secure in approving transactions. Plus, with card data automatically updated, more sales that could be denied by outdated card data can be approved.</li>
</ul>

<p><strong>How does it work?</strong></p>

<p>The participating brands provide APIs for receiving and storing the card securely for acquirers, gateways and partners, with the creation of an exclusive token for that card at that merchant.</p>

<p>Cielo provides these services to clients in three ways:</p>

<ul>
  <li>
    <p><strong>Cielo Transparent Tokenization</strong>: When the merchant sends an online transaction with card data (PAN) to our APIs, Cielo will automatically create a token for that card so that Visa will receive the tokenized card data and the merchant does not need to create any additional intergation. Currently, Cielo is not charging for transparent tokenization in order to enable the tokenization experience for our clients and to avoid the 0.05% fee over the transaction amount. Cielo may start charging for this service at any point in the future. In this solution, both the card data and the tokens are managed/owned by Cielo.</p>

    <blockquote>
      <p><strong>Card brand available</strong>: Visa</p>
    </blockquote>
  </li>
  <li>
    <p><strong>Simple Integration:</strong> The merchant integrates with Cielo’s conventional tokenization functionality, which performs the tokenization of the brand behind it, and links these two tokens in Cielo’s vault. In this way, merchants will always have a single token for that card, but Cielo will have the brand’s tokens and cryptograms internally. To see how the integration with Cielo’s conventional tokenization is like, go back to the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards" target="\_blank">Card Tokenization</a> menu</p>

    <blockquote>
      <p>Available Brands: Visa;</p>
    </blockquote>

    <blockquote>
      <p>To enable network tokenization, contact our E-commerce support channel at <em>cieloecommerce@cielo.com.br</em>.</p>
    </blockquote>
  </li>
  <li>
    <p><strong>External Integration:</strong> if the merchant uses a gateway or another partner that already offers the flag token solution, Cielo has the fields for the token information to be sent in the transaction, so that in the processing the brand receives the token data. See more details on the request below.</p>

    <blockquote>
      <p>Available brands: Visa, Master and Elo.</p>
    </blockquote>
  </li>
</ul>

<p>Check below which parameters to send in the transaction request if the option chosen is <strong>external integration</strong>:</p>

<h3 id="request-15">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cryptogram"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefghijklmnopqrstuvw=="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"Cryptogram"</span>:<span class="s2">"abcdefghijklmnopqrstuvw=="</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"true"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
      <td>Token generated by the brand (DPAN). The indication that the <code class="language-plaintext highlighter-rouge">CardNumber</code> must be filled with the DPAN in case of brand tokenization.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
      <td>Shopper’s name printed on card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Cryptogram</code></td>
      <td>Text</td>
      <td>28</td>
      <td>No</td>
      <td>Cryptogram generated by the card brand.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiry date of token generated by brand.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
      <td>Security code printed on back of card - See Annex.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>Boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies whether the card will be saved to generate the CardToken. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<h3 id="response-11">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span>
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Represents how secure a transaction is.</td>
      <td>Text</td>
      <td>2</td>
      <td>Examples: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code from the Acquirer.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message from the Acquirer.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cardtoken</code></td>
      <td>Card identification token.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="creating-a-sale-with-tokenized-card">Creating a sale with Tokenized Card</h2>

<p>To create a tokenized credit card sale, submit a credit transaction requisition with <code class="language-plaintext highlighter-rouge">CardToken</code> as the following example.</p>

<h3 id="request-16">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardToken"</span>:<span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Card identification token.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="response-12">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5036294"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0310025036294"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
        <span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"5036294"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0310025036294"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"319285"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Represents how secure a transaction is.</td>
      <td>Text</td>
      <td>2</td>
      <td>Examples: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code of Acquiring.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message of Acquiring.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric texto</td>
    </tr>
  </tbody>
</table>

<h1 id="card-on-file">Card On File</h1>

<p><strong>What’s Card On File?</strong></p>

<p>Card on File (COF) transactions are used by merchants to send financial and non financial (card validation) transactions with stored credentials.</p>

<p>Most of these transactions do not contain CVV as PCI rules prevent the establishment from storing this information. However, it is important to consider that a merchant may have validated the CVV in a previous transaction, such as the first Card On File transaction.</p>

<p>Examples of segments that use this type of modality are streaming services, education services, gyms and subscriptions, among others.</p>

<aside class="notice">Card On File transactions can be recurring or not.</aside>

<p><strong>Why use Card On File?</strong></p>

<p>Card On File allows for greater flexibility in online purchases, since it does not ask the cardholder to send all the data again (including the CVV); it is also possible to notice a better sales conversion rate since in the process for using the COF initiated by the merchant, necessarily, there is already a previous transaction initiated by the cardholder that already assists in the authorization of the transaction by the issuer.</p>

<p><strong>Supported brands</strong></p>

<p>Card On File supports the following brands:</p>

<ul>
  <li><strong>Mastercard</strong></li>
  <li><strong>Visa</strong></li>
  <li><strong>Elo</strong></li>
</ul>

<blockquote>
  <p><strong>For Card On File transactions with the Mastercard brand</strong> it is required to send the indicator node in the request (<code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator</code>), to inform whether the transaction was initiated by the shopper or by the store. Find out more at <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator">Mastercard Transaction Initiator Indicator</a>.</p>
</blockquote>

<h2 id="request-17">Request</h2>

<p>See an example of a Card on File credit transaction request.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Recurring"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
      <td>Order ID number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s name.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
      <td>The customer’s registration status on the store. (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
      <td>Customer’s email</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>No</td>
      <td>Customer’s birthdate (AAAA/MM/DD).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
      <td>Type of the Payment Method.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
      <td>Order Amount (to be sent in cents).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>Text</td>
      <td>3</td>
      <td>No</td>
      <td>Currency in which the payment will be made (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>Text</td>
      <td>3</td>
      <td>No</td>
      <td>Country in which the payment will be made.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
      <td>The store’s name that will be on the shopper’s bank invoice. Does not allow special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>Text</td>
      <td>10</td>
      <td>No</td>
      <td>Type of installments - Store (ByMerchant) or Card (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>Boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the authorization should be done by authomatic capture (true) or posterior capture (false).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Boolean</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates if the transaction is recurring (“true”) or not (“false”). The value “true” won’t originate a new recurrence, it will only allow a transaction without the need to send the security code. Authenticate should be “false” if Recurrent is “true”. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#recurring-payments">Recurring Payments</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
      <td>Shopper’s card number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
      <td>Name of the shopper that’s printed on the card. Does not accept special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiration date printed on the card. Example: MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
      <td>Security code printed on the back of the card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the card will be saved to generate a <code class="language-plaintext highlighter-rouge">CardToken</code>. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand. Possible values: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Text</td>
      <td>-</td>
      <td>No</td>
      <td>“First” if the card was stored and it’s your first use. “Used” if the card was stored and has been used for another transaction before.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Text</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates the motive for card storage, if the <code class="language-plaintext highlighter-rouge">CardOnFile.Usage</code> field is “Used”.<br /><strong>Recurring</strong>: programmed recurring transaction (e.g. Subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence).<br /><strong>Unscheduled</strong>: recurring transaction with no fixed date (e.g. service apps).<br /><strong>Installments</strong>: installments through recurring transactions.</td>
    </tr>
  </tbody>
</table>

<h2 id="response-13">Response</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JZHOZJHNZH87KQXM3G60B9I21GVZN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0928084922246"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"652515"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"927181"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsQrCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DynamicCurrencyConversion"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-09-28 08:49:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-09-28 08:49:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91bad53a-9198-4738-a280-f51dddc34988"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/91bad53a-9198-4738-a280-f51dddc34988"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/91bad53a-9198-4738-a280-f51dddc34988/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPERTY</th>
      <th>DESCRIPTION</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>FORMAT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice. Does not allow special characters.</td>
      <td>Text</td>
      <td>13</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number, needed for future operations like Consulting, Capture and Cancellation.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Indicates how safe a transaction is.</td>
      <td>Text</td>
      <td>2</td>
      <td>Example: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Acquiring return code.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Acquiring return message.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric text</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.MerchantAdviceCode</code></td>
      <td>Card brand’s return code that defines the period for transaction submission retry. Valid only for Mastercard.</td>
      <td>Text</td>
      <td>2</td>
      <td>Numeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>PAR (payment account reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to Cielo e-commerce customers. If the card brand doesn’t send the information the field will not be returned. If it is a debit transaction, include inside the <code class="language-plaintext highlighter-rouge">DebitCard</code> node.</td>
      <td>Alphanumeric</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h1 id="recurring-payments">Recurring Payments</h1>

<p>Recurring payments are credit card transactions that repeat themselves after a certain period of time.</p>

<p>This type of payment is usually used for streaming services, education services, gyms and subscriptions, where the shopper wants to be automatically charged but doesn’t want to re-enter the card details.</p>

<h2 id="types-of-recurrences">Types of recurrences</h2>

<p>API E-commerce Cielo works with two types of Recurrences:</p>

<ul>
  <li><strong>Merchant Recurrence</strong> - When the <strong>merchant</strong> creates its own repeat purchase intelligence and stores the card data;</li>
  <li><strong>Scheduled Recurrence</strong> - When <strong>Cielo</strong> is responsible for the repetition intelligence and storage of card data.</li>
</ul>

<h3 id="merchant-recurrence">Merchant Recurrence</h3>

<p>In this format, the merchant is responsible for creating intelligence to:</p>

<table>
  <thead>
    <tr>
      <th>Intelligence</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Save transaction data</strong></td>
      <td>The merchant will need to store the transaction and payment data.</td>
    </tr>
    <tr>
      <td><strong>Create transactional repetition</strong></td>
      <td>The merchant must sent a new transaction whenever it needs an authorization.</td>
    </tr>
    <tr>
      <td><strong>Procedure for declined transaction</strong></td>
      <td>If one of the transactions is declined, it will be up to the store to “retry” a new authorization.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>In all instances, the scheduled recurrence is a default transaction for Cielo, its only difference being the need to send an additional parameter that defines it as <strong>Merchant Recurrence</strong>:<br /> &gt; <br /> &gt; <strong>Parameter:</strong> <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code>= <code class="language-plaintext highlighter-rouge">True</code></p>
</blockquote>

<p><img src="https://developercielo.github.io/en/images/apicieloecommerce/recorrencia-cielo-rec-propria-en.png" alt="Flow recorrência própria" /></p>

<h4 id="merchant-recurrence-example">Merchant Recurrence example</h4>

<p>This is an example of how API E-commerce Cielo allows the use of external recurrence systems in your transactions.</p>

<p>Merchant recurrence is a configuration of the API E-commerce Cielo that allows a merchant to use an internal recurrence system specific to their business needs.</p>

<p>In this model, the merchant’s system is responsible for defining the period, the transactional data, and, when necessary, sending us the recurrence transaction.</p>

<p><strong>Merchant Recurence + Tokenized Card</strong></p>

<p>A gym called Cleverfit has a specific billing system, where the client is charged every fifteen days, but never on weekends.</p>

<p>As a highly customized model, <em>CleverFit</em> has its own recurrence system, using the API E-commerce Cielo via two mechanisms:</p>

<ol>
  <li><strong>Merchant Recurrence</strong> - <em>CleverFit</em> sends the transaction data as a normal sale, but the API identifies it as a recurrence and applies differential authorization rules to the order.</li>
  <li><strong>Tokenized Card</strong> - <em>CleverFit</em> keeps cards stored in a tokenized form at Cielo, according to security rules, avoiding storing card data in their system.</li>
</ol>

<p><em>CleverFit</em> sends the transaction every fifteen days to the API E-commerce Cielo, using the tokens saved in the API itself and opting for Merchant Recurrence, which changes the authorization rules to suit its billing model.</p>

<h3 id="scheduled-recurrence">Scheduled Recurrence</h3>

<p>In this model, Cielo is responsible for the intelligence necessary to perform a recurrence automatically.</p>

<p>The <strong>Scheduled Recurrence</strong> allows the merchant to create a base transaction that, when sent to the API E-commerce Cielo, will be saved and executed following the rules defined by the merchant.</p>

<blockquote>
  <p>To learn more about configuring a scheduled recurrence, access <a href="https://developercielo.github.io/tutorial/tutoriais-3-0#configurando-a-recorr%C3%AAncia" target="\_blank">Backoffice API Cielo</a>.</p>
</blockquote>

<p>In this model, the API performs and allows:</p>

<table>
  <thead>
    <tr>
      <th>Advantages</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Saves transactional data</strong></td>
      <td>Save transaction data, thus creating a model of what the next recurrences will look like.</td>
    </tr>
    <tr>
      <td><strong>Automates the recurrence</strong></td>
      <td>Without the need for merchant action, the API creates future transactions according to the store’s definitions.</td>
    </tr>
    <tr>
      <td><strong>Allows updating of data</strong></td>
      <td>If necessary, the API allows modifications in the transaction information (such as shopper data) or recurrence cycle (such as billing date).</td>
    </tr>
  </tbody>
</table>

<p>The Scheduled Recurrence has two request flows; the difference is in the <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> parameter.</p>

<p><strong>When the first transaction must be authorized at the time of scheduling, please send <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> as “true”.</strong></p>

<p><img src="https://developercielo.github.io/en/images/apicieloecommerce/recorrencia-cielo-rec-programada-primeiratransacao-en.png" alt="Flow da primeira transação na hora do agendamento" /></p>

<p>*If Post Notification was enabled by the merchant.</p>

<p><strong>When the first transaction must be authorized after scheduling, send <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> as “false”; in this case, also send the <code class="language-plaintext highlighter-rouge">StartDate</code> parameter.</strong></p>

<p><img src="https://developercielo.github.io/en/images/apicieloecommerce/recorrencia-cielo-rec-programada-agendamento-en.png" alt="Flow da transação posterior ao agendamento" /></p>

<p>*To schedule the transaction needs the <code class="language-plaintext highlighter-rouge">RecurrentPayment</code> node, the transaction date and the <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> field as “false”.<br />
**If Post Notification was enabled by the merchant.</p>

<p>See the example of the snippet with the <code class="language-plaintext highlighter-rouge">RecurrentPayment</code> node, which must be inserted in a credit transaction.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"False"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="s2">"2019-06-01"</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Where can we define the data as:</p>

<table>
  <thead>
    <tr>
      <th>Parameters</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Defines the time a recurrence will be created. If it is sent as <code class="language-plaintext highlighter-rouge">True</code>, it is created at the time of authorization, if sent as false <code class="language-plaintext highlighter-rouge">False</code>, the recurrence will be suspended until the date chosen to be initiated.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Defines the date on which the Scheduled Recurrence transaction will be authorized.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Defines the date the Scheduled Recurrence will end. If it is not sent, the Recurrence will be executed until it is canceled by the merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Recurrence interval.<br />Monthly Bimonthly Quarterly SemiAnnual Annual</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>When a transaction is sent to the API E-commerce Cielo with the Scheduled Recurrence node (<code class="language-plaintext highlighter-rouge">RecurrentPayment</code>), the recurrence process becomes effective when the transaction is considered <strong>AUTHORIZED</strong>. From that point on, the transaction will occur within the interval defined by the merchant.</p>
</blockquote>

<p>Important features of <strong>Scheduled Recurrence</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Information</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Creation</strong></td>
      <td>The first transaction is called <strong>“Scheduling Transaction”</strong>, all subsequent transactions will be copies of the first transaction. It does not need to be captured for the recurrence to be created, it just needs to be <strong>AUTHORIZED</strong></td>
    </tr>
    <tr>
      <td><strong>Capture</strong></td>
      <td>Scheduled Recurrence transactions do not need to be captured. After the first transaction, all recurrence transactions are automatically captured by the API.</td>
    </tr>
    <tr>
      <td><strong>Identification</strong></td>
      <td>Scheduled Recurrence transactions generate two types of identification:<br /><strong><code class="language-plaintext highlighter-rouge">PaymentId</code></strong>: Identifies a transaction. It is the same identifier as the other transactions in the API <br /><strong><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong>: Identifies recurrence order. A RecurrentPaymentID has many PaymentId’s linked to it. This is the variable used to Cancel a Scheduled Recurrence.</td>
    </tr>
    <tr>
      <td><strong>Consulting</strong></td>
      <td>To consult, just use one of two types of identification:<br /><strong><code class="language-plaintext highlighter-rouge">PaymentId</code></strong>: Used to consult A TRANSACTION WITHIN THE RECURRENCE <br /><strong><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong>: Used to consult THE RECURRENCE.</td>
    </tr>
    <tr>
      <td><strong>Canceling</strong></td>
      <td>A Scheduled Recurrence can be canceled in two ways: <br /><strong>Merchant</strong>: When the merchant requests the canceling of the recurrence. You can’t cancel transactions already finalized before the recurrence cancelation order. <br /><strong>By invalid card</strong>: If the API identifies that a saved card is invalid (e.g.: Expired) the recurrence will be canceled and will not be repeated until the merchant updates the payment method. <br /> <strong>NOTE:</strong> Canceling transactions within the recurrence does not end the scheduling of future transactions. Only the Cancellation using the <strong>RecurrentPaymentID</strong> ends future schedules.</td>
    </tr>
  </tbody>
</table>

<p><strong>RecurrentPaymentID Structure</strong></p>

<p><img src="https://developercielo.github.io/en/images/apicieloecommerce/recorrencia-cielo-rec-prog-identificacao-en.png" alt="Estrutura do RecurrentPaymentID" /></p>

<h4 id="scheduled-recurrence-example">Scheduled Recurrence example</h4>

<p>This is an example of how to use API E-commerce Cielo recurrences to increase your sales:</p>

<p>Recurrence is the process of saving a transaction and repeating it at a predefined time interval. Ideal for subscription model.</p>

<p>Cielo’ Scheduled Recurrence has the following characteristics:</p>

<ul>
  <li><strong>Scheduled intervals:</strong> monthly, bimonthly, quarterly, semi-annual and annual;</li>
  <li><strong>Expiry date:</strong> allows you to define whether the recurrence has an end date;</li>
  <li><strong>Retentative:</strong> if a transaction is declined, we will retry the transaction up to 4 times;</li>
  <li><strong>Update:</strong> allows you to change recurrence data, such as value, interval.</li>
</ul>

<p><strong>Monthly and annual recurrence</strong></p>

<p>Musicfy offers an online subscription service where their customers pay to be able to access a music library and listen to them via streaming.</p>

<p>To capture as many customers as possible, they offer two payment methods:</p>

<ul>
  <li>Monthly for R$19,90;</li>
  <li>Annual (with discount) for R$180,00.</li>
</ul>

<p>How do they bill their customers monthly or yearly?</p>

<p>Musicfy uses API E-commerce Cielo’s Scheduled Recurrence.</p>

<p>When creating a transaction, <em>Musicfy</em> informs the client that the order in question will be repeated monthly or annually and that there is no end date for the billing.</p>

<p>What are the advantages of using scheduled recurrence for <em>MusicFy</em>?</p>

<ol>
  <li>
    <p><strong>Practicality:</strong> The monthly charge is automatic, so MusicFy does not have to worry about building a billing system.</p>
  </li>
  <li>
    <p><strong>Usability:</strong> The subscription value can be updated without having to redo the transaction. A month can be canceled or the recurrence can have a delay (the 30-day free model) with only one setting.</p>
  </li>
  <li>
    <p><strong>Safety:</strong> <em>MusicFy</em> does not need to store sensitive card and shopper data.</p>
  </li>
  <li>
    <p><strong>Conversion:</strong> Cielo’s Scheduled Recurrence has an automatic retry system. If one of the transactions is denied, it will be retried up to four times, seeking to achieve authorization.</p>
  </li>
</ol>

<h2 id="creating-recurrences">Creating Recurrences</h2>

<p>Marking a recurrence is important for the security of a recurring transaction, so that it is not denied due to suspected fraud. Therefore:</p>

<ul>
  <li>Send the field <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = “true” in case of own recurrence;</li>
  <li>Send <code class="language-plaintext highlighter-rouge">RecurrentPayment</code> node in case of scheduled recurrence;</li>
  <li>For recurring transactions with stored credentials:
    <ul>
      <li>Send the <code class="language-plaintext highlighter-rouge">CardOnFile.Usage</code> and <code class="language-plaintext highlighter-rouge">CardOnFile.Reason</code> fields. <em>Learn more at <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#card-on-file">Card On File</a></em>;</li>
      <li>For <strong>Mastercard cards</strong>, send the transaction initiation indicator node (<code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator</code>) to indicate whether the transaction was initiated by the cardholder or by the merchant. Learn more in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#mastercard-transaction-initiator-indicator">Mastercard Transaction Initiator Indicator</a>.</li>
    </ul>
  </li>
</ul>

<h3 id="creating-a-merchant-recurrence">Creating a Merchant Recurrence</h3>

<p>To create a recurring sale in which recurrence and interval process will be performed by the store itself, just make a POST as in the example.</p>

<p>The request follows the structure of a standard credit transaction, but the <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> parameter must be <code class="language-plaintext highlighter-rouge">true</code>; otherwise, the transaction will be denied.</p>

<h4 id="request-18">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec propria"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec propria"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Merchant identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order ID number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the Payment Method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number of installments. As this is a recurrence, the number of installments will be 1.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text that will be printed on the shopper’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Indicates an unscheduled recurrence transaction.</td>
      <td>Boolean</td>
      <td>5</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number.</td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiration date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-14">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec propria"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec propria"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order ID number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the Payment Method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number of installments. As this is a recurrence, the number of installments will be 1.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Indicates an unscheduled recurrence transaction.</td>
      <td>Boolean</td>
      <td>5</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number.</td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiration date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="creating-a-scheduled-recurrence">Creating a Scheduled Recurrence</h3>

<p>To create a recurring sale in which the first recurrence is authorized with the credit card payment method, just make a POST as in the example.</p>

<aside class="notice">Warning: In this recurrence mode, the first transaction must be captured (`AuthorizeNow` = "true"). All subsequent transactions will be captured automatically.</aside>

<h4 id="request-19">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order ID number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the Payment Method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number of installments. As this is a recurrence, the number of installments will be 1.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>End date for recurrence.</td>
      <td>Text</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Recurrence interval.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
      <td>Text</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Boolean to know if the first recurrence is going to be Authorized or not.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number.</td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiration date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-15">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-04"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-11-04"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Next recurrence Identifier field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Date of next recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>End date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Interval between recurrences.</td>
      <td>Text</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Boolean to know if the first recurrence is about to be Authorized or not.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h3 id="scheduling-a-scheduled-recurrence">Scheduling a Scheduled Recurrence</h3>

<p>To create a recurring sale in which the first recurrence will not be authorized on the same date with the credit card payment method, just make a POST as in the example.</p>

<blockquote>
  <p>Before setting up a scheduled recurrence, use Zero Auth to validate the card. This way, you can guarantee that you are scheduling a recurrence with a valid card.</p>
</blockquote>

<p>Unlike the previous recurrence, this example does not authorize immediately, it schedules a future authorization. To schedule the first transaction in the series of recurrences, send the <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> parameter as “false” and add the <code class="language-plaintext highlighter-rouge">StartDate</code> parameter.</p>

<h4 id="request-20">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"false"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>,
       <span class="s2">"StartDate"</span>:<span class="s2">"2015-06-01"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in store (NEW / EXISTING) - Used by fraud analysis</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Shopper’s e-mail.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Shopper’s date of birth (AAAA/MM/DD).</td>
      <td>Date</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Shopper’s RG, CPF or CNPJ number.</td>
      <td>Text</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Shopper’s address.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Shopper’s address number.</td>
      <td>Text</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Shopper’s address complement.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Shopper’s address zip code.</td>
      <td>Text</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Shopper’s address city.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Shopper’s address state.</td>
      <td>Text</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Shopper’s address country.</td>
      <td>Text</td>
      <td>35</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Shopper’s neighborhood.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Shopper’s address.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Shopper’s address number.</td>
      <td>Text</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Shopper’s address complement.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Shopper’s address zip code.</td>
      <td>Text</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Shopper’s address city.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Shopper’s address state.</td>
      <td>Text</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Shopper’s address country.</td>
      <td>Text</td>
      <td>35</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Shopper’s neighborhood.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-16">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 20,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"StartDate"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">false</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Next recurrence Identifier field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Date of next recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Start date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>End date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Interval between recurrences.</td>
      <td>Text</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Boolean to know if the first recurrence is about to be Authorized or not.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h3 id="issuer-transaction-id">Issuer transaction Id</h3>

<p>The <strong>issuer transaction Id</strong> is an authentication code for recurrent or stored credential transactions returned in the authorization or card validation response (<a href="https://developercielo.github.io/en/manual/cielo-ecommerce#zero-auth">Zero Auth</a>).</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/identificador-bandeira-en.png" alt="Identificador Bandeira" /></p>

<ol>
  <li>The merchant sends request for first transaction authorization or card validation (ZeroAuth);</li>
  <li>Cielo E-Commerce API requests authorization for acquirer, card brand, and issuer;</li>
  <li>The card brand authorizes transaction or validates card and returns <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code>;</li>
  <li>Cielo E-Commerce API returns <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code> to the merchant;</li>
  <li>In the next requests, the merchant sends <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code> obtained from the first or following transactions.</li>
</ol>

<p><strong>Why sending the issuer transaction Id?</strong></p>

<p>The <strong>issuer transaction Id</strong> is important to improve authorization rates, because when the current transaction is related to the previous one, the issuer is able to identify that there has already been a previous transaction initiated by the cardholder.</p>

<p>The <strong>issuer transaction Id</strong> returned in the last transaction must be informed in the next requests.</p>

<p><strong>Supported card brands:</strong></p>

<ul>
  <li>Mastercard;</li>
  <li>Visa;</li>
  <li>Elo.</li>
</ul>

<p><strong>Response example</strong></p>

<p>The <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code> is returned:</p>

<ul>
  <li>After validating a card through <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#zero-auth">ZeroAuth</a> or</li>
  <li>In the authorization response for a cardholder-initiated transaction, in <code class="language-plaintext highlighter-rouge">Payment</code>.</li>
</ul>

<blockquote>
  <p><strong>Note</strong>: The <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code> value may be different in each response for an authorization or card validation.</p>
</blockquote>

<blockquote>
  <p>Please refer to the default request examples in <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-credit-card-transaction">Creating a credit card transaction</a> or <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#zero-auth">Validating a card with Zero Auth</a>.</p>
</blockquote>

<p>See below a response example for a credit card transaction returning the <code class="language-plaintext highlighter-rouge">IssuerTransactionId</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Installments"</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Recurring"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIERTY</th>
      <th>TYPE</th>
      <th>SIZE</th>
      <th>REQUIRED</th>
      <th>DESCRIPTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>text</td>
      <td>50</td>
      <td>Yes</td>
      <td>Order Id number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>text</td>
      <td>100</td>
      <td>Yes</td>
      <td>Type of the payment method.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>number</td>
      <td>15</td>
      <td>Sim</td>
      <td>Order Amount (to be sent in cents).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>number</td>
      <td>2</td>
      <td>Sim</td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the authorization should be done by <strong>Authomatic capture (“true”)</strong> or <strong><a href="https://developercielo.github.io/en/manual/cielo-ecommerce#capture">posterior capture</a>(“false”)</strong>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IssuerTransactionId</code></td>
      <td>text</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Issuer authentication identifier for recurring credit and debit transactions. This field must be sent in subsequent transactions of the first transaction in the self-recurrence model. In the programmed recurrence model, Cielo will be responsible for sending the field in subsequent transactions.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>boolean</td>
      <td>-</td>
      <td>No</td>
      <td>Indicates if the transaction is recurring (“true”) or not (“false”). The value “true” won’t originate a new recurrence, it will only allow a transaction without the need to send the security code. <code class="language-plaintext highlighter-rouge">Authenticate</code> should be “false” if <code class="language-plaintext highlighter-rouge">Recurrent</code> is “true”. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#recurring-payments">Recurring Payments</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>text</td>
      <td>19</td>
      <td>Yes</td>
      <td>Shopper’s card number.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>text</td>
      <td>25</td>
      <td>No</td>
      <td>Name of the shopper that’s printed on the card. Does not accept special characters.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>text</td>
      <td>7</td>
      <td>Yes</td>
      <td>Expiration date printed on the card. Example: MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>text</td>
      <td>4</td>
      <td>No</td>
      <td>Security code printed on the back of the card.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>boolean</td>
      <td>—</td>
      <td>No (Default false)</td>
      <td>Boolean that identifies if the card will be saved to generate a <code class="language-plaintext highlighter-rouge">CardToken</code>. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>text</td>
      <td>10</td>
      <td>Yes</td>
      <td>Card brand. Possible values: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Usage</code></td>
      <td>text</td>
      <td>-</td>
      <td>No</td>
      <td><strong>First</strong> if the card was stored and it’s your first use.<br /><strong>Used</strong> if the card was stored and has been used for another transaction before. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#card-on-file">Card On File</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Reason</code></td>
      <td>text</td>
      <td>-</td>
      <td>Conditional</td>
      <td>Indicates the motive for card storage, if the “Usage” field is “Used”. <br /> <strong>Recurring</strong> - Programmed recurring transaction (e.g. Subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence). <br /> <strong>Unscheduled</strong> - Recurring transaction with no fixed date (e.g. service apps) <br /><strong>Installments</strong> - Installments through recurring transactions. Get more information on the topic <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#card-on-file" target="_blank">Card On File</a></td>
    </tr>
  </tbody>
</table>

<h2 id="modifying-recurrences">Modifying Recurrences</h2>

<h3 id="modifying-shopper-data">Modifying shopper data</h3>

<p>To change the shopper’s data for the recurrent transactions, just do a PUT as in the example.</p>

<h4 id="request-21">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer@teste.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1999-12-12"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22658954236"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"174"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outra Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Qualquer Lugar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Customer"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Customer"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"customer@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1999-12-12"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"22658954236"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Outra Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 111"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241111"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Qualquer Lugar"</span>,
         <span class="s2">"State"</span>:<span class="s2">"QL"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>:<span class="s2">"Teste"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in store (NEW / EXISTING) - Used by fraud analysis</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Shopper’s e-mail.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Shopper’s date of birth (AAAA/MM/DD).</td>
      <td>Date</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Shopper’s RG, CPF or CNPJ number.</td>
      <td>Text</td>
      <td>14</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
      <td>Type of shopper ID document (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Shopper’s address.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Shopper’s address number.</td>
      <td>Text</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Shopper’s address complement.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Shopper’s address zip code.</td>
      <td>Text</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Shopper’s address city.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Shopper’s address state.</td>
      <td>Text</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Shopper’s address country.</td>
      <td>Text</td>
      <td>35</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Shopper’s neighborhood.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Shopper’s address.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Shopper’s address number.</td>
      <td>Text</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Shopper’s address complement.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Shopper’s address zip code.</td>
      <td>Text</td>
      <td>9</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Shopper’s address city.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Shopper’s address state.</td>
      <td>Text</td>
      <td>2</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Shopper’s address country.</td>
      <td>Text</td>
      <td>35</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Shopper’s neighborhood.</td>
      <td>Text</td>
      <td>50</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-17">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modifying-end-date-of-recurrence">Modifying end date of Recurrence</h3>

<p>To change the end date of the Recurrence, just do a PUT as in the example.</p>

<h4 id="request-22">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"2021-01-09"</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/EndDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2021-01-09"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>End date for recurrence.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-18">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modifying-recurrence-interval">Modifying Recurrence interval</h3>

<p>To change the Recurrence Interval, just do a PUT as in the example.</p>

<h4 id="request-23">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">6</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Interval"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
6
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Request</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Recurrence interval. MonthlyBimonthly Quarterly SemiAnnual Annual</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-19">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modify-day-of-recurrence">Modify day of Recurrence</h3>

<p>To modify the day of recurrence, just do a PUT as in the example.</p>

<p>When changing the day of recurrence, consider the following rules for executing the update in the API:</p>

<ol>
  <li>
    <p>If the new day entered is after the current day, we will update the day of the recurrence with effect on the next recurrence.
Ex.: Today is May 5 and the next recurrence is May 25. When updated to the 10th, the next recurrence date will be the on May 10.</p>
  </li>
  <li>
    <p>If the new day entered is before the current day, we will update the day of the recurrence, but this will only take effect after the next recurrence is successfully executed.
Ex.: Today is May 5 and the next recurrence is May 25. When updated to the 3rd, the date of the next recurrence will remain on May 25. After its execution, the next recurrence will be scheduled for June 3.</p>
  </li>
  <li>
    <p>If the new day entered is before the current day, but the next recurrence is in another month, we will update the day of the recurrence with effect on the next recurrence.
Ex.: Today is May 5 and the next recurrence is September 25. When updated to the 3rd, the date of the next recurrence will be September 3.</p>
  </li>
</ol>

<h4 id="request-24">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">16</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
16
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrencyDay</code></td>
      <td>Recurrence day.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-20">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modifying-the-recurrence-value">Modifying the Recurrence value</h3>

<p>To modify the value of the recurrence, just do a PUT as in the example.</p>

<h4 id="request-25">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Amount</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">156</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Amount"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
156
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Value in cents; 156 equals R$ 1,56.</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<aside class="warning">This change only affects the payment date of the next recurrence.</aside>

<h4 id="response-21">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modifying-date-of-next-payment">Modifying date of next payment</h3>

<p>To change the date of the next payment, just do a PUT as in the example.</p>

<h4 id="request-26">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"2016-06-15"</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2016-06-15"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextPaymentDate</code></td>
      <td>Payment date of the next recurrence.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-22">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="modifying-recurrence-payment-data">Modifying Recurrence payment data</h3>

<p>To change the payment data of the recurrence, just do a PUT as in the example.</p>

<aside class="notice">Warning: This change affects all `Payment` node data. So to keep the previous data you must inform the fields that will not be changed with the same values ​​that were already saved.</aside>

<h4 id="request-27">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teset card"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341232"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Payment"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
   <span class="s2">"Amount"</span>:<span class="s2">"123"</span>,
   <span class="s2">"Installments"</span>:3,
   <span class="s2">"Country"</span>:<span class="s2">"USA"</span>,
   <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
   <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
   <span class="s2">"CreditCard"</span>:<span class="o">{</span>
      <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>,
      <span class="s2">"Holder"</span>:<span class="s2">"Teset card"</span>,
      <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341232"</span>,
      <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the Payment Method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number of installments. As this is a recurrence, the number of installments will be 1.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text that will be printed on the carrier’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number.</td>
      <td>Text</td>
      <td>16</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiry date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-23">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="disabling-a-recurrent-order">Disabling a Recurrent Order</h3>

<p>To disable a recurrent order, just do a PUT as in the example.</p>

<h4 id="request-28">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-24">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h3 id="rehabilitating-a-recurrent-order">Rehabilitating a Recurrent Order</h3>

<p>To rehabilitate a recurring order, just do a PUT as in the example.</p>

<h4 id="request-29">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-25">Response</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>See <a href="#http-status-code">HTTP Status Code</a> for the list with all HTTP status codes possibly returned by the API.</p>

<h2 id="retries">Retries</h2>

<p><strong>What is a retry?</strong></p>

<p>Retrying is resubmitting a rejected transaction to obtain approval. To retry, it is important that the denied transaction response code is considered by the brand as reversible.</p>

<p><strong>What is the impact of retrying on my business?</strong></p>

<p>Retrying can bring a positive result and convert sales that were initially denied. However, excessive retries can harm the establishment in the eyes of issuers and brands, reducing the establishment’s approval rate and/or generating a fine for retrying when not permitted.</p>

<p><strong>When to retry?</strong></p>

<p>It is allowed to retry when the response code is reversible. The retry strategy must also take into account the response code for each brand.</p>

<p><strong>Examples:</strong></p>

<ul>
  <li><strong>Insufficient Balance/Limit (51)</strong>: this response is normally reversible and therefore it makes sense to retry the transaction. However, a retry strategy for this code must take into account that the shopper needs to perform an action such increasing the limit for the transaction to be successful. In this case, we recommend longer intervals between retries;</li>
  <li><strong>Invalid Card (14)</strong>: this response is irreversible. For this code, there is no point in carrying out new transactions using the same parameters as they will not be approved by the issuers.</li>
</ul>

<p>Therefore, pay attention to the transaction response to develop a good retry strategy. See other response codes and their characteristics in <a href="https://developercielo.github.io/en/tutorial/abecs-e-outros-codigos" target="\_blank">Return Codes ABECS</a>.</p>

<blockquote>
  <p>Excessive unapproved attempts may result in fines. Read more at <a href="https://developercielo.github.io/tutorial/programa-retentativa-bandeiras" target="\_blank">Programa de Retentativa das Bandeiras</a>.</p>
</blockquote>

<p><strong>Is it possible to configure automatic retries?</strong></p>

<p>For Scheduled Recurrence, it is possible to leave up to four retries enabled automatically. See how to set it up in <a href="https://developercielo.github.io/en/tutorial/tutoriais-3-0" target="\_blank">Backoffice API Cielo</a>.</p>

<h2 id="renova-fácil">Renova Fácil</h2>

<p>Renova Fácil is a service developed by Cielo together with issuers. The objective of the service is to increase the conversion rate of recurring transactions with credit cards.</p>

<p>Using this functionality allows the automatic replacement of a credit card that has been replaced by the issuing bank for some reason (expiry date, exchange, etc.). This way, when a recurrent transaction is submitted to the API and Cielo identifies that the card sent has been replaced, authorization will be denied and the API will return the new card data in the <code class="language-plaintext highlighter-rouge">NewCard</code> node. When you receive the new card details, you will need to send a new authorization request with the new card details..</p>

<aside class="notice">To use Renova Fácil, you have to to enable the service at Cielo. No extra information is sent in the authorization request, however the response will include the `NewCard` node.</aside>

<p>Below is an example of a response to a credit transaction with the node <code class="language-plaintext highlighter-rouge">NewCard</code>.</p>

<h3 id="request-30">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Renova facil"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Renova facil"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order ID number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper’s name.</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper’s registration status in store (NEW / EXISTING) - Used by fraud analysis</td>
      <td>Text</td>
      <td>255</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of the Payment Method.</td>
      <td>Text</td>
      <td>100</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Number of installments. If the transaction is a recurrence, the number of installments will be 1. For installment transactions, the number of installments will be greater than 1.</td>
      <td>Number</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Text that will be printed on the shopper’s bank invoice - Available only for VISA/MASTER - does not allow special characters</td>
      <td>Text</td>
      <td>13</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>End date for recurrence.</td>
      <td>Text</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Recurrence interval.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
      <td>Text</td>
      <td>10</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Boolean to know if the first recurrence is about to be Authorized or not.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number.</td>
      <td>Text</td>
      <td>19</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card.</td>
      <td>Text</td>
      <td>25</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiry date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on back of card.</td>
      <td>Text</td>
      <td>4</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="response-26">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador  Renova facil"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480685P4611AQ9B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NewCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10/2020"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-26 14:14:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Declined"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Comprador  Renova facil"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: 0,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"Tid"</span>: <span class="s2">"10447480685P4611AQ9B"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"087001"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"123456789ABCD"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"Eci"</span>: <span class="s2">"0"</span>,
 <span class="s2">"NewCard"</span>: <span class="o">{</span>
       <span class="s2">"CardNumber"</span>: <span class="s2">"40000000000000000"</span>,
       <span class="s2">"ExpirationDate"</span>: <span class="s2">"10/2020"</span>,
       <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
        <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 1500,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2016-12-26 14:14:21"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"KA"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Autorizacao negada"</span>,
    <span class="s2">"Status"</span>: 3,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
      <span class="s2">"ReasonCode"</span>: 7,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Declined"</span>,
      <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
      <span class="s2">"Interval"</span>: 6,
      <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Next recurrence Identifier field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Date of next recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>End date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Interval between recurrences.</td>
      <td>Text</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Boolean to know if the first recurrence is about to be Authorized or not.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.CardNumber</code></td>
      <td>Shopper’s new card number.</td>
      <td>Text</td>
      <td>16</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.ExpirationDate</code></td>
      <td>New expiry date of the card.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.SaveCard</code></td>
      <td>Identifies whether the card generated Cardtoken during the transaction. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a></td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="card-brands-and-issuers-enabled">Card Brands and Issuers Enabled</h3>

<p>Card Brands and Issuers that are already with Renova Fácil enabled:</p>

<table>
  <thead>
    <tr>
      <th>Issuers</th>
      <th>VISA</th>
      <th>MASTER</th>
      <th>ELO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BRADESCO</code></td>
      <td>Yes</td>
      <td>Yes</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BANCO DO BRASIL</code></td>
      <td>Yes</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SANTANDER</code></td>
      <td>Yes</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CITI</code></td>
      <td>Yes</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BANCO PAN</code></td>
      <td>Yes</td>
      <td>—</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h1 id="queries-capture-and-cancellation">Queries, Capture and Cancellation</h1>

<h2 id="getting-details-on-transactions">Getting details on transactions</h2>

<h3 id="searching-for-a-transaction-via-paymentid">Searching for a transaction via PaymentId</h3>

<p>To get details on a sale via PaymentId, follow the request example below.</p>

<aside class="notice">Only transactions made within the last three months are eligible for queries.</aside>

<h4 id="request-31">Request</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment identification number.</td>
      <td>Text</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-27">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="w">
</span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="err">,</span><span class="w">
</span><span class="nl">"AcquirerOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202202231037440D1BD0"</span><span class="err">,</span><span class="w">
</span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0223103744208"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"FraudAlert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uso Ind Numeração"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IncomingChargeback"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-15 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"AcquirerOrderId"</span>: <span class="s2">"202202231037440D1BD0"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0223103744208"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-07-29 17:16:21"</span>,
        <span class="s2">"CapturedAmount"</span>: 9000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-07-29 17:16:22"</span>,
        <span class="s2">"VoidedAmount"</span>: 1000,
        <span class="s2">"VoidedDate"</span>: <span class="s2">"2022-05-15 16:25:38"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <tbody>
    <tr>
      <td>Property</td>
      <td>Description</td>
      <td>Type</td>
      <td>Size</td>
      <td>Format</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Transaction Id sent to the authorizer if the MerchantOrderId is longer than 20 characters or has symbols.</td>
      <td>Text</td>
      <td>50</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>2</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper name.</td>
      <td>Text</td>
      <td>255</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in the store (NEW / EXISTING).</td>
      <td>Text</td>
      <td>255</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Tid</code></td>
      <td>Transaction Id in the payment method provider.</td>
      <td>Text</td>
      <td>40</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of payment method.</td>
      <td>Text</td>
      <td>100</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be shipped in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Date when the transaction was received.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedAmount</code></td>
      <td>Captured value.</td>
      <td>Number</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedDate</code></td>
      <td>Capture date.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedAmount</code></td>
      <td>Canceled/refunded amount, in cents.</td>
      <td>Number</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedDate</code></td>
      <td>Date of cancellation/chargeback.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Defines behavior of the means of payment (see files attached)/NOT MANDATORY FOR CREDIT.</td>
      <td>Text</td>
      <td>15</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.EndToEndId</code></td>
      <td>Identification number for a Pix transaction.</td>
      <td>Text</td>
      <td>50</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number</td>
      <td>Text</td>
      <td>19</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card</td>
      <td>Text</td>
      <td>25</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiration date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on the back of the card.</td>
      <td>Text</td>
      <td>4</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>PAR (Payment Account Reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to E-commerce Cielo customers. If the brand does not send the information, the field will not be returned.</td>
      <td>Number</td>
      <td>29</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="searching-for-a-transaction-via-tid">Searching for a transaction via TId</h3>

<p>To get details on transaction using the TId number, follow the request example..</p>

<aside class="notice">Only transactions made within the last three months are eligible for queries.</aside>

<h4 id="request-32">Request</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/acquirerTid/{TID}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/acquirerTid/{TID}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Transaction Id sent to the authorizer if the MerchantOrderId is longer than 20 characters or has symbols.</td>
      <td>Text</td>
      <td>50</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TId</code></td>
      <td>Payment identification number at the acquirer.</td>
      <td>Text</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="response-28">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="w">
</span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="err">,</span><span class="w">
</span><span class="nl">"AcquirerOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202202231037440D1BD0"</span><span class="err">,</span><span class="w">
</span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0223103744208"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"FraudAlert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uso Ind Numeração"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IncomingChargeback"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-15 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"AcquirerOrderId"</span>: <span class="s2">"202202231037440D1BD0"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0223103744208"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-07-29 17:16:21"</span>,
        <span class="s2">"CapturedAmount"</span>: 9000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-07-29 17:16:22"</span>,
        <span class="s2">"VoidedAmount"</span>: 1000,
        <span class="s2">"VoidedDate"</span>: <span class="s2">"2022-05-15 16:25:38"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <tbody>
    <tr>
      <td>Property</td>
      <td>Description</td>
      <td>Type</td>
      <td>Size</td>
      <td>Format</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order identification number.</td>
      <td>Text</td>
      <td>50</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Transaction Id sent to the authorizer if the MerchantOrderId is longer than 20 characters or has symbols.</td>
      <td>Text</td>
      <td>50</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>2</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Shopper name.</td>
      <td>Text</td>
      <td>255</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Shopper registration status in the store (NEW / EXISTING).</td>
      <td>Text</td>
      <td>255</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Tid</code></td>
      <td>Transaction Id in the payment method provider.</td>
      <td>Text</td>
      <td>40</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Type of payment method.</td>
      <td>Text</td>
      <td>100</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Order Amount (to be shipped in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Date when the transaction was received.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedAmount</code></td>
      <td>Captured value.</td>
      <td>Number</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedDate</code></td>
      <td>Capture date.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedAmount</code></td>
      <td>Canceled/refunded amount, in cents.</td>
      <td>Number</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedDate</code></td>
      <td>Date of cancellation/chargeback.</td>
      <td>Text</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Defines behavior of the means of payment (see files attached)/NOT MANDATORY FOR CREDIT.</td>
      <td>Text</td>
      <td>15</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.EndToEndId</code></td>
      <td>Identification number for a Pix transaction.</td>
      <td>Text</td>
      <td>50</td>
      <td>Text alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Shopper’s Card Number</td>
      <td>Text</td>
      <td>19</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Shopper’s name printed on card</td>
      <td>Text</td>
      <td>25</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Expiration date printed on card.</td>
      <td>Text</td>
      <td>7</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Security code printed on the back of the card.</td>
      <td>Text</td>
      <td>4</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Card brand.</td>
      <td>Text</td>
      <td>10</td>
      <td>-</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>PAR (Payment Account Reference) is the number that associates different tokens to the same card. It will be returned by the Master and Visa brands and passed on to E-commerce Cielo customers. If the brand does not send the information, the field will not be returned.</td>
      <td>Number</td>
      <td>29</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="searhing-for-a-transaction-via-merchandorderid">Searhing for a transaction via MerchandOrderID</h3>

<p>For some merchants, the <code class="language-plaintext highlighter-rouge">MerchantOrderId</code> may have multiple transactions. The query for <code class="language-plaintext highlighter-rouge">MerchantOrderId</code> returns the <code class="language-plaintext highlighter-rouge">PaymentId</code> of all transactions associated with a <code class="language-plaintext highlighter-rouge">MerchantOrderId</code>.</p>

<p>Considering this, it is possible to query details of each transaction by <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#searching-for-a-transaction-via-paymentid" target="\_blank">searching with <code class="language-plaintext highlighter-rouge">PaymentId</code></a></p>

<h4 id="request-33">Request</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales?merchantOrderId={merchantOrderId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curls
<span class="nt">--request</span> GET <span class="s2">" https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales?merchantOrderId={merchantOrderId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Order Identifier Field at the Store.</td>
      <td>Text</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-29">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Payment"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h3 id="searching-for-recurrence-information">Searching for recurrence information</h3>

<p>The Recurrence query provides data on the scheduling and on the process of repeating transactions. The Recurrence query does not return data about the transactions themselves.</p>

<p>For information about each transaction, <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#searching-for-a-transaction-via-paymentid" target="\_blank">search via PaymentId</a></p>

<h4 id="request-34">Request</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Recurrence Identifier Field.</td>
      <td>Text</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h4 id="response-30">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano da Silva"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-27"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bimonthly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07T00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CurrentRecurrencyTry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrencyDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SuccessfulRecurrences"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"RecurrentTransactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TryNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Fulano da Silva"</span>
    <span class="o">}</span>,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
        <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>,
        <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-06-07"</span>,
        <span class="s2">"StartDate"</span>: <span class="s2">"2017-04-07"</span>,
        <span class="s2">"EndDate"</span>: <span class="s2">"2017-02-27"</span>,
        <span class="s2">"Interval"</span>: <span class="s2">"Bimonthly"</span>,
        <span class="s2">"Amount"</span>: 15000,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"CreateDate"</span>: <span class="s2">"2017-04-07T00:00:00"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"CurrentRecurrencyTry"</span>: 1,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"RecurrencyDay"</span>: 7,
        <span class="s2">"SuccessfulRecurrences"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"RecurrentTransactions"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"PaymentId"</span>: <span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span>,
                <span class="s2">"PaymentNumber"</span>: 0,
                <span class="s2">"TryNumber"</span>: 1
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"Status"</span>: 1
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Next recurrence Identifier field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Date of next recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Start date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>End date of recurrence.</td>
      <td>Text</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Interval between recurrences.</td>
      <td>Text</td>
      <td>10</td>
      <td>MonthlyBimonthly Quarterly SemiAnnual Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CurrentRecurrencyTry </code></td>
      <td>Indicates the number of attempts of the current recurrence</td>
      <td>Number</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">OrderNumber</code></td>
      <td>Order identification at the store</td>
      <td>Text</td>
      <td>50</td>
      <td>2017051101</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Recurrent order status</td>
      <td>Number</td>
      <td>1</td>
      <td><br /><em>1</em> - Active <br /><em>2</em> - Finished <br /><em>3</em>- Deactivated by the Merchant <br /> <em>4</em> - Disabled by number of retries <br /> <em>5</em> - Disabled by expired credit card</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrencyDay</code></td>
      <td>Recurrence day</td>
      <td>Number</td>
      <td>2</td>
      <td>22</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SuccessfulRecurrences</code></td>
      <td>Successful amount of recurrence</td>
      <td>Number</td>
      <td>2</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.RecurrentPaymentId</code></td>
      <td>Recurrence Id</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.TransactionId</code></td>
      <td>Payment ID of the transaction generated on recurrence</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.PaymentNumber</code></td>
      <td>Number of Recurrence. The first one is zero</td>
      <td>Number</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.TryNumber</code></td>
      <td>Number of current attempt at the specific recurrence</td>
      <td>Number</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="capture">Capture</h2>

<p>The <strong>capture</strong> is an exclusive procedure for credit card transactions. There are two types of capture:</p>

<ul>
  <li>Automatic capture: it is requested in the same <a href="">credit transaction authorization request</a> sending the <code class="language-plaintext highlighter-rouge">Payment.Capture</code> as “true”.</li>
  <li>Post capture: it is requested after sending the authorization request for the credit transaction.
<br />
<br />
<strong>In this section, we present the guidelines for doing the <em>post capture</em></strong>.</li>
</ul>

<p>When carrying out a capture, the merchant confirms that the amount authorized on the card may be charged by the financial institution issuing the card.</p>

<p><strong>Important</strong>:</p>

<ul>
  <li>The capture executes the charge of the card;</li>
  <li>Capture includes the sale value on the shopper’s invoice;</li>
  <li>The merchant only pays Cielo for captured transactions.</li>
</ul>

<aside class="notice">Warning: The capture is a process with a default deadline of 15 days. Check your Cielo registration to confirm the limit enabled for your affiliation. After this period, it is not possible to capture the transaction. If the transaction is not captured, the authorization will expire and so the cardholder's card will not be charged and the limit will be released.</aside>

<h3 id="partial-or-total-capture">Partial or total capture</h3>

<p>You can capture a partial amount or the total amount of the transaction.</p>

<p><strong>Partial capture</strong> is the act of capturing a value less than the authorized value. This capture model can only occur once per transaction.</p>

<p><strong>After capture, it is not possible to perform additional captures in the same order.</strong></p>

<h4 id="request-35">Request</h4>

<p>*For <strong>partial capture</strong>, send the <code class="language-plaintext highlighter-rouge">Amount</code> field in the capture request with the value you want to capture;
*For <strong>total capture</strong>, do not send the <code class="language-plaintext highlighter-rouge">Amount</code> field. The total value of the authorization will be considered.</p>

<aside class="warning">The `ServiceTaxAmount` field is unique to airlines.</aside>
<p><br /></p>
<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount={Valor}"</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">https://api.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/sales/</span><span class="p">{</span><span class="err">PaymentId</span><span class="p">}</span><span class="err">/capture</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Applicable to airlines companies only. Amount of the authorization value/amount that should be allocated to the service fee. Note: This value is not added to the authorization value.</td>
      <td>Number</td>
      <td>15</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-31">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code of acquirer.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message of acquirer.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Boarding tax capture To capture the *boarding tax*, simply add the value of the ServiveTaxAmount to be captured</aside>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount=xxx</span></aside>
<h2 id="canceling-a-transaction">Canceling a transaction</h2>

<p>Cancellation is a feature that allows the merchant to reverse a purchase order. Cancellation can occur due to insufficient stock or due to withdrawal of the purchase by the consumer, among other reasons.</p>

<p>In the API E-commerce Cielo it is possible to make the cancellation request for <strong>debit and credit cards</strong>.</p>

<ul>
  <li>
    <p>For <strong>authorized and uncaptured transactions</strong> (transactional status = 1), cancellation may be requested before the transaction is automatically rolled back.</p>
  </li>
  <li>
    <p>For <strong>captured transactions</strong> (transactional status = 2), cancellation can be requested 1 day after the capture and up to 360 days after the sale is authorized. The approval of this cancellation order is subject to the assessment of the balance in the merchant’s financial agenda at the time of the request and the approval of the bank issuing the card used in the transaction.</p>
  </li>
</ul>

<p>For cancellation requests of the same transaction, it is necessary to wait a period of 5 seconds between one request and another, so that the balance inquiry, reserve the amount in the financial agenda and awareness of the balance can be carried out, thus avoiding duplicate cancellations. This rule applies to total and partial cancellations. To identify that cancellation requests are from the same transaction, we consider the EC number, cancellation authorization number, date of sale, sale amount, and NSU.</p>

<blockquote>
  <p>It is important to point out that, in order to make any cancellation request, it is necessary that the merchant has sufficient balance in the transaction and in the agenda.</p>
</blockquote>

<h3 id="total-cancellation">Total cancellation</h3>

<p>You can cancel a sale via <code class="language-plaintext highlighter-rouge">PaymentId</code> or <code class="language-plaintext highlighter-rouge">MerchantOrderId</code> (order number).</p>

<aside class="notice">Attention: Cancellation by MerchantOrderId always affects the newest transaction, so if there are orders with a duplicate order number, only the current order will be cancelled. The previous order cannot be canceled by this method.</aside>

<h4 id="request-36">Request</h4>

<p><strong>Cancellation via PaymentId</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=xxx</span></aside>

<p>ou</p>

<p><strong>Cancellation via MerchantOrderId</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/OrderId/{MerchantOrderId}/void?amount=xxx</span></aside>

<p>The following example displays the cancellation request via <code class="language-plaintext highlighter-rouge">PaymentId</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT.</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment ID number.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-32">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code of acquirer.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message of acquirer.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric</td>
    </tr>
  </tbody>
</table>

<h3 id="partial-cancellation">Partial cancellation</h3>

<p><strong>Partial cancellation</strong> is the act of canceling an amount less than the total amount that was authorized and captured. This cancellation model can occur numerous times, until the full amount of the transaction is canceled.</p>

<blockquote>
  <p><strong>Partial cancellation</strong> is only available for <strong>captured transactions</strong>.</p>
</blockquote>

<aside class="notice">Attention: The API returns the sum of the total of partial cancellations, that is, if you make three partial cancellations of R$10.00, the API will present in the response a total of R$30.00 canceled.</aside>

<h4 id="request-37">Request</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=XXX </span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void?amount=XXX"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Public Key for Double Authentication in API E-commerce Cielo.</td>
      <td>Text</td>
      <td>40</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Request Identifier, used when the merchant uses different servers for each GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Order Identifier Field.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Order Amount (to be sent in cents).</td>
      <td>Number</td>
      <td>15</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h4 id="response-33">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Transaction Status.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Authorization number, identical to NSU.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Transaction Id on the acquirer.</td>
      <td>Text</td>
      <td>20</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Authorization code.</td>
      <td>Text</td>
      <td>6</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code of acquirer.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message of acquirer.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProviderReturnCode</code></td>
      <td>Provider return code.</td>
      <td>Text</td>
      <td>32</td>
      <td>Alphanumeric</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Provider return message.</td>
      <td>Text</td>
      <td>512</td>
      <td>Alphanumeric</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Cancellation of Boarding Tax: To cancel the *boarding tax*, simply add the value of the ServiveTaxAmount to be canceled</aside>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{paymentId}/void?amount={Valor}&amp;serviceTaxAmount=xxx
</code></pre></div></div>

<h3 id="cancellation-return-codes">Cancellation Return Codes</h3>

<table>
  <tbody>
    <tr>
      <td>RETURN CODE</td>
      <td>DESCRIPTION</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Partial cancellation request successfully approved</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Total cancellation request successfully approved</td>
    </tr>
    <tr>
      <td>72</td>
      <td>Error: Insufficient merchant balance for sale cancellation</td>
    </tr>
    <tr>
      <td>77</td>
      <td>Error: Original sale not found for cancellation</td>
    </tr>
    <tr>
      <td>100</td>
      <td>Error: Payment method and/or flag do not allow cancellation</td>
    </tr>
    <tr>
      <td>101</td>
      <td>Error: Requested cancellation amount above the allowed cancellation deadline</td>
    </tr>
    <tr>
      <td>102</td>
      <td>Error: Requested cancellation above the original transaction amount</td>
    </tr>
    <tr>
      <td>103</td>
      <td>Cadastral Restriction. Cancellation not allowed. Contact the Cancellation Center</td>
    </tr>
    <tr>
      <td>104</td>
      <td>Cadastral Restriction. Cancellation not allowed. Contact the Cancellation Center</td>
    </tr>
    <tr>
      <td>105</td>
      <td>Cadastral Restriction. Cancellation not allowed. Contact the Cancellation Center</td>
    </tr>
    <tr>
      <td>106</td>
      <td>Cadastral Restriction. Cancellation not allowed. Contact the Cancellation Center</td>
    </tr>
    <tr>
      <td>107</td>
      <td>Cadastral Restriction. Cancellation not allowed. Contact the Cancellation Center</td>
    </tr>
    <tr>
      <td>108</td>
      <td>Error: Merchant Number (EC) not found. Please check the number sent</td>
    </tr>
    <tr>
      <td>475</td>
      <td>Processing failed. Please try again</td>
    </tr>
  </tbody>
</table>

<h3 id="cancellation-via-cielo-website">Cancellation via Cielo website</h3>

<p>It is possible to carry out both the total cancellation and the partial cancellation via the Cielo website.</p>

<h1 id="notification-post">Notification Post</h1>

<p><strong>Notification Post</strong> is a <strong>webhook</strong> that sends notifications about changes in transaction status or recurring order creation.</p>

<p>During your cielo registration, you must set up an endpoint for Cielo to send notifications and you can also configure the events for which you want to receive notifications.</p>

<h3 id="notified-events">Notified Events</h3>

<p>Events that can be notified by payment method are:</p>

<table>
  <thead>
    <tr>
      <th>Payment Method</th>
      <th>Events that can be notified</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Credit Card</strong></td>
      <td>Capture;<br />Cancellation;<br />Queries.</td>
    </tr>
    <tr>
      <td><strong>Debit Card</strong></td>
      <td>Capture;<br />Queries.</td>
    </tr>
    <tr>
      <td><strong>Boleto</strong></td>
      <td>Conciliation;<br />Manual cancellation</td>
    </tr>
    <tr>
      <td><strong>Electronic transfer</strong></td>
      <td>Confirmed transers.</td>
    </tr>
  </tbody>
</table>

<p>Notification also occurs at events related to <strong>Cielo Scheduled Recurrence</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Recurrence Events</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Disabled when reaching maximum number of attempts (denied transactions)</td>
    </tr>
    <tr>
      <td>Rehabilitation</td>
    </tr>
    <tr>
      <td>Finalized / Completion date reached</td>
    </tr>
    <tr>
      <td>Deactivation</td>
    </tr>
    <tr>
      <td>Creation of the recurring order recurrence transaction.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Events are only notified when you request this type of notification from Cielo Support.</p>
</blockquote>

<h3 id="notification-endpoint">Notification Endpoint</h3>

<p>You must report an endpoint (<code class="language-plaintext highlighter-rouge">PAYMENT STATUS URL</code>) to Cielo Support for the Notification Post to run.</p>

<p>Characteristics of <code class="language-plaintext highlighter-rouge">Payment Status URL</code></p>

<ul>
  <li>Must be <strong>static</strong>;</li>
  <li>Limit of 255 characters.</li>
</ul>

<p>Characteristics of <strong>Post notification</strong></p>

<ul>
  <li>It is sent every 30 minutes;</li>
  <li>In the event of a failure, three retries are made.</li>
</ul>

<blockquote>
  <p>To increase security, you can register header return information for your endpoint. With this, your endpoint will only accept the notification if Cielo sends the header.</p>
</blockquote>

<p>To set up the header information, please inform Cielo Support of the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">KEY</code> - Parameter name</li>
  <li><code class="language-plaintext highlighter-rouge">VALUE</code> - Static value to be returned</li>
</ul>

<p>You can register up to 3 types of return information in the header.</p>

<blockquote>
  <p>The <strong>merchant should return</strong> in response to the notification: <strong>HTTP Status Code 200 OK</strong>.</p>
</blockquote>

<p>The content of the notification will consist of three fields:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code>: identifier that represents a set of recurring transactions;</li>
  <li><code class="language-plaintext highlighter-rouge">PaymentId</code>: payment identification number;</li>
  <li><code class="language-plaintext highlighter-rouge">ChangeType</code>: specifies the type of notification.</li>
</ul>

<p>Using this data you can identify the transaction via <code class="language-plaintext highlighter-rouge">PaymentId</code> or <code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code> and the change that ocurred. After the notification, you can get more details about the transaction by <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#searching-for-a-transaction-via-paymentid" target="\_blank">Searching for a transaction via PaymentId</a> or by <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#searching-for-recurrence-information" target="\_blank">Searching for recurrence information</a></p>

<p>Here’s an example of the Notification Post content:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ChangeType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--header</span> <span class="s2">"key: value"</span>
<span class="o">{</span>
   <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"PaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"ChangeType"</span>: 2
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Identifier representing the Recurring request (only applicable for ChangeType 2 or 4).</td>
      <td>GUID</td>
      <td>36</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Payment identification number.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ChangeType</code></td>
      <td>Specifies the type of notification.</td>
      <td>Number</td>
      <td>1</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="changetype-table">ChangeType table</h3>

<table>
  <thead>
    <tr>
      <th>ChangeType</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Payment status change.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Recurrence created.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Antifraude status change. Exclusive for customers integrated with Antifraude.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Recurring payment status change (eg automatic deactivation).</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Cancellation denied.</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Chargeback notification. Exclusive for customers integrated with <a href="https://braspag.github.io//en/manual/risknotification" target="\_blank">Risk Notification API</a>.</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Fraud alert.</td>
    </tr>
  </tbody>
</table>

<h1 id="bin-query">BIN Query</h1>

<p><strong>BIN Query</strong> is a <strong>card data search</strong> service, whether credit or debit, which identifies card characteristics based on the first digits and returns information that allows you to validate the data filled in on the checkout screen.</p>

<ul>
  <li><strong>Card Brand:</strong> brand name;</li>
  <li><strong>Card Type:</strong> credit, debit or multiple (credit and debit);</li>
  <li><strong>Card Nationality:</strong> foreign or national (Brazil);</li>
  <li><strong>Card:</strong> whether or not the card is corporate;</li>
  <li><strong>Issuing Bank:</strong> code and name;</li>
  <li><strong>Prepaid card:</strong> whether or not the card is prepaid.</li>
</ul>

<p>This information allows you to take actions at the time of payment to improve the store’s conversion rates.</p>

<aside class="warning">Contact Cielo Support Team to enable BIN Query.</aside>

<h2 id="use-case">Use Case</h2>

<p>Based on the result of the BIN Query, you can develop functionalities in your checkout to improve usability for shoppers and, thus, help in the recovery of carts and in the best conversion of your store.</p>

<p><strong>1. Avoid errors related to the brand or the type of card</strong>:</p>

<ul>
  <li>
    <p>The BIN query returns the <strong>correct</strong> brand of the card once it is associated with the BINS base of the brands; this is a much safer method than relying on algorithms on forms;</p>
  </li>
  <li>
    <p>At your store checkout, you can create a message to let the customer know if they are using a debit card when they should actually be using a credit card.</p>
  </li>
</ul>

<p><strong>2. Offer online cart recovery</strong></p>

<p>You can develop a flow at your checkout so that, if a card entered on the payment screen is multiple (credit and debit), your store can retain the card data and, if the credit transaction fails, automatically offer the shopper a debit transaction with the same card.</p>

<p><strong>3. Warn about international or prepaid cards</strong></p>

<p>The BIN query may indicate an attempt to use an international or prepaid card. If your store does not want to accept international or prepaid card payments, you can configure your checkout to inform the shopper that the store does not accept the card entered.</p>

<h2 id="integration">Integration</h2>

<h3 id="request-38">Request</h3>

<p>A <code class="language-plaintext highlighter-rouge">GET</code> request must be sent containing the BIN to be checked:</p>

<aside class="request"><span class="method get">GET</span><span class="endpoint">{API Query}/1/cardBin/`BIN`</span></aside>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BIN</code></td>
      <td>It’s the first six or nine digits of the card.</td>
    </tr>
  </tbody>
</table>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">https://apiquery.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/cardBin/</span><span class="mi">420020</span><span class="w">
</span></code></pre></div></div>

<h3 id="response-34">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crédito"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ForeignCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CorporateCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IssuerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="w">
    </span><span class="nl">"Prepaid"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Size</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Text</td>
      <td>2</td>
      <td>BIN Check status response: <br /> 00 – Analysis authorized <br /> 01 – Brand not supported<br /> 02 – Card not supported for BIN Check<br /> 73 – Blocked Affiliation</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>Text</td>
      <td>255</td>
      <td>Card Brand</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardType</code></td>
      <td>Text</td>
      <td>20</td>
      <td>Card Type: <br /> Credit <br /> Debit <br />Multiple</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ForeignCard</code></td>
      <td>Boolean</td>
      <td>-</td>
      <td>If card was issued abroad (False/True)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CorporateCard</code></td>
      <td>Boolean</td>
      <td>-</td>
      <td>If card is coporate (False/True)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issuer</code></td>
      <td>Text</td>
      <td>255</td>
      <td>Card issuer’s name</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IssuerCode</code></td>
      <td>Text</td>
      <td>255</td>
      <td>Card issuer’s code</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Prepaid</code></td>
      <td>Boolean</td>
      <td>True ou False</td>
      <td>Returns “True” if the card is prepaid.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>NOTE</strong>: On testing environment (SANDBOX), the returned data is simulated, so they are not valid BIN Check results. Only fields and format must be considered. For real identification of the BIN Check, production environment must be used.</p>
</blockquote>

<h1 id="zero-auth">Zero Auth</h1>

<p><strong>Zero Auth</strong> is a Cielo tool that allows you to check whether a card is valid for making a purchase before the order is finalized. Zero Auth simulates an authorization without affecting the credit limit or alerting the cardholder about the test.</p>

<blockquote>
  <p>Zero Auth does not return the card available limit or card/cardholder characteristics. Zero Auth only simulates a Cielo authorization.</p>
</blockquote>

<p>Zero Auth is the correct way to validate cards according to the recommendations of brands and banks. Before the creation of Zero Auth, stores used to create low-value transactions, such as one real or one dollar, and then cancel them; it is important to know that this practice is now penalized by the card brands.</p>

<blockquote>
  <p><strong>Notice</strong>:<br /></p>
  <ul>
    <li>In the event of transactions with an amount <em>different from zero</em> and <em>less than one dollar</em>, followed by cancellation of the transaction, the brands will apply fees to Cielo, which will be passed on to the establishments that are non-compliant. Mastercard, for example, is charging a fee of R$0.21 per transaction.<br /></li>
    <li>Zero Auth transactions are subject to the rules established in Card Brands Retry Program. Fees may be charged due to excessive attempts. Please refer to <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras" target="_blank">Card Brands Retry Program</a> for details.</li>
  </ul>
</blockquote>

<p><strong>Zero Auth</strong> validates <strong>open or tokenized cards</strong> (sending the <code class="language-plaintext highlighter-rouge">CardToken</code> created in the API E-commerce Cielo).</p>

<p><strong>Supported brands</strong></p>

<p>Zero Auth supports <strong>Visa, Master</strong> and <strong>Elo</strong> for both credit and debit cards.</p>

<p>If other brands are sent, there will be an error with the return “<strong>57-Invalid Brand</strong>”.</p>

<aside class="warning">Contact Cielo Support team to enable Zero Auth.</aside>

<h2 id="integration-1">Integration</h2>

<p>To perform a Zero Auth validation, the merchant must send a <code class="language-plaintext highlighter-rouge">POST</code> request to the API E-commerce Cielo, simulating a transaction.</p>

<p>Validating an open card requires a different technical contract than validating a tokenized card or an e-wallet. Check out each example request in the following topics:</p>

<h3 id="open-card">Open card</h3>

<p>You should send open card data: number, holder, expiration date, security code and brand, along with other parameters as seen below.</p>

<h4 id="request-39">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/zeroauth</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Alexsander Rosa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Usage"</span><span class="p">:</span><span class="s2">"First"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Recurring"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardType</code></td>
      <td>Defines the type of card used: <br /> <br /> <em>CreditCard</em> <br /> <em>DebitCard</em> <br /> <br /> If not sent, CreditCard is the default.</td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardNumber</code></td>
      <td>Card Number</td>
      <td>Text</td>
      <td>16</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Holder</code></td>
      <td>Cardholder’s name, printed on the card.</td>
      <td>Text</td>
      <td>25</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Expiration date.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SecurityCode</code></td>
      <td>Card Security code.</td>
      <td>Text</td>
      <td>4</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SaveCard</code></td>
      <td>Defines if the card must be tokenized. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Card brand:<br /> Visa <br /> Master <br /> ELO</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Card Token in API E-commerce Cielo.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardOnFile.Usage</code></td>
      <td><strong>First</strong> if the credentials have been stored and they will be used for the first time.<br /><strong>Used</strong> if the credentials have been stored and they were previously used.</td>
      <td>Text</td>
      <td>—</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardOnFile.Reason</code></td>
      <td>Indicates the purpose of storing cards, if the “Usage” field is “Used”.<br /><strong>Recurring</strong> - Scheduled recurring purchase (eg subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence).<br /><strong>Unscheduled</strong> - Recurring purchase without scheduling (eg service applications)<br /><strong>Installments</strong> - Installment through recurrence<br />.</td>
      <td>Text</td>
      <td>—</td>
      <td>Conditional</td>
    </tr>
  </tbody>
</table>

<h3 id="tokenized-card">Tokenized card</h3>

<p>If the card is tokenized, you should send the <code class="language-plaintext highlighter-rouge">CardToken</code>.</p>

<h4 id="request-40">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/zeroauth</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"23712c39-bb08-4030-86b3-490a223a8cc9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Card Brand: Visa <br /> Master <br /> ELO</td>
      <td>Text</td>
      <td>10</td>
      <td>not</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Tokenized Card 3.0</td>
      <td>GUID</td>
      <td>36</td>
      <td>yes</td>
    </tr>
  </tbody>
</table>

<h3 id="e-wallet-1">E-wallet</h3>

<p>In order to validate an e-wallet with Zero Auth, the merchant is required to have one of the <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#available-e-wallets">available e-wallets</a> integrated.</p>

<h4 id="request-41">Request</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/2/zeroauth</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532154371691902"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joao da Silva"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MM/YYYY"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"333"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
      <th>Type</th>
      <th>Contact Us</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardType</code></td>
      <td>Defines the type of card used: <br /> <br /> <em>CreditCard</em> <br /> <em>DebitCard</em> <br /> <br /> If not sent, CreditCard is the default.</td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardNumber</code></td>
      <td>Card Number</td>
      <td>Text</td>
      <td>16</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Holder</code></td>
      <td>Cardholder’s name, printed on the card.</td>
      <td>Text</td>
      <td>25</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Expiration date.</td>
      <td>Text</td>
      <td>7</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SecurityCode</code></td>
      <td>Card Security code.</td>
      <td>Text</td>
      <td>4</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SaveCard</code></td>
      <td>Defines if the card must be tokenized. Find out more about <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#tokenization-of-cards">Tokenization of Cards</a>.</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Card brand:<br /> Visa <br /> Master <br /> ELO</td>
      <td>Text</td>
      <td>10</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Card Token in API E-commerce Cielo.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardOnFile.Usage</code></td>
      <td><strong>First</strong> if the credentials have been stored and they will be used for the first time.<br /><strong>Used</strong> if the credentials have been stored and they were previously used.</td>
      <td>Text</td>
      <td>—</td>
      <td>No</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardOnFile.Reason</code></td>
      <td>Indicates the purpose of storing cards, if the “Usage” field is “Used”.<br /><strong>Recurring</strong> - Scheduled recurring purchase (eg subscriptions). If it is a recurring transaction, use <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (merchant recurrence) or <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (scheduled recurrence).<br /><strong>Unscheduled</strong> - Recurring purchase without scheduling (eg service applications)<br /><strong>Installments</strong> - Installment through recurrence<br />.</td>
      <td>Text</td>
      <td>—</td>
      <td>Conditional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.Type</code></td>
      <td>Wallet type: “ApplePay” / “SamsungPay” / “GooglePay”.</td>
      <td>Text</td>
      <td>15</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.Cavv</code></td>
      <td>Validation field returned by the e-wallet and used as authorization basis.</td>
      <td>Text</td>
      <td>255</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.Eci</code></td>
      <td>Electronic Commerce Indicator. Represents how secure a transaction is. The merchant should consider the ECI to decide whether or not to capture a transaction.</td>
      <td>Text</td>
      <td>2</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="response-35">Response</h3>

<p>The response always returns whether the card can currently be authorized. This information only means that the <em>card is valid for transactioning</em>, but does not indicate that a certain value will be authorized.</p>

<p>The fields returned in the response depend on the validation result. The following table presents all possible fields; after the table, check out the examples for each type of response.</p>

<blockquote>
  <p>If the response is negative, do not submit for authorization, submit only if the response code is positive.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Valid</code></td>
      <td>Card Status: <br /> <strong>True ** - Valid Card <br /> **False</strong> - Invalid Card</td>
      <td>Boolean</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Return code</td>
      <td>Text</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Return message</td>
      <td>Text</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IssuerTransactionId</code></td>
      <td>Issuer authentication identifier for recurring credit transactions. This field must be sent in subsequent transactions of the first transaction in the self-recurrence model. In the programmed recurrence model, Cielo will be responsible for sending the field in subsequent transactions.</td>
      <td>Text</td>
      <td>15</td>
    </tr>
  </tbody>
</table>

<h4 id="positive---valid-card">POSITIVE - Valid Card</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transacao autorizada"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>See <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-codes" target="_blank">Return codes</a> to see the return codes descriptions. 
The return code <strong>00 represents success in Zero Auth</strong>, the other codes are defined according to the next topics.</p>
</blockquote>

<h4 id="negative---invalid-card">NEGATIVE - Invalid Card</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
       </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negative---invalid-card---brand-not-supported">NEGATIVE - Invalid Card - Brand not Supported</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">    
      </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">     
      </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bandeira inválida"</span><span class="w">   
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negative---registration-restriction">NEGATIVE - Registration Restriction</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">    
      </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">     
      </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Restrição Cadastral"</span><span class="w">   
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>If there is an error in Zero Auth flow and it is not possible to validate the card, Zero Auth will return the following errors:</p>

<ul>
  <li><em>500 – Internal Server Error</em></li>
  <li><em>400 – Bad Request</em></li>
</ul>

<h1 id="silent-order-post">Silent Order Post</h1>

<p>With Silent Order Post, payment data is securely transferred, maintaining full control over the checkout experience.</p>

<p>This method makes it possible to send the shopper’s payment data securely directly into our system. Payment fields are stored by Cielo, which is PCI DSS 3.2 certified.</p>

<p>It is ideal for merchants who require a high level of security without losing the identity of their page.</p>

<h2 id="characteristics">Characteristics</h2>

<ul>
  <li>It captures payment data directly to Cielo systems through fields hosted on your page through a script (JavaScript)).</li>
  <li>Compatibility with all payment methods available to the Gateway (National and International)</li>
  <li>Reducing the scope of the PCI DSS</li>
  <li>Full control over your checkout experience and brand management elements</li>
</ul>

<blockquote>
  <p>The <strong>PCI Data Security Standard</strong> (PCI DSS) is a global standard for card data security, and comprises a minimum set of requirements to protect cardholder data.</p>
</blockquote>

<h2 id="authorization-flow">Authorization Flow</h2>

<p>Below is how a standard authorization flow and an authorization flow with Silent Order Post.</p>

<h3 id="standard-authorization-flow">Standard Authorization Flow</h3>

<p>In the standard authorization flow, the online store receives payment data from the shopper and therefore needs to be PCI DSS compliant.</p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxo-padrao-de-autorizacao_2_en.png" alt="Authorization_Flow" /></p>

<h3 id="authorization-flow-with-silent-order-post">Authorization Flow with Silent Order POST</h3>

<p>With Silent Order Post, the virtual store server <strong>does not transfer card data</strong> openly.</p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxo-de-autorizacao-com-sop_1_en.png" alt="Authorization_Flow_POST" /></p>

<ol>
  <li>The store configures JavaScript on the checkout screen. At checkout, the script sends payment data directly to API E-commerce Cielo, without going through the store’s server;</li>
  <li>The API stores the card data for that purchase and creates an encrypted code (<code class="language-plaintext highlighter-rouge">PaymentToken</code>, valid only for one purchase) or stores the card data and creates an encrypted code for the card (<code class="language-plaintext highlighter-rouge">CardToken</code>, which can be used on other purchases);</li>
  <li>The store sends the script token to the server itself;</li>
  <li>The store, through its server, sends the authorization request with the token and the other mandatory fields for a transaction.</li>
</ol>

<h2 id="integration-2">Integration</h2>

<h3 id="step-1-getting-access-tokens">Step 1. Getting access tokens</h3>

<p>In order to use Silent Order Post, you will need two tokens:</p>

<ul>
  <li>OAuth2 authentication token (<code class="language-plaintext highlighter-rouge">access_token</code>);</li>
  <li>Silent Order Post authentication token (<code class="language-plaintext highlighter-rouge">AccessToken</code>).</li>
</ul>

<h4 id="oauth2-authentication-token">OAuth2 authentication token</h4>

<p>Get the <code class="language-plaintext highlighter-rouge">access_token</code> from the Cielo authentication API (<strong>OAuth2</strong>). In case of success, the API will return an <code class="language-plaintext highlighter-rouge">access_token</code> that must be used in the next authentication layer of the tool.</p>

<p>To get the <code class="language-plaintext highlighter-rouge">access_token</code> in the <a href="https://oauth.net/2/" target="_blank">OAuth 2.0</a> standard, send a request using the HTTP VERB <strong>POST</strong> to the URL of the table below, formed by the “base URL of the environment + endpoint”, according to the desired environment:</p>

<table>
  <thead>
    <tr>
      <th>Environment</th>
      <th>base URL + endpoint</th>
      <th>Authorization</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SANDBOX</strong></td>
      <td>https://authsandbox.braspag.com.br/oauth2/token</td>
      <td>“Basic <em>{base64}</em>”</td>
    </tr>
    <tr>
      <td><strong>PRODUCTION</strong></td>
      <td>https://auth.braspag.com.br/oauth2/token</td>
      <td>“Basic <em>{base64}</em>”</td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> The “<em>{base64}</em>” value for the “Basic” type authorization must be obtained as follows:</p>

<ol>
  <li>Concatenate the “ClientId” and the “ClientSecret” (<code class="language-plaintext highlighter-rouge">ClientId:ClientSecret</code>);</li>
  <li>Encode the result of the concatenation in base64;</li>
  <li>Make a request to the authorization server using the generated alphanumeric code.</li>
</ol>

<p>To obtain the “ClientID” and “ClientSecret”, send an email to <em>cieloecommerce@cielo.com.br</em> containing the <code class="language-plaintext highlighter-rouge">MerchantId</code> and informing that you want to obtain the “ClientID” and “ClientSecret” credentials for Silent Order Post.</p>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">oauth2/token</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://authsandbox.braspag.com.br/oauth2/token"</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Basic {base64}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span> 
<span class="nt">--data-binary</span> <span class="s2">"grant_type=client_credentials"</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parameters</th>
      <th>Format</th>
      <th>Where to send</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Authorization</code></td>
      <td>“Basic <em>{base64}</em>”</td>
      <td>Header.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>“application/x-www-form-urlencoded”</td>
      <td>Header.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">grant_type</code></td>
      <td>“client_credentials”</td>
      <td>Body.</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">599</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"access_token"</span>: <span class="s2">"faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span>,
  <span class="s2">"token_type"</span>: <span class="s2">"bearer"</span>,
  <span class="s2">"expires_in"</span>: 599
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Response Properties</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>The requested authentication token, that will be used in the next step.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">token_type</code></td>
      <td>Indicates the token type value.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expires_in</code></td>
      <td>Access Token expiration, in seconds. When the token expires, you must request a new one.</td>
    </tr>
  </tbody>
</table>

<h4 id="silent-order-post-authentication-token">Silent Order Post Authentication Token</h4>

<p>After obtaining the OAuth2 authentication token, send a request using the HTTP VERB <strong>POST</strong> to the URL in the table below, depending on the desired environment:</p>

<table>
  <thead>
    <tr>
      <th>Environment</th>
      <th>base URL + endpoint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td>https://transactionsandbox.pagador.com.br/post/api/public/v2/accesstoken</td>
    </tr>
    <tr>
      <td>Production</td>
      <td>https://transaction.pagador.com.br/post/api/public/v2/accesstoken</td>
    </tr>
  </tbody>
</table>

<p><strong>Request</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">api/public/v2/accesstoken</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://transactionsandbox.pagador.com.br/post/api/public/v2/accesstoken"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Properties</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Merchant identifier at Pagador.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Authorization</code></td>
      <td>Bearer [AccessToken OAuth2]</td>
      <td>Text</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<p><strong>Response</strong></p>

<p>In response, the store will receive a json (“HTTP 201 Created”) containing, among other information, the <code class="language-plaintext highlighter-rouge">AccessToken</code> from Silent Order Post.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccessToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MzA5YWIxNmQtYWIzZi00YmM2LWEwN2QtYTg2OTZjZjQxN2NkMDIzODk5MjI3Mg=="</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-05T08:50:04"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpiresIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-05T09:10:04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"MzA5YWIxNmQtYWIzZi00YmM2LWEwN2QtYTg2OTZjZjQxN2NkMDIzODk5MjI3Mg=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2021-05-05T08:50:04"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2021-05-05T09:10:04"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Properties</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Merchant identifier at aPI E-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AccessToken</code></td>
      <td>Access token (<code class="language-plaintext highlighter-rouge">AccessToken</code> from Silent Order Post). The <code class="language-plaintext highlighter-rouge">AccessToken</code> obtained will allow an authorization attempt to be made within 20 minutes.</td>
      <td>Text</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issued</code></td>
      <td>Token creation date and hour.</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpiresIn</code></td>
      <td>Token expiration date and hour.</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<h3 id="step-2-implementing-the-script">Step 2. Implementing the script</h3>

<p>Download the script provided by Cielo, and attach the script to your checkout page. This script will allow Cielo to process all card information without the merchant’s intervention.</p>

<p>Download the script corresponding to the desired environment, sandbox or production:</p>

<table>
  <thead>
    <tr>
      <th>Environment</th>
      <th>Script URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SANDBOX</strong></td>
      <td><a href="https://transactionsandbox.pagador.com.br/post/scripts/silentorderpost-1.0.min.js" target="_blank">https://transactionsandbox.pagador.com.br/post/scripts/silentorderpost-1.0.min.js</a></td>
    </tr>
    <tr>
      <td><strong>PRODUCTION</strong></td>
      <td><a href="https://transaction.cieloecommerce.cielo.com.br/post/scripts/silentorderpost-1.0.min.js" target="_blank">https://transaction.cieloecommerce.cielo.com.br/post/scripts/silentorderpost-1.0.min.js</a></td>
    </tr>
  </tbody>
</table>

<p>Then configure the form with the following classes:</p>

<ul>
  <li>For the credit/debit card holder: <strong>bp-sop-cardholdername</strong></li>
  <li>For credit/debit card number: <strong>bp-sop-cardnumber</strong></li>
  <li>For credit/debit card validity: <strong>bp-sop-cardexpirationdate</strong></li>
  <li>For credit/debit card security code: <strong>bp-sop-cardcvvc</strong></li>
</ul>

<p>Additionally, set the following parameters:</p>

<p><strong>Script Parameters</strong></p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">accessToken</code></td>
      <td>Access token obtained via Braspag’s authentication API (AccessToken SOP).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">environment</code></td>
      <td>Type of environment: <strong>sandbox</strong> or <strong>production</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">language</code></td>
      <td><strong>PT</strong> or <strong>EN</strong> or <strong>ES</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">enableTokenize</code></td>
      <td>“true” (saves the card directly to the Protected Card, returning a <em>cardToken</em> instead of a <em>paymentToken</em>) / “false” (otherwise).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cvvRequired</code></td>
      <td>“false” (sets CVV as not mandatory) / “true” (sets CVV as mandatory).</td>
    </tr>
  </tbody>
</table>

<p>Example of setup to be performed by the virtual store on the checkout page:</p>

<p><img src="https://developercielo.github.io/images/html-silent-order-post.jpg" alt="Pagina Checkout" /></p>

<p><strong>Script Response</strong></p>

<p>The script provided by Cielo provides three events for handling and treatment by the establishment. They are:</p>

<ul>
  <li><strong>onSuccess</strong>, returns the <strong>“PaymentToken”</strong> after processing the card data;</li>
  <li><strong>onError</strong>, in case there is an error in the consumption of Cielo services;</li>
  <li><strong>onInvalid</strong>, returns the input validation result.</li>
</ul>

<p>When validating the inputs, the establishment will be able to use the entire validation layer on the card data carried out by Cielo and thus simplify the treatment in its checkout form. The messages returned in the validation result are available in Portuguese (default), English and Spanish.</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentToken</code></td>
      <td>Payment Token in GUID format (36)</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Permanent token to be used on a payment request on a GUID format (36).</td>
      <td>Only works if ‘enableTokenize’ is <strong>true</strong>.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <ul>
    <li>The <code class="language-plaintext highlighter-rouge">PaymentToken</code> or <code class="language-plaintext highlighter-rouge">CardToken</code> will represent all the card data provided by the shopper. The token will be used by the establishment so that it does not need to treat and process card data on its server.<br /></li>
    <li>For security reasons, the <code class="language-plaintext highlighter-rouge">PaymentToken</code> can only be used for authorization in the API E-commerce Cielo. After processing the token, it will be invalidated.</li>
  </ul>
</blockquote>

<h3 id="step-3-authorization-request-with-token">Step 3. Authorization request with token</h3>

<h4 id="request-with-paymenttoken">Request with PaymentToken</h4>

<p>Send the authorization request with the <code class="language-plaintext highlighter-rouge">PaymentToken</code> in the <code class="language-plaintext highlighter-rouge">CreditCard</code> node (for credit card transaction) or in the <code class="language-plaintext highlighter-rouge">DebitCard</code> node (for debit card transaction).</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTER"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>To see the required fields for the request and the response, see standard requests for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-credit-transaction" target="_blank">credit</a> or <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-debit-transaction" target="_blank">debit</a>.</p>

<p><strong>For security reasons, the <code class="language-plaintext highlighter-rouge">PaymentToken</code> can only be used for authorization in the API E-commerce Cielo. The token will be processed and then invalidated.</strong></p>

<h4 id="request-with-cardtoken">Request with CardToken</h4>

<p>Submit the authorization request with the <code class="language-plaintext highlighter-rouge">CardToken</code> in the <code class="language-plaintext highlighter-rouge">CreditCard</code> node (for credit card transaction) or in the <code class="language-plaintext highlighter-rouge">DebitCard</code> node (for debit card transaction).</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>To see the required fields for the request and the response, see standard requests for <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-credit-transaction" target="_blank">credit</a> or <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#creating-a-debit-transaction" target="_blank">debit</a>.</p>

<h2 id="legacy-authentication">Legacy Authentication</h2>

<blockquote>
  <p>We do not recommend this form of authentication as it will be discontinued.</p>
</blockquote>

<p><strong>STEP 1</strong></p>

<p>a) The merchant must request a ticket (server to server) sending a POST to the following URL:</p>

<p><strong>SANDBOX:</strong>
<strong>https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid={mid_loja}</strong></p>

<p><strong>PRODUCTION:</strong>
<strong>https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid={mid}</strong></p>

<p>Example: https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000</p>

<h3 id="request-42">Request</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v1/accesstoken?merchantid={mid_loja}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mid_loja</code></td>
      <td>API store identifier</td>
      <td>Guid</td>
      <td>36</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="response-36">Response</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2018-07-23T11:09:32"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2018-07-23T11:29:32"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Store identifier in Cielo</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AccessToken</code></td>
      <td>Access token</td>
      <td>Text</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issued</code></td>
      <td>Date and time generation</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpiresIn</code></td>
      <td>Date and time of expiration</td>
      <td>Text</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<p>b) To use this resource, for security reasons, Cielo will obligatorily request, at least, <strong>a valid IP of the establishment</strong>. Otherwise, the request will not be authorized (<strong>HTTP 401 NotAuthorized</strong>).</p>

<p><strong>STEP 2</strong></p>

<p>a) In response, the merchant will receive a JSON (HTTP 201 Created) containing, among other information, the ticket (AccessToken), such as:</p>

<p><img src="https://developercielo.github.io/images/response-ticket-silent-order-post-cielo.jpg" alt="Response Ticket" /></p>

<p>For security reasons, this ticket will allow the store to save only <strong>one card</strong> within a period already stipulated in the answer, through the <code class="language-plaintext highlighter-rouge">ExpiresIn</code> attribute (by default, 20 minutes). Whichever happens first will invalidate the ticket for future use.</p>

<h1 id="velocity">Velocity</h1>

<p><strong>Velocity</strong> is a type of fraud prevention mechanism, which analyzes the frequency that certain data is used in a transaction and if this data is included in a list of behaviors subject to security actions.</p>

<p>Velocity is an ally in the evaluation of suspicious purchasing behavior, as the calculations are based on <strong>traceability elements</strong>.</p>

<blockquote>
  <p>For your transactions to be analyzed by Velocity, request the inclusion of this service to Cielo Support.</p>
</blockquote>

<p>Velocity works by analyzing data sent in the standard integration of the API E-commerce Cielo. Thus, it is not necessary to include any additional nodes in the transaction creation request.</p>

<p>When Velocity is active, the transaction response will bring a specific node called <code class="language-plaintext highlighter-rouge">Velocity</code>, with the analysis details.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051202"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2027"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reject"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbortedByFraud"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP171"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected by fraud risk (velocity)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.Id</code></td>
      <td>Performed analysis identifier</td>
      <td>GUID</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.ResultMessage</code></td>
      <td>Accept ou Reject</td>
      <td>Text</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.Score</code></td>
      <td>100</td>
      <td>Number</td>
      <td>10</td>
    </tr>
  </tbody>
</table>

<h1 id="api-codes">API codes</h1>

<h2 id="about-codes">About codes</h2>

<p>API E-commerce Cielo has 4 types of returned codes that represent different moments of the transaction.</p>

<p>Below we explain them in the order in which they can occur:</p>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>HTTP Status Code</strong></td>
      <td>They are standard HTTP codes. It report if the information sent to the API is <strong>actually being successful in reaching our ENDPOINTs</strong>. If values other than 200 or 201 are appearing, there is some impediment with the comunication with the API<br /> <em>Returned at time of API request</em></td>
    </tr>
    <tr>
      <td><strong>API Errors</strong></td>
      <td>These codes are responses to <strong>content validation of sent data</strong>. If they are being displayed, our API calls have been identified and are being validated. If this code is displayed, the request contains errors (EX: size/conditions/registration errors) that prevent the creation of the transaction<br /><em>Returned at the time of the request to the API</em></td>
    </tr>
    <tr>
      <td><strong>Status</strong></td>
      <td>After the transaction is created, these codes will be returned, informing how the transaction is at the moment (e.g. <code class="language-plaintext highlighter-rouge">Authorized</code> &gt; <code class="language-plaintext highlighter-rouge">Captured</code> &gt; <code class="language-plaintext highlighter-rouge">Cancelled</code>)<br />*Returned in the <code class="language-plaintext highlighter-rouge">Status</code> field *</td>
    </tr>
    <tr>
      <td><strong>Sales Return</strong></td>
      <td>Formed by a <strong>Return code</strong> and a <strong>message</strong>, these codes indicate the <strong>reason</strong> for a certain <code class="language-plaintext highlighter-rouge">Status</code> within a transaction. They indicate, for example, if a transaction with <code class="language-plaintext highlighter-rouge">status</code> denied was not authorized due to a negative balance in the issuing bank. <br /><em>Returned in the <code class="language-plaintext highlighter-rouge">ReturnCode</code> and <code class="language-plaintext highlighter-rouge">ReturnMessage</code> fields</em><br /> <em>Occurs only in Credit and Debit Cards</em></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note</strong>: In the old <strong>Webservice 1.5 Cielo</strong>, the <code class="language-plaintext highlighter-rouge">ReturnCode</code> was considered <em>Transaction Status</em>. In the <strong>API E-commerce Cielo</strong>, the <code class="language-plaintext highlighter-rouge">Status</code> field has its own codes, therefore, the <strong>field to be considered as the basis for identifying the status of a transaction</strong>.</p>
</blockquote>

<h2 id="http-status-code">HTTP Status Code</h2>

<table>
  <thead>
    <tr>
      <th>HTTP Status Code</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK (Capture/Void/Get)</td>
    </tr>
    <tr>
      <td>201</td>
      <td>OK (Authorization)</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>401</td>
      <td>Unauthorized</td>
    </tr>
    <tr>
      <td>403</td>
      <td>Forbidden</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>405</td>
      <td>Method Not Allowed</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
    <tr>
      <td>502</td>
      <td>Bad Gateway</td>
    </tr>
    <tr>
      <td>503</td>
      <td>Service Unavailable</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

<p>See some example scenarios for when each HTTP code may return:</p>

<p><strong>Successful responses</strong></p>

<ul>
  <li><strong>200 Ok</strong>: the request succeeded. E.g.: when creating an <code class="language-plaintext highlighter-rouge">AccessToken</code>;</li>
  <li><strong>201 Created</strong>: the request succeeded and the transaction was created (for all payment methods: boleto, credit, debit, electronic transfer and e-wallet).</li>
</ul>

<p><strong>Client error responses</strong></p>

<ul>
  <li><strong>400 Bad Request</strong>: the request is not valid. E.g: malformed JSON request syntax;</li>
  <li><strong>401 Unauthorized</strong>: authentication error. E.g.: wrong <code class="language-plaintext highlighter-rouge">MerchantKey</code>;</li>
  <li><strong>403 Forbidden</strong>: non-authorized due to IP restriction in the e-commerce;</li>
  <li><strong>404 Not Found</strong>: The server can not find the requested resource. E.g.: wrong endpoint; for order search: the order does not exist, or was created by another merchant or the order is older than three months;</li>
  <li><strong>405 Method Not Allowed</strong>: wrong HTTP method (POST, PUT, GET, PATCH, DELETE).</li>
</ul>

<p><strong>Server error responses</strong></p>

<ul>
  <li><strong>500 Internal Server Error, 502 Bad Gateway ou 503 Service Unavailable</strong>: these errors responses can return due to some internal fail at Braspag, such as unavailable payment method or low speed. If you get any of these responses, we recommend contacting our Support for further information.</li>
</ul>

<h2 id="card-brands-retry-program">Card Brands Retry Program</h2>

<p>When a shopper tries to make a card purchase on e-commerce, the transaction may be denied due to several reasons. The <strong>next attempts to complete the transaction</strong> using the <strong>same card</strong> are called <strong>retrying</strong>.</p>

<p><strong>How retrying works</strong></p>

<p>The denied transactions were classified as <strong>irreversible</strong> (never retry) and <strong>reversible</strong> (retry allowed).</p>

<p>Th card brands determine if they will charge a fee for retrying and how many retry attemps are allowed before applying charges. The merchants who do not follow the card brand rules will be penalized by charging fees for exceeded transactions.</p>

<blockquote>
  <p>The Merchant Advice Code (MAC) for Mastercard determines whether the transaction is reversible or not and which action the merchant can take to try to approve the transaction. Please refer to <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras#2.-merchant-advice-code-transaction-excellence-(mac)" target="_blank">Merchant Advice Code Transaction Excellence (MAC)</a> for further information.</p>
</blockquote>

<blockquote>
  <p>Please refer to <a href="https://developercielo.github.io/en/tutorial/programa-retentativa-bandeiras" target="_blank">Card Brands Retry Program manual</a> to see each card brand rules.</p>
</blockquote>

<h2 id="abecs-return-codes">ABECS Return codes</h2>

<p>The Brazilian Association of Credit Card and Services Companies (ABECS) establishes as of July 15, 2020, the standardization of the return codes for denied sales authorizations for both the in store and and e-commerce payment solutions of the Brazilian market.</p>

<blockquote>
  <p>Please refer to <a href="https://developercielo.github.io/en/tutorial/abecs-e-outros-codigos" target="_blank">ABECS Return Codes table</a> to get the complete list of return codes.</p>
</blockquote>

<h2 id="transactional-status">Transactional status</h2>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Status</th>
      <th>Means of payment</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td><strong>NotFinished</strong></td>
      <td>All</td>
      <td>Waiting for status update</td>
    </tr>
    <tr>
      <td>1</td>
      <td><strong>Authorized</strong></td>
      <td>All</td>
      <td>Payment apt to be captured or defined as paid</td>
    </tr>
    <tr>
      <td>2</td>
      <td><strong>PaymentConfirmed</strong></td>
      <td>All</td>
      <td>Confirmed and finalized payment</td>
    </tr>
    <tr>
      <td>3</td>
      <td><strong>Declined</strong></td>
      <td>Credit and debit cards and e-wallets</td>
      <td>Payment declined by Authorizer</td>
    </tr>
    <tr>
      <td>10</td>
      <td><strong>Voided</strong></td>
      <td>All, except boleto</td>
      <td>Canceled payment</td>
    </tr>
    <tr>
      <td>11</td>
      <td><strong>Refunded</strong></td>
      <td>Credit and debit cards and e-wallets</td>
      <td>Payment canceled after 11:59 pm on the authorization day</td>
    </tr>
    <tr>
      <td>12</td>
      <td><strong>Pending</strong></td>
      <td>Credit and debit cards, e-wallets and pix</td>
      <td>Waiting for financial institution status</td>
    </tr>
    <tr>
      <td>13</td>
      <td><strong>Aborted</strong></td>
      <td>All</td>
      <td>Payment canceled due to processing failure</td>
    </tr>
    <tr>
      <td>20</td>
      <td><strong>Scheduled</strong></td>
      <td>Credit cards and e-wallets</td>
      <td>Scheduled recurrence</td>
    </tr>
  </tbody>
</table>

<p>-</p>

<table>
  <thead>
    <tr>
      <th>Payment method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ALL</strong></td>
      <td>All</td>
    </tr>
    <tr>
      <td><strong>CC</strong></td>
      <td>Credit Card</td>
    </tr>
    <tr>
      <td><strong>CD</strong></td>
      <td>Debit Card</td>
    </tr>
    <tr>
      <td><strong>TF</strong></td>
      <td>Electronic Transfer</td>
    </tr>
    <tr>
      <td><strong>BOL</strong></td>
      <td>Bank slip</td>
    </tr>
  </tbody>
</table>

<h2 id="integration-errors">Integration errors</h2>

<blockquote>
  <p><strong>API Errors</strong> - These codes are responses to the <strong>content validation of the data sent at the time of the API request</strong>. <br />
If an error code is displayed, the requisition contains errors (such as size, conditions or registration errors, etc.) that prevent the creation of the transaction<br /></p>
</blockquote>

<p><strong>Example</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">126</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit Card Expiration Date is invalid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Code</code></td>
      <td>API error code. <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-error-codes">See the code list</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Message</code></td>
      <td>Error description. <a href="https://developercielo.github.io/en/manual/cielo-ecommerce#api-error-codes">See the code list</a></td>
    </tr>
  </tbody>
</table>

<h3 id="api-error-codes">API Error Codes</h3>

<p>Codes returned in case of error, identifying the reason for the error and its respective messages.</p>

<table>
  <thead>
    <tr>
      <th>ReturnCode</th>
      <th>ReturnMessage</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Internal error</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>100</td>
      <td>RequestId is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>101</td>
      <td>MerchantId is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>102</td>
      <td>Payment Type is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>103</td>
      <td>Payment Type can only contain letters</td>
      <td>Special characters not allowed</td>
    </tr>
    <tr>
      <td>104</td>
      <td>Customer Identity is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>105</td>
      <td>Customer Name is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>106</td>
      <td>Transaction ID is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>107</td>
      <td>OrderId is invalid or does not exists</td>
      <td>Sent field exceeds size or contains special characters</td>
    </tr>
    <tr>
      <td>108</td>
      <td>Amount must be greater or equal to zero</td>
      <td>Transaction value must be greater than “0”</td>
    </tr>
    <tr>
      <td>109</td>
      <td>Payment Currency is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>110</td>
      <td>Invalid Payment Currency</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>111</td>
      <td>Payment Country is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>112</td>
      <td>Invalid Payment Country</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>113</td>
      <td>Invalid Payment Code</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>114</td>
      <td>The provided MerchantId is not in correct format</td>
      <td>The sent MerchantId is not a GUID</td>
    </tr>
    <tr>
      <td>115</td>
      <td>The provided MerchantId was not found</td>
      <td>MerchantID does not exist or belongs to another environment (e.g. Sandbox)</td>
    </tr>
    <tr>
      <td>116</td>
      <td>The provided MerchantId is blocked</td>
      <td>Locked store, contact Cielo support</td>
    </tr>
    <tr>
      <td>117</td>
      <td>Credit Card Holder is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>118</td>
      <td>Credit Card Number is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>119</td>
      <td>At least one Payment is required</td>
      <td>“Payment” node not sent</td>
    </tr>
    <tr>
      <td>120</td>
      <td>Request IP not allowed. Check your IP White List</td>
      <td>IP blocked for security reasons</td>
    </tr>
    <tr>
      <td>121</td>
      <td>Customer is required</td>
      <td>“Customer” node not sent</td>
    </tr>
    <tr>
      <td>122</td>
      <td>MerchantOrderId is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>123</td>
      <td>Installments must be greater or equal to one</td>
      <td>Number of installments must be greater than 1</td>
    </tr>
    <tr>
      <td>124</td>
      <td>Credit Card is Required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>125</td>
      <td>Credit Card Expiration Date is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>126</td>
      <td>Credit Card Expiration Date is invalid</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>127</td>
      <td>You must provide CreditCard Number</td>
      <td>Credit card number is required</td>
    </tr>
    <tr>
      <td>128</td>
      <td>Card Number length exceeded</td>
      <td>Card number greater than 16 digits</td>
    </tr>
    <tr>
      <td>129</td>
      <td>Affiliation not found</td>
      <td>Payment means not linked to store or invalid Provider</td>
    </tr>
    <tr>
      <td>130</td>
      <td>Could not get Credit Card</td>
      <td>—</td>
    </tr>
    <tr>
      <td>131</td>
      <td>MerchantKey is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>132</td>
      <td>MerchantKey is invalid</td>
      <td>Sent Merchantkey is not a valid one</td>
    </tr>
    <tr>
      <td>133</td>
      <td>Provider is not supported for this Payment Type</td>
      <td>Sent Provider does not exist</td>
    </tr>
    <tr>
      <td>134</td>
      <td>FingerPrint length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>135</td>
      <td>MerchantDefinedFieldValue length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>136</td>
      <td>ItemDataName length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>137</td>
      <td>ItemDataSKU length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>138</td>
      <td>PassengerDataName length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>139</td>
      <td>PassengerDataStatus length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>140</td>
      <td>PassengerDataEmail length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>141</td>
      <td>PassengerDataPhone length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>142</td>
      <td>TravelDataRoute length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>143</td>
      <td>TravelDataJourneyType length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>144</td>
      <td>TravelLegDataDestination length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>145</td>
      <td>TravelLegDataOrigin length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>146</td>
      <td>SecurityCode length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>147</td>
      <td>Address Street length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>148</td>
      <td>Address Number length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>149</td>
      <td>Address Complement length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>150</td>
      <td>Address ZipCode length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>151</td>
      <td>Address City length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>152</td>
      <td>Address State length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>153</td>
      <td>Address Country length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>154</td>
      <td>Address District length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>155</td>
      <td>Customer Name length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>156</td>
      <td>Customer Identity length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>157</td>
      <td>Customer IdentityType length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>158</td>
      <td>Customer Email length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>159</td>
      <td>ExtraData Name length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>160</td>
      <td>ExtraData Value length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>161</td>
      <td>Boleto Instructions length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>162</td>
      <td>Boleto Demostrative length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>163</td>
      <td>Return Url is required</td>
      <td>Return URL is not valid - No pagination or extensions are accepted (e.g. .PHP) in the return URL</td>
    </tr>
    <tr>
      <td>166</td>
      <td>AuthorizeNow is required</td>
      <td>—</td>
    </tr>
    <tr>
      <td>167</td>
      <td>Antifraud not configured</td>
      <td>Antifraud not linked to the merchant’s registry</td>
    </tr>
    <tr>
      <td>168</td>
      <td>Recurrent Payment not found</td>
      <td>Recurrence not found</td>
    </tr>
    <tr>
      <td>169</td>
      <td>Recurrent Payment is not active</td>
      <td>Recurrence is not active. Paralyzed execution</td>
    </tr>
    <tr>
      <td>170</td>
      <td>Protected Card not configured</td>
      <td>Protected card not linked to merchant’s registry</td>
    </tr>
    <tr>
      <td>171</td>
      <td>Affiliation data not sent</td>
      <td>Order processing failed - Contact Cielo support</td>
    </tr>
    <tr>
      <td>172</td>
      <td>Credential Code is required</td>
      <td>Failed to validate the sent credentials</td>
    </tr>
    <tr>
      <td>173</td>
      <td>Payment method is not enabled</td>
      <td>Means of payment not linked to the merchant’s registry</td>
    </tr>
    <tr>
      <td>174</td>
      <td>Card Number is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>175</td>
      <td>EAN is required</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>176</td>
      <td>Payment Currency is not supported</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>177</td>
      <td>Card Number is invalid</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>178</td>
      <td>EAN is invalid</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>179</td>
      <td>The max number of installments allowed for recurring payment is 1</td>
      <td>Sent field is empty or invalid</td>
    </tr>
    <tr>
      <td>180</td>
      <td>The provided Card PaymentToken was not found</td>
      <td>Protected Card Token not found</td>
    </tr>
    <tr>
      <td>181</td>
      <td>The MerchantIdJustClick is not configured</td>
      <td>Protected Card Token locked</td>
    </tr>
    <tr>
      <td>182</td>
      <td>Brand is required</td>
      <td>Card issuer not sent</td>
    </tr>
    <tr>
      <td>183</td>
      <td>Invalid customer bithdate</td>
      <td>Invalid or future date of birth</td>
    </tr>
    <tr>
      <td>184</td>
      <td>Request could not be empty</td>
      <td>Failure of the request format. Check the sent code</td>
    </tr>
    <tr>
      <td>185</td>
      <td>Brand is not supported by selected provider</td>
      <td>Card issuer not supported by API Cielo</td>
    </tr>
    <tr>
      <td>186</td>
      <td>The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)</td>
      <td>Payment means does not support the sent command</td>
    </tr>
    <tr>
      <td>187</td>
      <td>ExtraData Collection contains one or more duplicated names</td>
      <td>—</td>
    </tr>
    <tr>
      <td>188</td>
      <td>Avs with CPF invalid</td>
      <td> </td>
    </tr>
    <tr>
      <td>189</td>
      <td>Avs with length of street exceeded</td>
      <td> </td>
    </tr>
    <tr>
      <td>190</td>
      <td>Avs with length of number exceeded</td>
      <td> </td>
    </tr>
    <tr>
      <td>191</td>
      <td>Avs with length of district exceeded</td>
      <td> </td>
    </tr>
    <tr>
      <td>192</td>
      <td>Avs with zip code invalid</td>
      <td> </td>
    </tr>
    <tr>
      <td>193</td>
      <td>Split Amount must be greater than zero</td>
      <td>Value for SPLIT realization must be greater than 0</td>
    </tr>
    <tr>
      <td>194</td>
      <td>Split Establishment is Required</td>
      <td>SPLIT not enabled for store registration</td>
    </tr>
    <tr>
      <td>195</td>
      <td>The PlataformId is required</td>
      <td>Platforms validated not sent</td>
    </tr>
    <tr>
      <td>196</td>
      <td>DeliveryAddress is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>197</td>
      <td>Street is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>198</td>
      <td>Number is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>199</td>
      <td>ZipCode is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>200</td>
      <td>City is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>201</td>
      <td>State is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>202</td>
      <td>District is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>203</td>
      <td>Cart item Name is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>204</td>
      <td>Cart item Quantity is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>205</td>
      <td>Cart item type is required</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>206</td>
      <td>Cart item name length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>207</td>
      <td>Cart item description length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>208</td>
      <td>Cart item sku length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>209</td>
      <td>Shipping addressee sku length exceeded</td>
      <td>Sent data exceeds field size</td>
    </tr>
    <tr>
      <td>210</td>
      <td>Shipping data cannot be null</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>211</td>
      <td>WalletKey is invalid</td>
      <td>Invalid Visa Checkout data</td>
    </tr>
    <tr>
      <td>212</td>
      <td>Merchant Wallet Configuration not found</td>
      <td>Sent Wallet data is not valid</td>
    </tr>
    <tr>
      <td>213</td>
      <td>Credit Card Number is invalid</td>
      <td>Sent credit card is invalid</td>
    </tr>
    <tr>
      <td>214</td>
      <td>Credit Card Holder Must Have Only Letters</td>
      <td>Card carrier must not contain special characters</td>
    </tr>
    <tr>
      <td>215</td>
      <td>Agency is required in Boleto Credential</td>
      <td>Required field not sent</td>
    </tr>
    <tr>
      <td>216</td>
      <td>Customer IP address is invalid</td>
      <td>IP blocked for security reasons</td>
    </tr>
    <tr>
      <td>300</td>
      <td>MerchantId was not found</td>
      <td>—</td>
    </tr>
    <tr>
      <td>301</td>
      <td>Request IP is not allowed</td>
      <td>—</td>
    </tr>
    <tr>
      <td>302</td>
      <td>Sent MerchantOrderId is duplicated</td>
      <td>—</td>
    </tr>
    <tr>
      <td>303</td>
      <td>Sent OrderId does not exist</td>
      <td>—</td>
    </tr>
    <tr>
      <td>304</td>
      <td>Customer Identity is required</td>
      <td>—</td>
    </tr>
    <tr>
      <td>306</td>
      <td>Merchant is blocked</td>
      <td>—</td>
    </tr>
    <tr>
      <td>307</td>
      <td>Transaction not found</td>
      <td>Transaction not found or does not exist in the environment.</td>
    </tr>
    <tr>
      <td>308</td>
      <td>Transaction not available to capture</td>
      <td>Transaction can not be captured - Contact Cielo support</td>
    </tr>
    <tr>
      <td>309</td>
      <td>Transaction not available to void</td>
      <td>Transaction can not be canceled - Contact Cielo support</td>
    </tr>
    <tr>
      <td>310</td>
      <td>Payment method doest not support this operation</td>
      <td>Sent command not supported by payment means</td>
    </tr>
    <tr>
      <td>311</td>
      <td>Refund is not enabled for this merchant</td>
      <td>Cancellation after 24 hours not released to the merchant</td>
    </tr>
    <tr>
      <td>312</td>
      <td>Transaction not available to refund</td>
      <td>Transaction does not allow cancellation after 24 hours</td>
    </tr>
    <tr>
      <td>313</td>
      <td>Recurrent Payment not found</td>
      <td>Recurrent transaction not found or not available in the environment</td>
    </tr>
    <tr>
      <td>314</td>
      <td>Invalid Integration</td>
      <td>—</td>
    </tr>
    <tr>
      <td>315</td>
      <td>Cannot change NextRecurrency with pending payment</td>
      <td>—</td>
    </tr>
    <tr>
      <td>316</td>
      <td>Cannot set NextRecurrency to past date</td>
      <td>It is not allowed to change the recurrence date to a past date</td>
    </tr>
    <tr>
      <td>317</td>
      <td>Invalid Recurrency Day</td>
      <td>—</td>
    </tr>
    <tr>
      <td>318</td>
      <td>No transaction found</td>
      <td>—</td>
    </tr>
    <tr>
      <td>319</td>
      <td>Smart recurrency is not enabled</td>
      <td>Recurrence not linked to the merchant’s registration</td>
    </tr>
    <tr>
      <td>320</td>
      <td>Can not Update Affiliation Because this Recurrency not Affiliation saved</td>
      <td>—</td>
    </tr>
    <tr>
      <td>321</td>
      <td>Can not set EndDate to before next recurrency.</td>
      <td>—</td>
    </tr>
    <tr>
      <td>322</td>
      <td>Zero Dollar Auth is not enabled</td>
      <td>Zero Dollar not linked to the merchant’s registration</td>
    </tr>
    <tr>
      <td>323</td>
      <td>Bin Query is not enabled</td>
      <td>Bins query not linked to the merchant’s registration</td>
    </tr>
  </tbody>
</table>

<h4 id="bp-errors">BP Errors</h4>

<p>BP error codes may be returned in <code class="language-plaintext highlighter-rouge">ReturnCode</code> parameter; when the API returns BP errors, the transaction status is “0” - <strong>Not finished</strong>.</p>

<table>
  <thead>
    <tr>
      <th>RESPONSE CODE</th>
      <th>DEFINITION</th>
      <th>DESCRIPTION</th>
      <th>ACTION</th>
      <th>RETRY ALLOWED?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>BP 171</td>
      <td>Rejected due to fraud risk (Velocity).</td>
      <td>It is related to Velocity rules.</td>
      <td>Try again after one hour.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>BP 900</td>
      <td>Operation fail.</td>
      <td>Operation fail (request submission process).</td>
      <td>Try again.</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>BP 901</td>
      <td>Operation fail</td>
      <td>Authorization fail.</td>
      <td>Try again.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>BP 902</td>
      <td>Wait for the response from previous operation.</td>
      <td>Capture fail.</td>
      <td>Try again.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>BP 903</td>
      <td>Cancellation fail.</td>
      <td>Cancellation fail.</td>
      <td>Try again.</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>BP 904</td>
      <td>Query fail.</td>
      <td>Query fail.</td>
      <td>Try again.</td>
      <td>Yes</td>
    </tr>
  </tbody>
</table>

<h3 id="reason-code-and-reason-message">Reason Code and Reason Message</h3>

<table>
  <thead>
    <tr>
      <th>Reason Code</th>
      <th>Reason Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Successful</td>
    </tr>
    <tr>
      <td>1</td>
      <td>AffiliationNotFound</td>
    </tr>
    <tr>
      <td>2</td>
      <td>IssuficientFunds</td>
    </tr>
    <tr>
      <td>3</td>
      <td>CouldNotGetCreditCard</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ConnectionWithAcquirerFailed</td>
    </tr>
    <tr>
      <td>5</td>
      <td>InvalidTransactionType</td>
    </tr>
    <tr>
      <td>6</td>
      <td>InvalidPaymentPlan</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Denied</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Scheduled</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Waiting</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Authenticated</td>
    </tr>
    <tr>
      <td>11</td>
      <td>NotAuthenticated</td>
    </tr>
    <tr>
      <td>12</td>
      <td>ProblemsWithCreditCard</td>
    </tr>
    <tr>
      <td>13</td>
      <td>CardCanceled</td>
    </tr>
    <tr>
      <td>14</td>
      <td>BlockedCreditCard</td>
    </tr>
    <tr>
      <td>15</td>
      <td>CardExpired</td>
    </tr>
    <tr>
      <td>16</td>
      <td>AbortedByFraud</td>
    </tr>
    <tr>
      <td>17</td>
      <td>CouldNotAntifraud</td>
    </tr>
    <tr>
      <td>18</td>
      <td>TryAgain</td>
    </tr>
    <tr>
      <td>19</td>
      <td>InvalidAmount</td>
    </tr>
    <tr>
      <td>20</td>
      <td>ProblemsWithIssuer</td>
    </tr>
    <tr>
      <td>21</td>
      <td>InvalidCardNumber</td>
    </tr>
    <tr>
      <td>22</td>
      <td>TimeOut</td>
    </tr>
    <tr>
      <td>23</td>
      <td>CartaoProtegidoIsNotEnabled</td>
    </tr>
    <tr>
      <td>24</td>
      <td>PaymentMethodIsNotEnabled</td>
    </tr>
    <tr>
      <td>98</td>
      <td>InvalidRequest</td>
    </tr>
    <tr>
      <td>99</td>
      <td>InternalError</td>
    </tr>
  </tbody>
</table>

<h3 id="error-messages-and-codes---pix">Error messages and codes - Pix</h3>

<table>
  <thead>
    <tr>
      <th>CODE</th>
      <th>EVENT</th>
      <th>MESSAGE</th>
      <th>DESCRIPTION/ACTION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>422</td>
      <td>Authorization</td>
      <td>Error on Merchant Integration</td>
      <td>Verify that the Pix is enabled in your registration</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Authorization</td>
      <td>Error on bki service integration for charge</td>
      <td>Pix Banks Transaction Error, contact E-commerce Support</td>
    </tr>
    <tr>
      <td>BP904</td>
      <td>Authorization</td>
      <td>The json entered is not valid</td>
      <td>Contact E-commerce Support to assess the reason.</td>
    </tr>
    <tr>
      <td>BP901</td>
      <td>Authorization</td>
      <td>Operation failed</td>
      <td>Redo the payment, if it persists, contact e-commerce support</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Cancellation</td>
      <td>Error on pix service integration for moneyback</td>
      <td>It is not possible to cancel the transaction, The return will only occur if there is a balance.</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Cancellation</td>
      <td>Merchant bank for moneyback is not Cielo</td>
      <td>Pix Banco transaction does not allow cancellation operations</td>
    </tr>
  </tbody>
</table>
</div>


            <div class="footer-conteudo">
  <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
    <img
      src="https://developercielo.github.io/en/assets/images/icon-doubt.svg"
      width="55px"
      height="53px"
      alt="Need Help?"
    />
  </div>

  <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
    <h2>Need Help?</h2>
    <p>If you didn't find your answer, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">send us a message</a>.</p>
  </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a
        title="Toggle left column"
        class="hamburger"
      >
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img
          src="https://developercielo.github.io/en/assets/images/logo.png"
          alt="Documentações e tutoriais"
          style="width: 60%; margin-left: 20%"
        />
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
      

      <div class="toc-contact">
        <div class="contact">
          <a
            title="Contact"
            href="https://devcielo.zendesk.com/"
          >
            <i class="fa fa-envelope-o" aria-hidden="true"></i>
            <span>Contact</span>
          </a>
        </div>
        <div class="github">
          <a title="GitHub" href="https://github.com/developercielo">
            <i class="fa fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


        <script src="https://developercielo.github.io/en/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/en/assets/bundles/js/search.min.js"></script>
        

        
        <script>
            let langs = '';
            let langsArray = [];

            
            langs += "<a data-language-name='json'>JSON</a>";
            langsArray.push('json');
            
            langs += "<a data-language-name='shell'>cURL</a>";
            langsArray.push('shell');
            

            var toggleCode = 'Toggle';
        </script>

        <script src='https://developercielo.github.io/en/assets/bundles/js/language_buttons.min.js'></script>
        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 674586, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

    </body>
</html>
