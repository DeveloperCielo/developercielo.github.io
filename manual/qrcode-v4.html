<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Manual de Integração - v4 &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500" rel="stylesheet" media="none" onload="if(media!='all')media='all'">
    <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

    <link rel="stylesheet" href="https://developercielo.github.io/assets/bundles/css/bundle.min.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://developercielo.github.io/manual/qrcode-v4" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://developercielo.github.io/en/manual/qrcode-v4" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://developercielo.github.io/atom.xml">
</head>

    <body>
        
        <div class="content-container no-dark-box">
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/qrcode-v4">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/qrcode-v4">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/manual/qrcode-v4">Manual de Integração - v4</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="ambientes">Ambientes</h1>

<h2 id="homologação">Homologação</h2>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>Endereço</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox</td>
      <td>Deve ser utilizado como o ambiente de desenvolvimento/testes de parceiro.</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox/v2/oauth/token</td>
      <td>(formato url encoded)</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox/v2/oauth/access-token</td>
      <td>(formato json)</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox/padraoq/v1/publicKey</td>
      <td>chave pública da criptografia</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox/padraoq/v1/parsedQRCode</td>
      <td>Uso opcional</td>
    </tr>
    <tr>
      <td>Homologação</td>
      <td>api2.cielo.com.br/sandbox/padraoq/v1/payment/card</td>
      <td>Recurso para efetuar o pagamento</td>
    </tr>
  </tbody>
</table>

<h2 id="produção">Produção</h2>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>Endereço</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br</td>
      <td>Deve-se utilizar quando portar as credenciais de produção e um bom nível de maturidade com o ambiente de homologação.</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br/v2/oauth/token</td>
      <td>(formato url encoded)</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br/v2/oauth/access-token</td>
      <td>(formato json)</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br/padraoq/v1/publicKey</td>
      <td>chave pública da criptografia</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br/padraoq/v1/parsedQRCode</td>
      <td>Uso opcional</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>api2.cielo.com.br/padraoq/v1/payment/card</td>
      <td>Recurso para efetuar o pagamento</td>
    </tr>
  </tbody>
</table>

<h1 id="requerimentos-para-acesso">Requerimentos para acesso</h1>

<p>Para a utilização de nossas APIs precisamos receber as seguintes informações, para a criação do cliente id e Authorization.</p>

<ul>
  <li>Nome</li>
  <li>E-mail</li>
  <li>Função</li>
  <li>Quem será o responsável pela integração (Responsável Técnico) para cadastro no API Suite?</li>
</ul>

<p><strong>Informações que enviaremos</strong>:</p>

<p>Após o envio das informações acima, enviaremos ao responsável o client_id (chave que identifica a APP) e o client_secret.</p>

<p>Qualquer dúvida, abra um ticket via <a href="https://devcielo.zendesk.com/hc/pt-br/requests/new?ticket_form_id=360000330511">Zendesk</a></p>

<h1 id="autenticação">Autenticação</h1>

<h2 id="fluxo-de-geração-do-access-token-via-format-json">Fluxo de geração do Access Token (via format JSON)</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxogramaaccesstoken.png" alt="Fluxo de Integração QR Code" /></p>

<p>O recurso <strong>access_token</strong> é responsável pela autenticação utilizando protocolo OAuth 2.0. Com o client_id e client_secret em mãos a requisição ao <strong>POST /access_token</strong> deve ser feita portando o <strong>authorization</strong> no <strong>Header</strong> e o <strong>grant_type</strong> no corpo da requisição, segue exemplo abaixo.</p>

<p><strong>Nota: O valor do authorization deve ser composto da palavra Basic com o Base64 gerado a partir da concatenação do client_id:client_secret</strong></p>

<h3 id="contrato">Contrato</h3>

<blockquote>
  <p><strong>POST</strong> /v2/oauth/access-token (formato json)</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic + Base64</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application-json</td>
      </tr>
    </tbody>
  </table>

  <p><strong>Body</strong></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"grant_type": "client_credentials"
}
</code></pre></div>  </div>
</blockquote>

<h4 id="exemplo-de-requisição">Exemplo de Requisição</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl --location --request POST 'https://api2.cielo.com.br/v2/oauth/access-token' \
--header 'Authorization: Basic
dERxQUs000FoSDg5dFdpUWM1ejY0REJKc2lJTFpLbzh4TG0zV0p3eHkwRkQ0Y2dZVm46ZVZUVVZJZjFZWDJkOU40M0p4MVZwNGlWVXEzTzluTTR0TGF1UzhZYWo0V1JPcTJFSXU=' \
--header 'Content-Type: application/json' \
--data-raw '{
 "grant_type": "client_credentials",
"scopes": "qrcode_write,qrcode_read"
}

</code></pre></div></div>

<h4 id="exemplo-de-resposta">Exemplo de Resposta</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "access_token": "5eb50e6b-2bfc-3a44-b9ba-b9ba75256e7e",
  "token_type": "bearer",
  "expires_in": 86400
}
</code></pre></div></div>

<h2 id="fluxo-de-geração-do-access-token-via-format-x-www-form-urlencoded">Fluxo de geração do Access Token (via format x-www-form-urlencoded)</h2>

<blockquote>
  <p><strong>POST</strong> /v2/oauth/token (formato url encoded)</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Basic + Base64</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application-json</td>
      </tr>
    </tbody>
  </table>

  <p><strong>Body</strong></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"grant_type": "client_credentials"
}
</code></pre></div>  </div>
</blockquote>

<h4 id="exemplo-de-requisição-1">Exemplo de Requisição</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl --location --request POST 'https://api2.cielo.com.br/sandbox/v2/oauth/token' \
--header 'Authorization: Basic
dERxQUs0anFoSDg5dFdpUWM1ejY0REJKc2lJTFpLbzh4TG0zV0p3eHkwRkQ0Y2dZVm46
ZVZUVVZJZjFZWDJkOU40M0p4MVZwNGlWVXEzTzluTTR0TGF1UzhZYWo0V1JPcTJFSXU
=' \
--header 'Content-Type: application/json' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'grant_type=client_credentials' \
--data-urlencode 'scopes=qrcode_write,qrcode_read'
</code></pre></div></div>

<h4 id="exemplo-de-resposta-1">Exemplo de Resposta</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
"access_token": "8d9529bd-3dcf-3130-82ea-d28712f96de2",
"token_type": "bearer",
"expires_in": 86400
}
</code></pre></div></div>

<h1 id="códigos-de-retorno-da-api">Códigos de retorno da API</h1>

<p><strong>SUCESSO</strong></p>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Nome</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>200</td>
        <td>Ok</td>
        <td>A solicitação foi bem sucedida para uma chamada da API, seja GET OU POST .</td>
      </tr>
      <tr>
        <td>201</td>
        <td>Created</td>
        <td>A solicitação de criação foi bem sucedida para uma chamada da API do tipo POST</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<p><strong>EXCEÇÕES</strong></p>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Nome</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>400</td>
        <td>Bad Request.</td>
        <td>* A requisição não é valida. Uma ou mais condições dos campos do request não foram atendidas<br />Lista das condições não atendidas</td>
      </tr>
      <tr>
        <td>401</td>
        <td>Unauthorized</td>
        <td>Falha na Autenticação do consumidor da API</td>
      </tr>
      <tr>
        <td>403</td>
        <td>Forbbiden</td>
        <td>Consumidor da API não possui acesso a determinados recursos</td>
      </tr>
      <tr>
        <td>409</td>
        <td>Conflict</td>
        <td>Reenvio da solicitação com informações divergentes. (Ex: Solicitação de pagamentos com CPF distintos)</td>
      </tr>
      <tr>
        <td>412</td>
        <td>Precondition Failed</td>
        <td>001: Chave expirada<br />002: QRCode dinâmico esperado</td>
      </tr>
      <tr>
        <td>422</td>
        <td>Unprocessable Entity</td>
        <td>A requisição é valida, porém não foi possivel realizar o processamento.</td>
      </tr>
      <tr>
        <td>500</td>
        <td>Internal Server Error</td>
        <td>Erro interno da aplicação. Normalmente provinientes de infraestrutura</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="geração-da-chave-pública">Geração da chave pública</h1>

<p>O parceiro precisa chamar a API/publicKey para obter a chave pública necessária para o envio  dos dados do cartão de forma criptografada.</p>

<h2 id="contrato-1">Contrato</h2>

<blockquote>
  <p><strong>GET</strong> /padraoq/v1/publicKey</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (gerado pela API de Access Token)</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="exemplo-de-requisição-2">Exemplo de Requisição</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request GET 'https://api2.cielo.com.br/sandbox/padraoq/v1/publicKey' \
--header 'Authorization: Bearer 83247803-585d-379d-8ea4-19dfcf4c3f75'

</code></pre></div></div>

<h3 id="exemplo-de-resposta-2">Exemplo de Resposta</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
    "public_key": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmH7eS0n6yQSylMDZnY3c/mbDUUEJfyslrilslJKpDRG3m2YaCZdtwo5LahEUWshhBc8jckRkCyqDVVfBJ7WQN1Z1hN0ifCK8mfnh/2SAYGc4e8qydcWT64AVQo+Kay201cRuHeCt1Iyuhi5tOxTF2satd40+8eMkqiVJdhJ0Sjc1ZRezFSo96XReiT8eYz/4Rhubq1BPISlNXqqls3NuPMCxY6IFOLmjTi3xEIdcYtUT5MCfXBG4Rz6rMNrQ7JRAfEOIdvcAt++ygV9ilUxtETn+OKKNDcEUKzXM3Taop8vFXD8HWKzfmlA/usxeKxiI6eTrcWCmrVMQ2Yvf4RSU4wIDAQAB",
    "key_id": "1b59934a-7eaa-4f90-a391-585de0ffc550",
    "expires_in": 35853
}

</code></pre></div></div>

<h2 id="criptografia">Criptografia</h2>

<p>Exemplo do código Java para encriptrar o cartão através da chave pública:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.security.PublicKey;
import java.util.Base64;
import javax.crypto.Cipher;
public class EncriptCard {
    public String encript(PublicKey key, String cardNumber) {
        try {
            Cipher cipher = Cipher.getInstance("RSA");
            cipher.init(Cipher.ENCRYPT_MODE, key);
            byte[] encryptedBytes =
                cipher.doFinal(cardNumber.getBytes());
            String encryptedCard =
                Base64.getEncoder().encodeToString(encryptedBytes);
            return encryptedCard;
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }
}
</code></pre></div></div>

<h1 id="fluxo-de-pagamento">Fluxo de pagamento</h1>

<p>O recurso <strong>POST /payment/card</strong> é responsável por efetuar o pagamento com base nos dados contidos no payload da requisição. No header da requisição é necessário informar o <strong>Authorization</strong>. 
O corpo da requisição é composto por dados provenientes do aplicativo e do QR Code.</p>

<blockquote>
  <p>Observação: é possível gerar cartões para teste através da ferramenta (https://namso-gen.com/), para isso é necessário apenas informar os 6 primeiros dígitos de um cartão válido. Através da ferramenta (https://8gwifi.org/RSAFunctionality?keysize=2048), é possível simular a criptografia do <code class="language-plaintext highlighter-rouge">"card_data"</code> feita utilizando o retorno obtido do  <strong>GET /publicKeys</strong>.</p>
</blockquote>

<h2 id="contrato-2">Contrato</h2>

<blockquote>
  <p><strong>POST</strong> /v1/payment/card</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (gerado pela API de Access Token)</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application/json</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
   "key_id":"string",
   "card_data":"string",
   "payee_document":"string",
   "payee_name":"string",
   "authorization_token":"string",
   "qrcode":"string"
}
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">key_id</code></td>
      <td>Identificador da chave de criptografia utilizada para criptografar o cartão. Retornado pelo recurso GET /publicKey</td>
      <td>String</td>
      <td>Sim</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">card_data</code></td>
      <td>Dados do cartão criptografado pela chave publica, <a href="">Veja layout</a></td>
      <td>String</td>
      <td>Sim</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payee_document</code></td>
      <td>CPF ou CNPJ do pagador (usuário logado na wallet)</td>
      <td>String</td>
      <td>Sim</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payee_name</code></td>
      <td>Nome do pagador (usuário logado na wallet)</td>
      <td>String</td>
      <td>Sim</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">authorization_token</code></td>
      <td>Token de autorização do usuário gerada pelo emissor (suporte ao pagamento no débito) * para uso futuro</td>
      <td>String</td>
      <td>Sim</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">qrcode</code></td>
      <td>String do QR Code capturado pela wallet</td>
      <td>String</td>
      <td> </td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="exemplo-de-requisição-3">Exemplo de Requisição</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
curl --location --request POST 'https://api2.cielo.com.br/sandbox/padraoq/v1/payment/card' \
--header 'Authorization: Bearer 83247803-585d-379d-8ea4-19dfcf4c3f75' \
--header 'Content-Type: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
    "key_id": "001",
    "card_data": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmeiLngFr9h0npwe6D3ArSi10ZgdOCUCsUYT12KMuYsxImzwe9aGX8XXvzEF60E600ZjdvmYU64UnZKgfbttwNi+Tl7ZcB2cnS/oJMrfA0AbRHukJnL/fFsziHOjv0A1xRcE0ZbJRkob5A5s4GenF+jv/xCTOoIetFimZHZDiPPFux2NyrL3ZqSs7F4XJZvo2zPfCVlAcnEbVf+8vWX3goP2TEuAqZtBT543wIDAQAB+dqSzZSqZolYU1sjV7s8FzsjZYqo+AjM8BMuPlMoPEuBqgRFm4fSRIpeJIr0G9FokSU3X6MAZTC7n3YePHFsFmGxPTrKpEFrp8s28f1qMP5suTsA”,,
    "payee_document": "25617535811",
    "payee_name": ""Alexandre Marcelino",
    "authorization_token": null,
    "qr_code": ""00020101021226580014br.com.padraoq01160010000244470001020862000092030400015204030053039865406123.995802BR5909POSTO_ABC6010Barueri_SP62200516100023071641629281600014br.com.padaoq0112230120171643020400040302020402010502038204010063
041213""
}'

</code></pre></div></div>

<h3 id="exemplo-de-resposta-3">Exemplo de Resposta</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
  "reference_label": "230120171643",
  "merchant_id": "0020060049139200",
  "terminal_id": "62000092",
  "authorization_code": "031581",
  "authentication_code": "null",
  "host_nsu": "730025",
  "terminal_nsu": "730025",
  "timestamp": "160620143832",
  "card_scheme": "Master"
}

</code></pre></div></div>

<h2 id="layout---card-data">Layout - Card Data</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/layout_carddata_qrcode.jpg" alt="Layout Card Data" /></p>

<blockquote>
  <p><strong>Observação</strong>: Encriptar todas as informações da tag “cardData” inclusive com as aspas “ { } “.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
   "card_number":"4984XXXXXX4106",
   "card_cvv":"123",
   "card_holder_name":"Teste",
   "card_expiration_date":"0127"
}
</code></pre></div></div>

<h3 id="códigos-de-sucesso-payment">Códigos de sucesso Payment</h3>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Code</th>
        <th>Nome</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>200</td>
        <td>Ok</td>
        <td>A solicitação foi bem sucedida para uma chamada da API, seja GET OU POST .</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h3 id="códigos-de-erro-payment">Códigos de erro Payment</h3>

<blockquote>
  <table>
    <thead>
      <tr>
        <th>Error</th>
        <th>Code</th>
        <th>Error</th>
        <th>Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>422</td>
        <td>001</td>
        <td>O produto não foi encontrado</td>
        <td>Erro de negócio referente a problemas com o produto informado</td>
      </tr>
      <tr>
        <td>422</td>
        <td>002</td>
        <td>QRCode Inválido</td>
        <td>Erro de negócio referente a problemas nos dados do QRCode enviado</td>
      </tr>
      <tr>
        <td>422</td>
        <td>003</td>
        <td>QRCode espirado</td>
        <td>Erro de negócio referente a expiração do tempo de validade do QRCode</td>
      </tr>
      <tr>
        <td>422</td>
        <td>004</td>
        <td>Dados de cartão invalido</td>
        <td>Erro de negócio referente a problemas nos dados do cartão informado</td>
      </tr>
      <tr>
        <td>422</td>
        <td>005</td>
        <td>Não aceitamos pagamentos com o cartão cadastrado</td>
        <td>Erro de negócio referente a aceitação do cartão cadastrado</td>
      </tr>
      <tr>
        <td>422</td>
        <td>006</td>
        <td>Erro no autorizador/emissor</td>
        <td>Erro de negócio retornado do autorizador ou emissor</td>
      </tr>
      <tr>
        <td>422</td>
        <td>007</td>
        <td>Erro genérico</td>
        <td>Outros erros de negócio</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<h1 id="api-para-realizar-parse-do-qr-code-uso-opcional">API para realizar parse do QR Code (uso opcional)</h1>

<h2 id="contrato-3">Contrato</h2>

<blockquote>
  <p><strong>GET</strong> /padraoq/v1/parsedQRCode</p>

  <p><strong>Headers</strong></p>

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Authorization</strong></td>
        <td>Bearer = access_token  (gerado pela API de Access Token)</td>
      </tr>
      <tr>
        <td><strong>Content-Type</strong></td>
        <td>application/json</td>
      </tr>
    </tbody>
  </table>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Parameter: 

qrcode:"00020101021226580014br.com.padraoq011600100002444700010208620000920304000152040
30053039865406123.995802BR5909POSTO_ABC6010Barueri_SP622005161000230716416292816000
14br.com.padraoq0112230120171643020400040302020402010502038204010063041213"

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
body: 

&lt;body vazio&gt;

</code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{
   "qrcode_data":{
      "payload_format_indicator":"01",
      "point_of_initiation_method":"12",
      "merchant_account_information":{
         "gui":"br.com.padraoq",
         "id_merchant":"1234567890123456",
         "id_terminal":"12345678",
         "id_credenciador":"1234",
         "instituicao":"12345678",
         "tipo_de_conta":"1234",
         "agencia":"12345678",
         "conta":"12345678901234567890"
      },
      "merchant_category_code":"0000",
      "transaction_currency":"986",
      "transaction_amount":"01.00",
      "country_code":"BR",
      "merchant_name":"Q Café",
      "merchant_city":"Brasilia",
      "additional_data_field":{
         "reference_label":"reference label"
      },
      "crc16":"AC05",
      "unreserved_templates":{
         "gui":"br.gov.bcb.spi",
         "url_uri":"https://br.gov.bcb.spi/"
      },
      "payment_information":{
         "gui":"br.com.padraoq",
         "timestamp":"010220120001",
         "modalidade":"0400",
         "parcelas":"01",
         "tipo_de_transacao":"01",
         "fonte_de_dados_do_pagamento":"03",
         "campo_livre":"1234567890"
      }
   }
}
</code></pre></div></div>

<h1 id="qr-codetm-layout-gerado-pelo-pos-modelo-novo-br-code-elo">QR CODETM LAYOUT GERADO PELO POS (MODELO NOVO BR CODE +ELO)</h1>

<p>Os dados usados para gerar o QRCode para leitura na carteira digital deve seguir como base a especificação “EMVCo-Merchant-Presented-QR-Specification-v1” utilizando os dados abaixo:</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>N</td>
      <td>Numérico – Valores representados por dígitos de “0” a “9”</td>
    </tr>
    <tr>
      <td>ANS</td>
      <td>Alfanumerico especial – Valores alfanuméricos especiais contem (96) caracteres no total, incluindo números e pontuação.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome do Campo</th>
      <th>Tam</th>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Payload Format Indicator</td>
      <td>02</td>
      <td>N</td>
      <td>Versão dos dados do QR Code utilizadana geração do código. Fixo “01”.</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Point of Initiation Method</td>
      <td>02</td>
      <td>N</td>
      <td>Identificador do método QR Code gerado: Fixo “12” – QR Code Dinâmico.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>Merchant Account Information</td>
      <td>Até 76</td>
      <td>ANS</td>
      <td>Informações do Estabelecimento</td>
    </tr>
    <tr>
      <td>26</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>01 - Merchant Account Information</td>
      <td>16</td>
      <td>N</td>
      <td>Numero do Estabelecimento Comercial.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>02 - Logic Number</td>
      <td>08</td>
      <td>N</td>
      <td>Número Logico do terminal.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>03 - ID Credenciador</td>
      <td>04</td>
      <td>N</td>
      <td>Identificação do credenciador. Fixo “0001”.</td>
    </tr>
    <tr>
      <td>26</td>
      <td>04 - CPF/CNPJ</td>
      <td>Até 14</td>
      <td>N</td>
      <td>Número do CPF ou CNPF do EC.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>ELO - Merchant Account Information</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td>Informações do Estabelecimento<br />OBS: Apesar de serem dados específicosda ELO, estem devem estar presentes emtodo as as transações de QRCode “BR Code V3 Aliança + Elo”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>00 - Globally Unique Identifier</td>
      <td>10</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “BR.COM.ELO”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>01 - Acquirer ID</td>
      <td>04 até 07</td>
      <td>ANS</td>
      <td>Código do Credenciador atribuído pela Elo. <br />No caso da Cielo utilizar o valor fixo “8384”.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>02 - Merchan Identification Number</td>
      <td>15</td>
      <td>N</td>
      <td>Número do Estabelecimento Comercial:utilizar apenas os 15 ultimos dígitos.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>03 - Terminal ID</td>
      <td>08</td>
      <td>ANS</td>
      <td>Número Lógico do terminal.</td>
    </tr>
    <tr>
      <td>27</td>
      <td>04 - Terminal Device Type</td>
      <td>01</td>
      <td>ANS</td>
      <td>Tipo de device/ambiente exibindo o QR Code:<br />“A” – ATM<br />“C” – Celular (Mobile)<br />“E” – E-commerce<br />“M” – POS Mobile<br />“P” – POS padrão<br />“T” – TEF<br /></td>
    </tr>
    <tr>
      <td>52</td>
      <td>Merchant Category Code</td>
      <td>04</td>
      <td>N</td>
      <td>Ramo de atividade do Estabelecimento (MCC).</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transaction Currency</td>
      <td>03</td>
      <td>N</td>
      <td>Código de origem da Moeda.</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transaction Amount</td>
      <td>Até 13</td>
      <td>ANS</td>
      <td>Valor da transação. Ex: “123.99”</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Country Code</td>
      <td>02</td>
      <td>ANS</td>
      <td>Código do país: Fixo “BR”.</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Merchant Name</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Nome Fantasia do Estabelecimento.</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Merchant City</td>
      <td>Até 15</td>
      <td>ANS</td>
      <td>Cidade do Estabelecimento.</td>
    </tr>
    <tr>
      <td>61</td>
      <td>Código Postal</td>
      <td>08</td>
      <td>N</td>
      <td>CEP da localidade do terminal retirado do Bit 63 subcampo 25 da inicialização. Para o formato de CEP brasileiro, utilizar 8 dígitos, sem hífen.</td>
    </tr>
    <tr>
      <td>62</td>
      <td>Additional Data Field</td>
      <td>Até 29</td>
      <td>ANS</td>
      <td>Campo de dados Adicionais</td>
    </tr>
    <tr>
      <td>62</td>
      <td>05 - Reference Label</td>
      <td>Até 25</td>
      <td>ANS</td>
      <td>Identificação do QR Code. Código único da transação, extraído BIT 31.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>Transaction informations</td>
      <td>Até 99</td>
      <td>ANS</td>
      <td><strong>Informações da transação</strong></td>
    </tr>
    <tr>
      <td>81</td>
      <td>00 - Globally Unique Identifier</td>
      <td>14</td>
      <td>ANS</td>
      <td>Identificador global: usar fixo “br.com.padraoq”.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>01 - Transaction Date</td>
      <td>12</td>
      <td>N</td>
      <td>Data e hora da transação (DDMMAAHHmmss).</td>
    </tr>
    <tr>
      <td>81</td>
      <td>02 - Modalidade</td>
      <td>04</td>
      <td>H</td>
      <td>Códigos fixos em hexa para os fluxos de produto Matriz e produto Secundário:<br />Débito à Vista (Fluxo 08): 0001Crédito à Vista (Fluxo 04): 0002<br />Crédito parcelado Loja (Fluxo 06): 0004<br />Crédito parcelado ADM (Fluxo 05): 0008<br />Voucher (Fluxo 13): 0010<br />Frotas (Fluxo 32): 0020<br />Pré-Autorização (Fluxo 07): 0040<br />Crediário Simulação (Fluxo 11): 0200<br />Crediário Contratação (Fluxo 43): 0400<br />Outro: 0000</td>
    </tr>
    <tr>
      <td>81</td>
      <td>03 - Payment Installments</td>
      <td>02</td>
      <td>N</td>
      <td>Número de parcelas.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>04 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Venda;<br />“02” – Cancelamento.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>05 - Fonte de Dados do Pagamento</td>
      <td>02</td>
      <td>N</td>
      <td>Fixo:“03” – QR Code</td>
    </tr>
    <tr>
      <td>81</td>
      <td>06 - NSU da Transação Original</td>
      <td>Até 12</td>
      <td>N</td>
      <td>NSU da transação atual.</td>
    </tr>
    <tr>
      <td>81</td>
      <td>50 - RUF</td>
      <td>Até 19</td>
      <td>ANS</td>
      <td>RUF</td>
    </tr>
    <tr>
      <td>82</td>
      <td>Unreserved Templates – Elo Transaction Detail</td>
      <td>56 até 88</td>
      <td>ANS</td>
      <td>ELO - Informações da transação<br />OBS: Apesar de serem dados específicosda ELO, estem devem estar presentes em todoas as transações de QRCode “BR Code V3 Aliança + Elo”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>00 - Globally Unique Identifier</td>
      <td>10</td>
      <td>ANS</td>
      <td>Identificador global QR code compartilhado: valor fixo igual a “BR.COM.ELO”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>01 - Transaction Date</td>
      <td>10</td>
      <td>N</td>
      <td>Data e hora da transação(MMDDHHmmss).</td>
    </tr>
    <tr>
      <td>82</td>
      <td>02 - Product Type &amp; Installments</td>
      <td>03</td>
      <td>ANS</td>
      <td>Posição [1]<br />Produto da transação:<br />“C” – Crédito – Fluxos: 04, 06, 05, 11 e 43<br />“D” – Débito – Fluxo: 08<br />“V” – Voucher – Fluxo: 13 e 32<br />“O” – Outros – Outros fluxos não previstos.<br />Posição [2,3]<br />Quantidade de parcelas. Para transações à vista campo deve ser enviado com o valor igual a “00”.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>03 - Transaction Type</td>
      <td>02</td>
      <td>N</td>
      <td>Tipo da transação:<br />“01” – Compra<br />“02” – Cancelamento<br />“03” – Compra com Saque<br />“04” – Saque</td>
    </tr>
    <tr>
      <td>82</td>
      <td>04 - Transaction ID</td>
      <td>06</td>
      <td>N</td>
      <td>NSU da transação atual.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>05-  Original Transaction ID</td>
      <td>06</td>
      <td>N</td>
      <td>Identificador único da Transação original que será cancelada (campo Transaction ID do QR Code usado na transação original).<br />Deve ser apresentado no QR Code usado para iniciar transações de cancelamento.<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>06 - Original Transaction Date</td>
      <td>04</td>
      <td>N</td>
      <td>Data da transação original, que será cancelada, no formato MMDD.<br />Deve ser enviado para transações de cancelamento<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>07 - Original Transaction Terminal ID</td>
      <td>08</td>
      <td>ANS</td>
      <td>Número Lógico do terminal.<br />Identificação do terminal do estabelecimento comercial utilizado na transação original.<br />Deve ser enviado para transações de cancelamento.<br />OBS: Somente incluir este campo se for uma transação de cancelamento.</td>
    </tr>
    <tr>
      <td>82</td>
      <td>08 - Elo QR Code Version</td>
      <td>Até 03</td>
      <td>N</td>
      <td>Identificação da versão do QR Code Elo utilizado na transação.Para este documento em questão, utilizar o valor igual a “3”.</td>
    </tr>
  </tbody>
</table>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://developercielo.github.io/assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img src="https://developercielo.github.io/assets/images/logo.png" alt="Documentações e tutoriais" style="width: 60%; margin-left: 20%">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="#">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/developercielo">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:674586,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
