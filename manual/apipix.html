<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        API PIX &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500" rel="stylesheet" media="none" onload="if(media!='all')media='all'">
    <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

    <link rel="stylesheet" href="https://developercielo.github.io/assets/bundles/css/bundle.min.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://developercielo.github.io/manual/apipix" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://developercielo.github.io/en/manual/apipix" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://developercielo.github.io/atom.xml">
</head>

    <body>
        
        <div class="content-container no-dark-box">
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/apipix">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/apipix">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/manual/apipix">API PIX</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="introdução">Introdução</h1>

<p>Desenvolvimento da API Pix (Application Programming Interface) pela Cielo na qualidade de detentora de contatransacional e participante direto do Pix, considerando os padrões definidos pelo Banco Central no regulamento do Pix e demais documentos correlatos.</p>

<p>A API Pix contempla as funcionalidades necessárias para viabilizar o recebimento de cobranças em casos de negócio focados em pagamentos imediatos, a exemplo de pontos de venda em lojas físicas e de soluções para comércio eletrônico.</p>

<p>A responsabilidade da API Cielo é gerar um QR Code para pagamentos via Pix, seguindo os padrões de segurança exigidos pelo Banco Central e identificando algumas informações durante a transação: data e a hora da transação, nome da pessoa que está realizando a transação, assim como o nome do recebedor e o valor envolvido.</p>

<h2 id="público-principal">Público principal</h2>

<p>Clientes que possuem soluções de captura TEF, LIO Integrada e E-commerce.</p>

<ul>
  <li><strong>TEF</strong> (Transferência Eletrônica de Fundos): As soluções TEF integram a automação comercial do estabelecimento com o sistema Cielo, possibilitando a realização de vendas com cartões por meio de leitoras de tarja magnética e leitoras de chip.</li>
  <li><strong>Lio Integrada:</strong> é uma plataforma aberta que possibilita a integração de todos os seus sistemas de gestão de loja. Para quem já possui um sistema de gestão completo, possibilita uma integração muito mais simples e rápida.Para quem não trabalha com um sistema de gestão, Cielo LIO entrega relatórios de pagamentos, catálogo deprodutos, leitor de código de barras, entre outros benefícios exclusivos.</li>
  <li><strong>E-commerce:</strong> transferência de informação através da internet para pagamento online, com centenas derecursos. Uma solução digital mais completa.Seu negócio sempre disponível, Blindagem antifraude, mais conversão, Simples, modular e flexível, Data intelligence.</li>
</ul>

<p><strong>A API Pix contempla as funcionalidades necessárias para viabilizar:</strong></p>

<p>O recebimento de cobranças em casos de negócio focados em pagamentos imediatos, a exemplo de pontos de venda em lojas físicas e de soluções para comércio eletrônico;</p>

<h1 id="estamos-disponibilizando-as-apis">Estamos disponibilizando as APIs</h1>

<ul>
  <li>
    <p><strong>1. API Cobrança:</strong> Disponível para a geração de QR Code pelo usuário recebedor, para ser utilizado uma única vez, iniciando o pagamento instantâneo.Nesse momento vamos disponibilizar o QR Code dinâmico com pagamento imediato.Prazo para expirar o qrcode (60min).</p>
  </li>
  <li>
    <p><strong>2. API Conciliação:</strong> Disponível para geração de relatórios (Opcional para o cliente).</p>
  </li>
  <li>
    <p><strong>3. API Devolução:</strong> Disponível para efetuar a devolução das transações.Sempre individual, identificando a transação a ser devolvida.Representa uma solicitação de devolução de um Pix realizado, cujos fundos já se encontrem disponíveis na conta transacional do usuário recebedor.</p>
  </li>
</ul>

<p><strong>A API Cielo-Pix-v1 funciona da seguinte forma:</strong> O software de automação/Front-end utilizado pelo usuário recebedor (EC) acessará a API Cielo-Pix-v1 e, com os
dados recebidos como resposta da API, apresentará um QR Code Dinâmico em algum dispositivo para que o usuário pagador faça a leitura do QR Code por meio de seu dispositivo móvel para efetivar o pagamento.</p>

<h1 id="contexto-da-api-pix">Contexto da API Pix</h1>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxopix.png" alt="Fluxo PIX" /></p>

<p>A API Pix é o componente do arranjo que visa possibilitar que o usuário pagador ou recebedor, no contexto P2B64 ou B2B65, possa automatizar a interação com seu prestador de serviços de pagamento (PSP), a fim de realizar ou receber transações no âmbito do arranjo Pix.</p>

<p>Nesse contexto, a presente versão da API Pix busca automatizar a interação do usuário recebedor com seu prestador de serviços de pagamento (PSP), a fim de gerar cobranças e confirmar o recebimento do pagamento dessas cobranças por meio do Pix.</p>

<p>Na <strong>figura acima</strong>, pode-se visualizar possíveis caminhos de integração dos sistemas do usuário recebedor com a API
Pix do PSP.</p>

<p>O usuário recebedor poderá, via API Pix:</p>

<ul>
  <li><strong>i.</strong> Gerar cobranças que poderão ser pagas via QR Code pelos seus clientes;</li>
  <li><strong>ii.</strong> Alterar dados da cobrança;</li>
  <li><strong>iii.</strong> Verificar a liquidação da cobrança por meio de Pix recebidos;</li>
  <li><strong>iv.</strong> Realizar a conciliação dos pagamentos de maneira facilitada;</li>
  <li><strong>v.</strong> Suportar o processo de devolução de valores, que pode ser acionado em função, por exemplo, da devolução de uma compra.</li>
</ul>

<p>A seguir são detalhados os aspectos gerais que dizem respeito à API Pix.</p>

<h1 id="conceitos-gerais">Conceitos gerais</h1>

<p>Para os fins deste documento, as expressões e os termos relacionados são assim definidos:</p>

<ul>
  <li><strong>I - client_ID:</strong> componente de acesso a API Pix que identifica um elemento de software cliente do usuário. Para acessar a API, é necessário utilizar, por exemplo, o Client_ID e um segredo, ambos fornecidos pelo PSP do usuário no processo de cadastramento. Pode existir mais de um elemento software cliente na infraestrutura do usuário e, portanto, para um usuário pode existir mais de um client_ID.</li>
  <li><strong>II - Escopos:</strong> definem as autorizações associadas a cada um dos serviços da API. Por sua vez, os Client_IDs possuem acesso a um ou mais escopos, o que definirá quais serviços podem ser acessados por cada Client_ID;</li>
  <li><strong>III – Payload JSON:</strong> conteúdo recuperado a partir da chamada à URL, lida a partir do QR Code dinâmico e que representa uma cobrança;</li>
  <li><strong>IV - PSP Pagador:</strong> participante do Pix no qual o usuário pagador possui uma conta transacional;</li>
  <li><strong>V – PSP Recebedor:</strong> participante do Pix no qual o usuário recebedor possui uma conta transacional que será usada para recebimentos de Pix. O PSP Recebedor que quiser disponibilizar a seus clientes uma solução de integração automatizada com o arranjo Pix deve fazê-lo por meio da API Pix, seguindo as especificações de negócio e técnicas definidas pelo Banco Central do Brasil neste documento e nos outros documentos trazidos na seção 2.</li>
  <li><strong>VI - transactionId (txid):</strong> identificador da transação, na perspectiva do usuário recebedor. Esse número é gerado pelo usuário recebedor e repassado ao PSP recebedor na chamada da API Pix, no momento da criação da cobrança, a fim de identificar unicamente aquela cobrança66. Assim, o txid é utilizado pelo usuário recebedor, em seus processos de conciliação de pagamentos recebidos por meio de Pix. No caso das cobranças criadas por meio da API Pix, o PSP recebedor deve garantir que o txid seja único para um dado usuário recebedor (CPF/CNPJ).</li>
  <li><strong>VII - usuário pagador:</strong> aquele que efetua o pagamento de uma cobrança por meio do Pix.</li>
  <li><strong>VIII - usuário recebedor:</strong> pessoa natural ou jurídica que deseja receber cobranças – para pagamentos imediatos ou com vencimento – por meio do Pix e se vale da API Pix para automação dos seus processos de geração dessas cobranças e para conciliação de pagamentos recebidos por meio do Pix.</li>
  <li><strong>IX – prestador de serviço de saque (pss):</strong> participante do Pix, que se enquadre na modalidade provedor de conta transacional e que seja autorizado a funcionar pelo Banco Central do Brasil, que, em caráter facultativo, venha a prestar serviço de saque, diretamente, ou por meio de agente de saque, mediante estabelecimento de relação contratual para essa finalidade.</li>
</ul>

<h1 id="funcionalidades-da-api-pix">Funcionalidades da API Pix</h1>

<h2 id="definições-das-entidades">Definições das entidades</h2>

<p>A API Pix está estruturada em torno de algumas entidades de negócio, que agrupam conjuntos de atributos, conforme definido abaixo:</p>

<p><strong>I - Cobrança (/cob):</strong> representa cada uma das cobranças geradas por meio da API Pix, a fim de permitir que o usuário pagador efetue um pagamento identificado para o usuário recebedor. A cobrança é caracterizada por um conjunto de informações que são utilizadas para que o usuário pagador execute um pagamento por meio do Pix, geralmente, em função de acordo comercial entre o usuário pagador e o usuário recebedor, sem se confundir com o pagamento Pix em si. O modelo de cobrança utilizado é para pagamento imediato.</p>

<p>Estados da cobrança:</p>

<ul>
  <li>a) <strong>ATIVA:</strong> indica que a cobrança foi gerada e pronta para ser paga;</li>
  <li>b) :<strong>CONCLUÍDA::</strong> indica que a cobrança já foi paga e, por conseguinte, não pode acolher outro pagamento67;</li>
  <li>c) <strong>REMOVIDO_PELO_USUARIO_RECEBEDOR:</strong> indica que o usuário recebedor solicitou a remoção da cobrança; e</li>
  <li>d) <strong>REMOVIDO_PELO_PSP:</strong> indica que o PSP Recebedor solicitou a remoção da cobrança.</li>
  <li><strong>II - Pix (/pix):</strong> representa um pagamento recebido por meio do arranjo de pagamentos Pix.</li>
</ul>

<p><strong>III - Devolução (devolução):</strong> representa uma solicitação de devolução de um Pix realizado, cujos fundos já se encontrem disponíveis na conta transacional do usuário recebedor.</p>

<p>Estados da devolução:</p>

<ul>
  <li>a) <strong>EM_PROCESSAMENTO:</strong> indica que a devolução foi solicitada, mas ainda está em processamento no SPI;</li>
  <li>b) <strong>DEVOLVIDO:</strong> indica que a devolução foi liquidada pelo SPI; e</li>
  <li>c) <strong>NAO_REALIZADO:</strong> indica que a devolução não pode ser realizada em função de algum erro durante a liquidação (exemplo: saldo insuficiente).</li>
</ul>

<h2 id="cardinalidade-entre-as-entidades">Cardinalidade entre as entidades</h2>

<ul>
  <li>I - Uma Cobrança pode estar associada a um ou mais Pix (mesmo txid);</li>
  <li>II - Um Pix pode estar associado a uma única Cobrança. O Pix, no entanto, pode existir independentemente da existência de uma Cobrança;</li>
  <li>III - Um Pix pode ter uma ou mais Devoluções associadas a ele. Uma Devolução está sempre associada a um Pix.</li>
  <li>IV – Uma Cobrança somente pode estar associada a um PayloadLocation e, num determinado momento, o
PayloadLocation só pode estar associado a uma cobrança.</li>
</ul>

<h2 id="ciclo-de-vida-do-transactionid-txid">Ciclo de vida do TransactionID (txid)</h2>

<p>Há duas situações de uso para o campo TransactionId (txid), que envolvem regras distintas para seu preenchimento, conforme tratado a seguir.</p>

<h3 id="txid-no-contexto-das-cobranças">txid no contexto das Cobranças:</h3>

<p>As cobranças para pagamentos imediatos ou com vencimento criadas por meio da API Pix são identificadas unicamente por meio de um txid. O txid pode ser enviado pelo usuário recebedor quando da geração da cobrança, e não poderá se repetir entre cobranças distintas, a fim de garantir a correta conciliação dos pagamentos.
Alternativamente, no caso de cobranças para pagamento imediato, é possível que o usuário recebedor delegue a geração do txid para o seu PSP.</p>

<p>Uma vez que seja solicitada a criação de uma cobrança por meio da API Pix, o PSP Recebedor deve assegurar que não exista repetição do txid para o mesmo usuário recebedor, seja ele enviado pelo usuário ou gerado pelo próprio PSP. Assim, o conjunto CNPJ ou CPF e txid deve ser único para um dado PSP.</p>

<p>O txid deve ter, no mínimo, 26 caracteres e, no máximo, 35 caracteres de tamanho. Os caracteres aceitos neste contexto são: A-Z, a-z, 0-9.</p>

<h2 id="grupos-de-funcionalidades">Grupos de funcionalidades</h2>

<h3 id="funcionalidades-e-respectivos-endpoints">Funcionalidades e respectivos endpoints</h3>

<p>As funcionalidades da API Pix, na versão atual, estão definidas em seis grupos:</p>

<p>I – Gerenciamento de Cobranças com pagamento imediato (Cob), que trata do ciclo de vida da entidade Cobrança:</p>

<table>
  <tbody>
    <tr>
      <td>Criação e atualização de cobrança</td>
      <td>PUT/cob/{txid}</td>
    </tr>
    <tr>
      <td>Criação de uma cobrança sem passar txid</td>
      <td>POST/cob</td>
    </tr>
    <tr>
      <td>Consulta de uma cobrança</td>
      <td>GET/cob/{txid}</td>
    </tr>
    <tr>
      <td>Consulta de lista de cobranças</td>
      <td>GET/cob</td>
    </tr>
    <tr>
      <td>Alteração de uma cobrança</td>
      <td>PATCH/cob/{txid}</td>
    </tr>
  </tbody>
</table>

<p>II – Gerenciamento de Pix Recebidos (Pix), que trata do ciclo de vida das entidades Pix e Devolução:</p>

<table>
  <tbody>
    <tr>
      <td>Solicitação de devolução</td>
      <td>PUT/pix/{e2eid}/devolucao/{id}</td>
    </tr>
    <tr>
      <td>Consulta de devolução</td>
      <td>GET/pix/{e2eid}/devolucao/{id}</td>
    </tr>
  </tbody>
</table>

<h1 id="casos-de-uso">Casos de Uso</h1>

<p>O objetivo dessa seção é trazer exemplos de como a API Pix pode ser utilizada na automação das interações entre usuários recebedores e seus respectivos PSPs em transações associadas ao Pix. Esses casos de uso NÃO pretendem esgotar as formas de utilização ou as funções disponibilizadas pela API Pix.</p>

<h2 id="pagamento-imediato-no-ato-da-compra-com-qr-code-dinâmico">Pagamento imediato (no ato da compra) com QR Code Dinâmico**</h2>

<p><strong>Aplicação:</strong> Comerciantes com volumes de vendas médios ou altos. Comércios online.</p>

<p><strong>1.</strong> O usuário pagador, ao realizar a compra, informa que deseja pagar com Pix;</p>

<p><strong>2.</strong> O software de automação utilizado pelo usuário recebedor acessa a API Pix para criação de uma cobrança e, com os dados recebidos como resposta, gera um QR Code Dinâmico, que é apresentado em um dispositivo de exibição qualquer:</p>

<ul>
  <li>a. em uma compra presencial, tipicamente uma tela próxima ao caixa ou mesmo um POS;</li>
  <li>b. nas compras online, no dispositivo em uso pelo pagador.</li>
</ul>

<p>Serviço invocado: PUT /cob/{txid}  Devem ser informados todos os dados necessários para criação do payload da cobrança, conforme especificação detalhada. Alternativamente, se o usuário recebedor não quiser identificar a cobrança imediata com seu próprio número {txid}, pode-se optar
por utilizar o método POST /cob.</p>

<p><strong>3.</strong> O usuário pagador lê, a seguir, o QR Code com o App do seu PSP e efetua o pagamento;</p>

<p><strong>4.</strong> O usuário recebedor, de forma automatizada, por meio de nova consulta à API Pix, verifica se o pagamento foi realizado: Serviço invocado: GET /cob/{txid};</p>

<p><strong>5.</strong> O usuário recebedor libera os produtos para o usuário pagador ou, no caso das compras online, confirma o recebimento do pagamento. Alternativamente, o passo 4 pode ser realizado com o uso de webhooks configurados no serviço correspondente. Nesse caso, o usuário recebedor seria informado pelo PSP Recebedor do crédito de um Pix associado a um txid na sua conta transacional.</p>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://developercielo.github.io/assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img src="https://developercielo.github.io/assets/images/logo.png" alt="Documentações e tutoriais" style="width: 60%; margin-left: 20%">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        
        <div class="toc-footer">
            <h2 class="no-toc toc-footer-title">Materiais complementares</h2>
            

            
            
            

            <ul class="toc-footer">
            
                
            
            </ul>
        </div>
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="#">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/developercielo">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:674586,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
