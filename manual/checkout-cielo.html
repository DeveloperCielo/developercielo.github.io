<!DOCTYPE html>
<html lang="pt">
    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#00aeef" />
  <meta http-equiv="Content-Language" content="pt" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     Integração Checkout Cielo &middot; Documentações e tutoriais 
  </title>

  <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico" />

  <!-- CSS -->
  <link
    href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500"
    rel="stylesheet"
    media="none"
    onload="if(media!='all')media='all'"
  />
  <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

  <link
    rel="stylesheet"
    href="https://developercielo.github.io/assets/bundles/css/bundle.min.css"
  />

   
  <link
    rel="alternate"
    hreflang="pt"
    href="https://developercielo.github.io/manual/checkout-cielo"
  />
    
  <link
    rel="alternate"
    hreflang="en"
    href="https://developercielo.github.io/en/manual/checkout-cielo"
  />
   

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://developercielo.github.io/atom.xml"
  />
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/checkout-cielo">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/checkout-cielo">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/manual/checkout-cielo">Integração Checkout Cielo</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post"><h1 id="sobre-essa-documentação">Sobre essa documentação</h1>

<p>Este manual irá guiar o desenvolvedor na integração com a API do Checkout Cielo. Ao integrar a API do Checkout, você vai conseguir:</p>

<ul>
  <li>Configurar a sua loja e personalizar sua página de pagamento;</li>
  <li>Criar uma página de pagamento via API;</li>
  <li>Receber notificações de pagamentos;</li>
  <li>Consultar, capturar e cancelar transações.</li>
</ul>

<blockquote>
  <p>Você também pode usar o Checkout pelo site Cielo ou pelo app Cielo Gestão. Para usar o Checkout pelo site Cielo, consulte <a href="https://developercielo.github.io/tutorial/checkout-tutoriais" target="_blank">este tutorial</a>.</p>
</blockquote>

<h1 id="sobre-o-checkout-cielo">Sobre o Checkout Cielo</h1>

<p>O Checkout Cielo é indicado para sites com carrinhos de compra, ou seja, quando o consumidor navega pelo site e escolhe um ou mais produtos a fim de finalizar a compra. Ao clicar em <strong>Comprar</strong>, o consumidor é redirecionado para uma página de pagamento online segura da Cielo.</p>

<p>O Checkout Cielo é uma solução que agrega vários serviços de processamento de pagamento e gera uma página de pagamentos que proporciona um alto nível de confiança, seguindo as normas de segurança PCI.</p>

<p>O grande diferencial do Checkout Cielo é a gama de serviços agregados em uma página de pagamento segura e com apenas uma integração técnica via API REST.</p>

<p><strong>O Checkout possui as seguintes funcionalidades:</strong></p>

<table>
  <thead>
    <tr>
      <th>FUNCIONALIDADE</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Página de pagamento</strong></td>
      <td>O Checkout Cielo possui uma página de pagamento própria, com um layout otimizado, encurtando os passos no pagamento de suas transações.</td>
    </tr>
    <tr>
      <td><strong>Recorrência</strong></td>
      <td>O Checkout Cielo possui a Recorrência Programada. Basta que a loja defina que uma transação deve se repetir, que o Checkout vai executa-la novamente no intervalo definido.</td>
    </tr>
    <tr>
      <td><strong>Análise de fraude</strong></td>
      <td>O Checkout oferece análise de fraude de transações de crédito sem uma integração adicional.</td>
    </tr>
    <tr>
      <td><strong>Diversos meios de pagamentos</strong></td>
      <td>O Checkout Cielo possui uma variada gama de meios de pagamento:<br />Cartões de crédito<br />Cartão de débito<br />Boleto Bradesco e Banco do Brasil<br />Pix Cielo, Bradesco e Banco do Brasil</td>
    </tr>
    <tr>
      <td><strong>Integração com Botão e QR Code</strong></td>
      <td>Sem integração técnica ou programação, o Checkout disponibiliza uma integração que torna possível realizar a criação de um botão para acesso à página de pagamento. Veja mais no <a href="https://developercielo.github.io/tutorial/checkout-tutoriais" target="_blank">Tutorial Checkout</a></td>
    </tr>
    <tr>
      <td><strong>Relatórios transacionais</strong></td>
      <td>Dentro do site Cielo, é possível gerar relatórios transacionais que facilitam a administração de suas vendas:<br />Relatório de Recorrências<br />Relatório de compradores<br />Extrato de vendas<br />Relatório de vendas</td>
    </tr>
  </tbody>
</table>

<p><strong>Os meios de pagamento e bandeiras aceitos no Checkout Cielo são:</strong></p>

<table>
  <thead>
    <tr>
      <th>MEIO DE PAGAMENTO</th>
      <th>BANDEIRAS E PROVEDORES</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cartão de crédito</td>
      <td>Visa, Mastercard, American Express, Elo, Diners Club, Discover, JCB e Hipercard</td>
    </tr>
    <tr>
      <td>Cartão de débito</td>
      <td>Visa, Mastercard e Elo</td>
    </tr>
    <tr>
      <td>Pix</td>
      <td>Cielo, Bradesco e Banco do Brasil</td>
    </tr>
    <tr>
      <td>Boleto registrado</td>
      <td>Bradesco e Banco do Brasil</td>
    </tr>
  </tbody>
</table>

<p><strong>Observação</strong>: O limite máximo de parcelas do Checkout Cielo é 12 parcelas.</p>

<h2 id="pré-requisitos-para-integração">Pré-requisitos para integração</h2>

<p>O Checkout Cielo possui uma lista de requisitos básicos para que o processo de integração seja bem sucedido. A seguir listamos pontos que devem estar prontos antes da integração:</p>

<ol>
  <li>O cadastro da loja deve estar <strong>ativo</strong> junto à Cielo;</li>
  <li>Deve-se definir um <strong>timeout</strong> adequado nas requisições HTTP à Cielo. Recomendamos 30 segundos;</li>
  <li>O certificado Root da entidade certificadora (CA) de nosso Web Service deve estar cadastrado. Veja a seção <a href="#certificado-extended-validation">Certificado Extended Validation</a> para mais informações;</li>
  <li>Recomendamos o uso dos navegadores Chrome e Edge para web e Safari, Chrome e Samsung Internet para mobile, todos sempre em suas versões mais atualizadas.</li>
</ol>

<h1 id="fluxo-da-api-checkout-cielo">Fluxo da API Checkout Cielo</h1>

<p>Na API do Checkout Cielo, a loja envia uma requisição de criação da tela de checkout e a API retorna uma URL para acesso à página de pagamento, chamada <code class="language-plaintext highlighter-rouge">CheckoutUrl</code>.
Confira mais detalhes sobre o funcionamento da API no fluxo a seguir:</p>

<p><img src="https://developercielo.github.io/images/checkout/checkout-images/checkout-fluxo.png" alt="Imagem Fluxo Geral Checkout" /></p>

<ol>
  <li>A pessoa titular do cartão (comprador) escolhe os produtos na loja integrada ao Checkout Cielo e clica em <strong>Comprar</strong>;</li>
  <li>A loja envia a requisição de criação da página de pagamento para a API Checkout Cielo;</li>
  <li>A API Checkout Cielo retorna o <code class="language-plaintext highlighter-rouge">CheckoutUrl</code>, que é a URL da página de pagamento montada com base nos dados enviados pela loja (como dados do comprador, dos produtos, da entrega e outros);</li>
  <li>A loja redireciona o comprador para a URL retornada pela Cielo (página de pagamento). A tela apresentada é parte do ambiente de pagamento seguro Cielo;</li>
  <li>O comprador escolhe o meio de pagamento, tipo de frete e endereço de entrega na página de pagamento;</li>
  <li>O Checkout Cielo redireciona o cliente para a URL de Retorno escolhida pela loja (caso a loja tenha configurado uma URL de Retorno no site Cielo);</li>
  <li>A loja será notificada sobre a situação da transação (caso a loja tenha configurado uma URL de notificação no site Cielo);</li>
  <li>A loja processa o pedido de compra utilizando os dados da notificação e, se a transação estiver autorizada, libera o pedido.</li>
</ol>

<blockquote>
  <p><strong>Importante</strong>: O Checkout Cielo não notifica os compradores a respeito do status da compra. O Checkout Cielo notifica apenas a loja quando há alguma alteração no status do pagamento, permitindo assim que a loja decida quando e como informar aos seus compradores sobre o prazo de entrega e processo de envio. Para receber notificações, é necessário configurar ao menos um tipo de URL de notificação nas <strong>Configurações da Loja.</strong></p>
</blockquote>

<h1 id="início-rápido">Início Rápido</h1>

<p>Para iniciar a sua integração com a API do Checkout Cielo, você vai precisar:</p>

<ol>
  <li>Solicitar o nº de estabelecimento (EC) para o Checkout Cielo;</li>
  <li>Definir as configurações da loja (personalização da página, escolha dos meios de pagamento e contrato com os Correios, se houver);</li>
  <li>Configurar uma URL de notificação e de mudança de status para a sua loja;</li>
  <li>Instalar o certificado Extended Validation;</li>
  <li>Enviar a primeira requisição de criação de página de pagamento;</li>
  <li>Quando houver uma tentativa de pagamento no Checkout Cielo, você receberá uma notificação* com todos os dados preenchidos na página de pagamento;</li>
  <li>Se a transação mudar de status, você receberá uma notificação* de mudança de status;</li>
  <li>Para efetuar testes, use o Modo de Teste do Checkout Cielo.</li>
</ol>

<p>*Desde que tenha configurado a URL de notificação.</p>

<h1 id="certificado-extended-validation">Certificado Extended Validation</h1>

<h2 id="o-que-é-certificado-ssl">O que é Certificado SSL?</h2>

<p>O Certificado SSL para servidor web oferece autenticidade e integridade dos dados de um web site, proporcionando aos clientes das lojas virtuais a garantia de que estão realmente acessando o site que desejam, e não uma um site fraudador.</p>

<p>Empresas especializadas são responsáveis por fazer a validação do domínio e, dependendo do tipo de certificado, também da entidade detentora do domínio.</p>

<h3 id="internet-explorer">Internet Explorer</h3>

<p><img src="https://developercielo.github.io/images/certificado-ie.jpg" alt="Certificado EV Internet Explorer" /></p>

<h3 id="firefox">Firefox</h3>

<p><img src="https://developercielo.github.io/images/certificado-firefox.jpg" alt="Certificado EV Firefox" /></p>

<h3 id="google-chrome">Google Chrome</h3>

<p><img src="https://developercielo.github.io/images/certificado-chrome.jpg" alt="Certificado EV Google Chrome" /></p>

<h2 id="o-que-é-certificado-ev-ssl">O que é Certificado EV SSL?</h2>

<p>O Certificado EV foi lançado no mercado recentemente e garante um nível de segurança maior para os clientes das lojas virtuais.</p>

<p>Trata-se de um certificado de maior confiança e quando o https for acessado a barra de endereço ficará verde, dando mais confiabilidade aos visitantes do site.</p>

<h2 id="como-instalar-o-certificado-extended-validation-no-servidor-da-loja">Como instalar o Certificado Extended Validation no servidor da Loja?</h2>

<p>Basta instalar os três arquivos a seguir na Trustedstore do servidor. A Cielo não oferece suporte para a instalação do Certificado. Caso não esteja seguro sobre como realizar a instalação do Certificado EV, então você deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.cer">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/Intermediario.cer">Certificado Intermediário</a></li>
  <li><a href="https://developercielo.github.io/attachment/cieloecommerce.cert-2023-2024.zip">Certificado E-Commerce Cielo</a></li>
</ul>

<h2 id="passo-a-passo-para-a-instalação">Passo a Passo para a Instalação</h2>

<h3 id="instalação-no-servidor-da-loja-virtual">Instalação no Servidor da Loja Virtual</h3>

<p>O passo a passo para a instalação do Certificado EV deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<aside class="warning">A Cielo não oferece suporte para a instalação do Certificado.</aside>

<h3 id="acesso-do-cliente-à-loja-virtual">Acesso do Cliente à Loja Virtual</h3>

<p>Normalmente, o browser faz a atualização do Certificado automaticamente, caso não o faça e o cliente entre em contato deverá ser informado os seguintes passos:</p>

<p><strong>1º Passo</strong></p>

<p>Salvar os três arquivos abaixo em uma pasta nova, ou que relembre facilmente, pois será utilizada posteriormente:</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.cer">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/Intermediario.cer">Certificado Intermediário</a></li>
  <li><a href="https://developercielo.github.io/attachment/cieloecommerce.cert-2023-2024.zip">Certificado E-Commerce Cielo</a></li>
</ul>

<p><strong>2º Passo</strong></p>

<p>No “Internet Explorer”, clique no menu “Ferramentas” e acesse as “Opções da Internet”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-1.jpg" alt="Instalar IE" /></p>

<p>No “Firefox”, clique no menu “Abrir Menu” e acesse “Avançado” e “Opções”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-1.jpg" alt="Instalar FF" /></p>

<p>No “Chrome”, clique no “Personalizar e Controlar o Google Chrome” e acesse “Configurações” e “Mostrar configurações avançadas… “Alterar Configurações de Proxy e “Conteúdo” e Certificados:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-1.jpg" alt="Instalar GC" /></p>

<p><strong>3º Passo</strong></p>

<p>No Internet Explorer, em “Certificados”, clique em “Importar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-2.jpg" alt="Instalar IE" /></p>

<p>No Firefox clique em “Ver Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-2.jpg" alt="Instalar FF" /></p>

<p>No Chrome clique em “Gerenciar Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-2.jpg" alt="Instalar GC" /></p>

<p><strong>4º Passo</strong></p>

<p>No Internet Explorer e Chrome “Assistente para Importação de Certificados”, clique em “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-3.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-4.jpg" alt="Instalar IE e GC" /></p>

<p>No Firefox “Aba Servidores ”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-3.jpg" alt="Instalar FF" /></p>

<p><strong>5º Passo</strong></p>

<p>No Chrome e Internet Explorer “Assistente para Importação de Certificados”, clique em “Procurar”, procure a pasta onde estão os arquivos e selecione o arquivo “cieloecommerce.cielo.com.br.crt, clique em “Abrir” e em seguida “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-5.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-6.jpg" alt="Instalar IE e GC" /></p>

<p><strong>6º Passo</strong></p>

<p>Selecionar a opção desejada: adicionar o Certificado em uma pasta padrão ou procurar a pasta de sua escolha.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-7.jpg" alt="Instalar IE e GC" /></p>

<p><strong>7º Passo</strong></p>

<p>Clique em “Concluir”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-8.jpg" alt="Instalar IE e GC" /></p>

<p><strong>8º Passo</strong></p>

<p>Clique em “Ok” para concluir a importação.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-9.jpg" alt="Instalar IE e GC" /></p>

<aside class="notice">No Firefox não consta a mensagem de Importação com Êxito, apenas conclui a importação.</aside>

<p>O Certificado poderá ser visualizado na aba padrão “Outras Pessoas” ou na escolhida pelo cliente.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-10.jpg" alt="Instalar IE e GC" /></p>

<p><strong>9º Passo</strong></p>

<p>Repita o mesmo procedimento para os 3 arquivos enviados.</p>

<h1 id="modo-de-teste-do-checkout-cielo">Modo de teste do Checkout Cielo</h1>

<p>O modo de teste Checkout Cielo é uma ferramenta que permite testar a integração do seu site com a plataforma. Com o modo teste, você pode realizar transações a medida que evolui com a integração e consegue simular cenários para testar diferentes meios de pagamento.</p>

<h2 id="ativação-do-modo-de-teste">Ativação do Modo de Teste</h2>

<p>O modo de teste pode ser ativado na aba <strong>Configurações</strong>, onde existe um caixa de seleção que, quando marcada, habilitará o modo de teste do Checkout Cielo. O modo teste somente se iniciará quando a seleção for salva.</p>

<p><img src="https://developercielo.github.io/images/checkout/tm01.png" alt="Ativando Modo de teste" /></p>

<p>Quando a opção for salva, uma tarja vermelha será exibida na parte superior da tela. Ela será exibida em todas as telas do <a href="https://developercielo.github.io/tutorial/checkout-tutoriais" target="_blank">Backoffice Cielo Checkout</a> e na tela transacional do Checkout Cielo.</p>

<p>Essa tarja indica que a sua loja Checkout Cielo está agora operando em ambiente de teste, ou seja, toda a transação realizada nesse modo será considerada como teste.</p>

<table>
  <thead>
    <tr>
      <th>Backoffice</th>
      <th>Transacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://developercielo.github.io/images/checkout/tmbackoffice.png" alt="Tarja vermelha - Backoffice" /></td>
      <td><img src="https://developercielo.github.io/images/checkout/tmtransacional.png" alt="Tarja vermelha - Transacional" /></td>
    </tr>
  </tbody>
</table>

<h2 id="como-transacionar-no-modo-de-teste">Como transacionar no Modo de teste</h2>

<p>A realização de transações no modo de teste ocorre de forma normal. As informações da transação são enviadas via POST ou API, utilizando os parâmetros como descrito no tópico <a href="#integração-por-api">Integração por API</a>, entretanto, os meios de pagamentos a serem usados serão meios simulados.</p>

<p>Para realizar transações de teste com diferentes meios de pagamento, siga as seguintes regras:</p>

<h3 id="transações-com-cartão-de-crédito">Transações com cartão de crédito</h3>

<p>Para testar cartões de crédito é necessário que dois dados importantes sejam definidos o status da autorização do cartão e o retorno da análise de fraude.</p>

<p><strong>Status da Autorização do cartão de crédito</strong></p>

<table>
  <thead>
    <tr>
      <th>Status da Transação</th>
      <th>Cartões para realização dos testes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autorizado</td>
      <td>0000.0000.0000.0000 / 0000.0000.0000.0004</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0005 / 0000.0000.0000.0009</td>
    </tr>
  </tbody>
</table>

<p><strong>Exemplo:</strong> 540443424293010<strong>0</strong> = <strong>Autorizado</strong></p>

<h3 id="boleto-bancário">Boleto bancário</h3>

<p>Basta realizar o processo de compra normalmente sem nenhuma alteração no procedimento.
O boleto gerado no modo de teste sempre será um boleto simulado.</p>

<h3 id="transações-de-teste">Transações de teste</h3>

<p>Todas as transações realizadas no modo de teste serão exibidas como transações normais na aba Pedidos do Checkout Cielo, entretanto, elas serão marcadas como transações de teste e não serão contabilizadas em conjunto com as transações realizadas fora do ambiente de teste.</p>

<p><img src="https://developercielo.github.io/images/checkout-cielo-modo-teste-transacoes-de-teste.png" alt="Transações de teste" /></p>

<p>Essas transações terão o símbolo de teste as diferenciando de suas outras transações. Elas podem ser capturadas ou canceladas utilizando os mesmos procedimentos das transações reais.</p>

<p><img src="https://developercielo.github.io/images/checkout-cielo-modo-teste-transacoes-de-teste-cancelamento.png" alt="Transações de teste" /></p>

<aside class="notice">É muito importante que, ao liberar sua loja para a realização de vendas para seus clientes, **a loja não esteja em modo de teste**. Transações realizadas nesse ambiente poderão ser finalizadas normalmente, mas **não serão descontadas do cartão do cliente** e não poderão ser “transferidas” para o ambiente de venda padrão.</aside>

<h1 id="criando-o-carrinho">Criando o carrinho</h1>

<p>Na integração via API, a tela transacional é “montada” com bases em dados enviados que formam um <strong>Carrinho de compras</strong>.
Esses dados são separados nos seguintes “nós principais”:</p>

<table>
  <thead>
    <tr>
      <th>Nó</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart</code></td>
      <td>Contém dados dos produtos a serem vendidos.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping</code></td>
      <td>Contém dados do tipo de frete a ser cobrado. É influenciado pelo nó <code class="language-plaintext highlighter-rouge">Cart</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment</code></td>
      <td>Contém informações que influenciam o valor cobrado. <strong>Não contém informações sobre meios de pagamento</strong>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer</code></td>
      <td>Contém os dados o comprador. Não obrigatório na integração, mas exigido na tela de pagamentos. Sugerimos que seja enviado para acelerar o processo de compra.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Options</code></td>
      <td>Controla features opcionais do Checkout. Não é obrigatório.</td>
    </tr>
  </tbody>
</table>

<p>Após o envio dos dados do carrinho, o Checkout enviará uma resposta contendo um <strong>link para a tela de pagamento</strong> no campo <code class="language-plaintext highlighter-rouge">CheckoutUrl</code>.</p>

<p><strong>Importante</strong>: A requisição de criação do carrinho <strong>não cria uma transação</strong>. A URL retornada (<code class="language-plaintext highlighter-rouge">CheckoutUrl</code>) é apenas uma “pré-ordem” indicando que uma tela transacional está pronta para ser utilizada. A transação é criada apenas quando o comprador clica em Finalizar na tela do <strong>Checkout</strong>.</p>

<h2 id="requisição">Requisição</h2>

<p>Confira um exemplo de requisição de criação do carrinho (tela transacional) no Checkout Cielo.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/orders</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Produto01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProdutoExemplo01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asset"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SourceZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TargetZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21911130"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FixedAmount"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Motoboy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Carrier"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UPS Express"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Carrier"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Cambui"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apto 201"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Freguesia"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MaxNumberOfInstallments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"84261300206"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test de Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21987654321"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Settings"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Header/Cabeçalho</strong></p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>Sim</td>
      <td>36</td>
      <td>Identificador único da loja. <strong>Formato:</strong> 00000000-0000-0000-0000-000000000000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-type</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>n/a</td>
      <td>Tipo do conteúdo da mensagem a ser enviada. <strong>Utilizar:</strong> “application/json”</td>
    </tr>
  </tbody>
</table>

<p><strong>Cabeçalho e Autenticação</strong> - Todas as requisições enviadas para a Cielo deverão ser autenticadas pela loja. A autenticação consiste no envio do <code class="language-plaintext highlighter-rouge">MerchantId</code>, que é o identificador único da loja fornecido pela Cielo após a afiliação da loja. A autenticação da loja deverá ser feita através do envio do campo de cabeçalho HTTP <code class="language-plaintext highlighter-rouge">MerchantId</code>:</p>

<p><strong>Body - Detalhado</strong></p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Condicional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">OrderNumber</code></td>
      <td>Alphanumeric</td>
      <td>Opcional</td>
      <td>64</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Alphanumeric</td>
      <td>Opcional</td>
      <td>13</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code></td>
      <td>Alphanumeric</td>
      <td>Condicional</td>
      <td>255</td>
      <td>Obrigatório caso Cart.Discount.Value for maior ou igual a zero.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>18</td>
      <td>Obrigatório caso Cart.Discount.Type for <code class="language-plaintext highlighter-rouge">Amount</code> ou <code class="language-plaintext highlighter-rouge">Percent</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Name</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>128</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Description</code></td>
      <td>Alphanumeric</td>
      <td>Opcional</td>
      <td>256</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.UnitPrice</code></td>
      <td>Numeric</td>
      <td>Sim</td>
      <td>18</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Quantity</code></td>
      <td>Numeric</td>
      <td>Sim</td>
      <td>9</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Type</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>255</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Sku</code></td>
      <td>Alphanumeric</td>
      <td>Opcional</td>
      <td>32</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Items.Weight</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>9</td>
      <td>Necessário caso Shipping.Type for “Correios”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoDiscount</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>3</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitDiscount</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>3</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FirstInstallmentDiscount</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>3</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>2</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>14</td>
      <td>Não obrigatório na API, mas obrigatório na tela transacional.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.FullName</code></td>
      <td>Alphanumeric</td>
      <td>Condicional</td>
      <td>288</td>
      <td>Não obrigatório na API, mas obrigatório na tela transacional.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Alphanumeric</td>
      <td>Condicional</td>
      <td>64</td>
      <td>Não obrigatório na API, mas obrigatório na tela transacional.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Phone</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>11</td>
      <td>Não obrigatório na API, mas obrigatório na tela transacional.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Options.ReturnUrl</code></td>
      <td>Strin</td>
      <td>Condicional</td>
      <td>255</td>
      <td>Uma URL fixa pode ser registrada no Backoffice Checkout.</td>
    </tr>
  </tbody>
</table>

<h2 id="respostas">Respostas</h2>

<p>Devido ao seu fluxo de venda ser dividido em duas etapas, sendo a primeira, a criação da tela transacional e a segunda, a finalização do pagamento, o Checkout possui duas respostas para uma transação:</p>

<ul>
  <li><strong>Response - Tela transacional</strong> - é a resposta retornada com dados para enviar o comprador para a tela transacional;</li>
  <li><strong>Response - Transação Finalizada</strong> - contém dados sobre o resultado da transação, após o comprador clica em <strong>Finalizar</strong> na tela transacional. <strong>É retornado apenas via Notificação</strong></li>
</ul>

<p><strong>Resultado/Status da transação:</strong> Para obter o retorno do status da transação, é necessário definir uma URL de NOTIFICAÇÃO. Veja a sessão de notificação para maiores informações.</p>

<p><strong>Response - Tela transacional</strong></p>

<p>Existem apenas duas opções de resposta na integração da API: sucesso ou erro.</p>

<p><strong>Sucesso</strong>: em caso de sucesso, a resposta será o conteúdo da requisição mais o link que direciona a tela transacional (<code class="language-plaintext highlighter-rouge">CheckoutUrl</code>):</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CheckoutUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/transacional/order/index?id=123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Profile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CheckoutCielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CheckoutUrl</code></td>
      <td>String</td>
      <td>Sim</td>
      <td>255</td>
      <td>URL da tela transacional. O Comprador <strong>deve ser direcionado para esse ambiente para finalizar a transação</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Profile</code></td>
      <td>String</td>
      <td>Sim</td>
      <td>16</td>
      <td>Perfil do lojista: fixo “CheckoutCielo”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Version</code></td>
      <td>String</td>
      <td>Sim</td>
      <td>1</td>
      <td>Versão do serviço de criação de pedido (versão: 1).</td>
    </tr>
  </tbody>
</table>

<p><strong>Erro</strong> - Em caso de erro, a mensagem abaixo será retornada.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An error has occurred."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Message</code></td>
      <td>String</td>
      <td>Sim</td>
      <td>254</td>
      <td>Mensagem descritiva do erro</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Importante</strong>: O Checkout Cielo não possui erros numerados, apenas uma mensagem genérica. Veja a sessão “Identificando erros de Integração” para mais informações.</p>
</blockquote>

<h2 id="funcionalidades-adicionais">Funcionalidades adicionais</h2>

<p>O Checkout Cielo possui funcionalidades adicionais que seguem regras específicas para utilização e não estão disponíveis na integração via botão.</p>

<ul>
  <li><strong>Tipos de Desconto</strong></li>
  <li><strong>Tipos de Frete</strong></li>
</ul>

<h3 id="tipos-de-desconto">Tipos de Desconto</h3>

<p>O Checkout Cielo permite que o lojista aplique descontos específicos tanto para o carrinho quanto para meios de pagamento.
Os descontos disponíveis no Checkout Cielo são:</p>

<table>
  <thead>
    <tr>
      <th>Desconto</th>
      <th>Aplicação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Carrinho</strong></td>
      <td>API</td>
      <td>Quando enviado, aplica o desconto sobre todo o carrinho, independente do meio de pagamento.</td>
    </tr>
    <tr>
      <td><strong>Boleto</strong></td>
      <td>API e Backoffice</td>
      <td>Quando enviado, o desconto é aplicado somente caso o boleto seja o meio de pagamento escolhido.</td>
    </tr>
    <tr>
      <td><strong>Débito Online</strong></td>
      <td>API e Backoffice</td>
      <td>Quando enviado, o desconto é aplicado somente caso o débito online seja o meio de pagamento escolhido.</td>
    </tr>
    <tr>
      <td><strong>À vista</strong></td>
      <td>API</td>
      <td>Quando enviado, o desconto é aplicado quando cartão de crédito à vista é o meio de pagamento escolhido.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Observação</strong>: Descontos podem ser enviados na API ou definidos no Backoffice. Caso um valor de desconto seja enviado na API, esse será o valor considerado, mesmo que o Backoffice possua outro valor registrado.</p>
</blockquote>

<p><strong>Carrinho</strong></p>

<p>Para enviar um desconto sobre o <strong>carrinho</strong> basta enviar o nó <code class="language-plaintext highlighter-rouge">Discount</code> dentro do nó <code class="language-plaintext highlighter-rouge">Cart</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
      <th>Condicional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Type</code></td>
      <td>Alphanumeric</td>
      <td>Condicional</td>
      <td>255</td>
      <td>Tipo do desconto a ser aplicado: <code class="language-plaintext highlighter-rouge">Amount</code> ou <code class="language-plaintext highlighter-rouge">Percent</code>.</td>
      <td>Obrigatório caso Cart.Discount.Value for maior ou igual a zero.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cart.Discount.Value</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>18</td>
      <td>Valor do desconto a ser aplicado: Valor ou Percentual</td>
      <td>Obrigatório caso Cart.Discount.Type for <code class="language-plaintext highlighter-rouge">Amount</code> ou <code class="language-plaintext highlighter-rouge">Percent</code>.</td>
    </tr>
  </tbody>
</table>

<p>Veja o desconto apresentado no carrinho:</p>

<table>
  <thead>
    <tr>
      <th>Percentual</th>
      <th>Valor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://developercielo.github.io/images/checkout/checkout-discount-percent.png" alt="Percentual" /></td>
      <td><img src="https://developercielo.github.io/images/checkout/checkout-discount-amount.png" alt="Valor" /></td>
    </tr>
  </tbody>
</table>

<p><strong>Boleto e cartão de crédito</strong></p>

<p>Para enviar um desconto sobre o <strong>boleto</strong>, <strong>débito online</strong> e/ou <strong>cartão de crédito à vista</strong> envie dentro do nó Payment o campo correspondente:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">BoletoDiscount</code> para boleto;</li>
  <li><code class="language-plaintext highlighter-rouge">FirstInstallmentDiscount</code> para cartão de crédito à vista.</li>
</ul>

<p><strong>Exemplo</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FirstInstallmentDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoDiscount</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>3</td>
      <td>Desconto, em porcentagem, para pagamentos a serem realizados com boleto.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.FirstInstallmentDiscount</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>3</td>
      <td>Desconto, em porcentagem, para pagamentos à vista no cartão de crédito.</td>
    </tr>
  </tbody>
</table>

<p>AVeja o desconto apresentado no carrinho:</p>

<table>
  <thead>
    <tr>
      <th>Tela transacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://developercielo.github.io/images/checkout/checkout-discount-mp.png" alt="Meios de pagamento" /></td>
    </tr>
  </tbody>
</table>

<h3 id="tipos-de-frete">Tipos de Frete</h3>

<p>O Checkout cielo possui diferentes tipos de frete.</p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FixedAmount</code></td>
      <td>Valor fixo enviado pelo lojista. Utilizado caso o Lojista possua um método de entrega próprio.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Free</code></td>
      <td>Não realiza cálculo de frete e exibe na tela transacional “Frete Grátis”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">WithoutShippingPickUp</code></td>
      <td>Considerado <strong>Retirada na loja</strong>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">WithoutShipping</code></td>
      <td>Sem cobrança de frete (aplicável para serviços e produtos digitais).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Correios</code></td>
      <td>Utiliza a API dos correios para realizar o cálculo do custo. O valor do cálculo dependerá o contrato utilizado (escolhido no Backoffice do checkout) e do tipo de integração para cálculo: <strong>Frete com Volume</strong> ou <strong>Frete sem Volume</strong></td>
    </tr>
  </tbody>
</table>

<p>Abaixo, como cada opção é demonstrada na tela transacional:</p>

<table>
  <thead>
    <tr>
      <th>Tipo de frete</th>
      <th>Transacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">FixedAmount</code></td>
      <td><img src="https://developercielo.github.io/images/checkout/fixedamount.png" alt="FixedAmount" /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Free</code></td>
      <td><img src="https://developercielo.github.io/images/checkout/free.png" alt="Free" /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">WithoutShippingPickUp</code></td>
      <td><img src="https://developercielo.github.io/images/checkout/withoutshippingpickup.png" alt="WithoutShippingPickUp" /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">WithoutShipping</code></td>
      <td><img src="https://developercielo.github.io/images/checkout/withoutshippingpickup.png" alt="WithoutShipping" /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Correios</code></td>
      <td><img src="https://developercielo.github.io/images/checkout/correios.png" alt="Correios" /></td>
    </tr>
  </tbody>
</table>

<p><strong>Observação:</strong> As opções para múltiplos fretes na categoria <code class="language-plaintext highlighter-rouge">Correios</code> devem ser selecionadas dentro do Backoffice Cielo.</p>

<p>Os nós que formam as informações de frete abaixo:</p>

<ul>
  <li><strong>Shipping</strong> - Nó base. É obrigatório na integração via API. Ele define os tipos de frete a serem utilizados</li>
</ul>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
      <th>Condicional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Type</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>255</td>
      <td>Tipo do frete: <br /><code class="language-plaintext highlighter-rouge">Correios</code><br /><code class="language-plaintext highlighter-rouge">FixedAmount</code><br /><code class="language-plaintext highlighter-rouge">Free</code><br /><code class="language-plaintext highlighter-rouge">WithoutShippingPickUp</code><br /><code class="language-plaintext highlighter-rouge">WithoutShipping</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.SourceZipCode</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>8</td>
      <td>CEP de origem do carrinho de compras.</td>
      <td>Obrigatório caso Shipping.Type for “Correios”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.TargetZipCode</code></td>
      <td>Numeric</td>
      <td>Opcional</td>
      <td>8</td>
      <td>CEP do endereço de entrega do comprador.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p><strong>Shipping.Address</strong> - Informações de endereço de entrega. <strong>Não obrigatório no contrato da API, mas obrigatório na tela transacional</strong>. Sugerimos que esses dados sejam enviados, se já foram recolhidos dentro do ambiente da loja.</p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Street</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>256</td>
      <td>Rua, avenida, travessa, etc, do endereço de entrega do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Number</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>8</td>
      <td>Número do endereço de entrega do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.Complement</code></td>
      <td>Alphanumeric</td>
      <td>Opcional</td>
      <td>14</td>
      <td>Complemento do endereço de entrega do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.District</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>64</td>
      <td>Bairro do endereço de entrega do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.City</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>64</td>
      <td>Cidade do endereço de entrega do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Address.State</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>2</td>
      <td>Estado (UF) do endereço de entrega do comprador.</td>
    </tr>
  </tbody>
</table>

<p><strong>Shipping.Services</strong></p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Name</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>128</td>
      <td>Nome do serviço de frete.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Price</code></td>
      <td>Numeric</td>
      <td>Sim</td>
      <td>18</td>
      <td>Preço do serviço de frete em centavos. Ex: R$ 1,00 = 100.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Services.Deadline</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>9</td>
      <td>Prazo de entrega (em dias).</td>
    </tr>
  </tbody>
</table>

<p>O Frete Correios pode ser calculado de 2 maneiras:</p>

<ul>
  <li><strong>Frete com Volume</strong> - Utiliza a API dos correios, mas exige que a loja envie as dimensões do pacote a ser enviado com as mercadorias</li>
  <li><strong>Frete sem Volume</strong> - Utiliza a API dos correios, mas considera apenas o peso do carrinho como base de cálculo para a entrega.</li>
</ul>

<p>Para utilizar o frete volumétrico, basta enviar o nó <code class="language-plaintext highlighter-rouge">Shipping.Measures</code>, seguindo as regras de integração via API REST.</p>

<p><strong>Shipping.Measures</strong></p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
      <th>Condicional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Package</code></td>
      <td>Alphanumeric</td>
      <td>Obrigatório</td>
      <td>Inteiro</td>
      <td>Tipo de pacote: <br /><code class="language-plaintext highlighter-rouge">BOX</code>- Caixa <br /> <code class="language-plaintext highlighter-rouge">ROL</code> - Cilindro ou ENVELOPE</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Lenght</code></td>
      <td>Numeric</td>
      <td>Obrigatório</td>
      <td>Inteiro</td>
      <td>Comprimento do pacote</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Height</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>Inteiro</td>
      <td>Altura do pacote enviado</td>
      <td>Obrigatório caso Shipping.Package como BOX</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Width</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>Inteiro</td>
      <td>Largura do pacote.</td>
      <td>Obrigatório caso Shipping.Package como BOX ou ENVELOPE</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Shipping.Diameter</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>Inteiro</td>
      <td>Diâmetro do pacote.</td>
      <td>Obrigatório caso Shipping.Package como ROL</td>
    </tr>
  </tbody>
</table>

<p>Para realizar o cálculo de frete via Correios é necessário respeitar as medidas definidas pelo contrato utilizado pelo lojista. Para maiores informações sobre as dimensões e pesos permitidos, sugerimos que valide o contrato da loja no link abaixo:</p>

<p><a href="http://www.correios.com.br/para-voce/precisa-de-ajuda/limites-de-dimensoes-e-de-peso">Limites e dimensões para entregas do correio</a></p>

<h3 id="identificando-erros-de-integração">Identificando Erros de integração</h3>

<p>Devido a estrutura do checkout Cielo, onde o comprador é redirecionado para um ambiente separado para completa a transação, existem possibilidades de erros e falhas de integração em diferentes momentos do fluxo de pagamento.
Durante a integração é importante
Há dois tipos de erro que poderão ocorrer durante o processo de integração com o Checkout Cielo. São eles:</p>

<table>
  <thead>
    <tr>
      <th>Tipo de frete</th>
      <th>Transacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Pré-Tela transacional</strong></td>
      <td>Significa que houve algum dado errado no envio da transação. Dados obrigatórios podem estar faltando ou no formato invalido. Aqui o lojista sempre vai receber um e-mail informando o que deu errado</td>
    </tr>
    <tr>
      <td><strong>Pós-Tela transacional</strong></td>
      <td>Significa que há algum impedimento de cadastro que limita a venda. Coisas como afiliação bloqueada, erro nos dados salvos no cadastro ou até problemas no próprio checkout</td>
    </tr>
  </tbody>
</table>

<p>Caso algum erro ocorra após a finalização da transação, entre em contato com o Suporte Cielo.</p>

<h2 id="fluxos-meios-de-pagamento">Fluxos Meios de pagamento</h2>

<h3 id="cartão-de-crédito">Cartão de Crédito</h3>

<p>O Checkout Cielo permite a utilização de Cartões de Crédito das principais bandeiras nacionais e internacionais. Esse meio de pagamento é liberado automaticamente junto a afiliação de Cielo, podendo ser utilizado inicialmente com a integração Checkout.</p>

<p>Transações de cartão de crédito serão incluídas no <a href="https://developercielo.github.io/tutorial/checkout-tutoriais">Backoffice Cielo Checkout</a> como PENDENTE, AUTORIZADO, PAGO, NEGADO, EXPIRADO OU CHARGEBACK dependendo do resultado da autorização junto ao Banco.</p>

<p><strong>Cartão de Crédito</strong> Ordem de Status:</p>

<table>
  <thead>
    <tr>
      <th>Ordem</th>
      <th>Status</th>
      <th>Explicação</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><strong>PENDENTE</strong></td>
      <td>Status original. A transação está ocorrendo, esperando resposta do processo de autorização</td>
    </tr>
    <tr>
      <td>2</td>
      <td><strong>AUTORIZADO / NEGADO</strong></td>
      <td>Resultado do processo de autorização. <br /><strong>AUTORIZADO</strong> - Crédito foi reservado para a compra <br /> <strong>NEGADO</strong> - Cartão não autorizado pelo emissor a continuar a transação</td>
    </tr>
    <tr>
      <td>3</td>
      <td><strong>PAGO</strong></td>
      <td>Ocorre pós captura. Indica que o crédito reservado no cartão será depositado na conta do lojista</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><strong>EXPIRADO</strong></td>
      <td>Ocorre caso a transação não seja capturada em 15 dias pós autorização. Nessa situação a transação é perdida.</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><strong>CHARGEBACK</strong></td>
      <td>Status não automático. Caso o lojista seja notificado de ChargeBack, ele pode marcar esta transação como perdida.<br /> Este Status é apenas uma marcação, não afetando processos de pagamento</td>
    </tr>
  </tbody>
</table>

<p><strong>Atenção - Cartões Internacionais:</strong> O Checkout Cielo aceita cartões emitidos fora do Brasil, entretanto esses cartões não possuem a capacidade de pagar vendas parceladas. Essa é uma limitação imposta pelo banco emissor.</p>

<p><strong>Atenção - TRANSAÇÕES EXPIRADAS:</strong> Por padrão, lojas Checkout Cielo possuem 15 dias para realizarem a captura da transação de Crédito. Se não capturadas, essas transações serão PERDIDAs.</p>

<h4 id="análise-de-fraude">Análise de Fraude</h4>

<p>Transações de crédito <strong>“AUTORIZADAS”</strong> serão enviadas para análise da ferramenta de antifraude. Todas as transações classificadas como alto risco serão automaticamente canceladas, sem exceção.
O Antifraude possui o conceito de <code class="language-plaintext highlighter-rouge">Status</code> e <code class="language-plaintext highlighter-rouge">SubStatus</code>, onde o primeiro representa o nível de risco que uma transação possui de ser uma fraude, e o segundo, uma informação adicional sobre a transação.
A análise indicará um grau de <strong>RISCO</strong>, especificado pelo <code class="language-plaintext highlighter-rouge">Status</code>, para a venda em questão.</p>

<p>Esse grau de risco é o que deve guiar a decisão do lojista de capturar ou cancelar a venda.</p>

<table>
  <thead>
    <tr>
      <th>Status Antifraude</th>
      <th>Substatus</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Baixo Risco</code></td>
      <td>Baixo Risco</td>
      <td>Baixo risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Médio Risco</code></td>
      <td>Médio Risco</td>
      <td>Médio risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Alto Risco</code></td>
      <td>Alto Risco</td>
      <td>Alto risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Não finalizado</code></td>
      <td>Não finalizado</td>
      <td>Não foi possível finalizar a consulta</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Autenticado</td>
      <td>Transações autenticadas pelo banco - <strong>Não são analisáveis pelo AF</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Não aplicável</td>
      <td>Meio de pagamento não analisável como cartões de débito, boleto e débito online</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Transação de recorrência</td>
      <td>Transação de crédito seja posterior a transação de agendamento. <strong>Somente o Agendamento é analisado</strong></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Transação negada</td>
      <td>Venda a crédito foi negada - <strong>Não são analisáveis pelo AF</strong></td>
    </tr>
  </tbody>
</table>

<p>A analise será apresentada no “Detalhes do Pedido”, como abaixo:</p>

<p><img src="https://developercielo.github.io/images/checkout-cielo-analise-risco.png" alt="Análise de risco" /></p>

<p>Você pode visualizar o status do antifraude acessando o detalhe da compra, na aba Pedidos e clicando no (+)</p>

<p><img src="https://developercielo.github.io/images/checkout-status-antifraude.png" alt="Status Antifraude" /></p>

<h3 id="cartão-de-débito">Cartão de Débito</h3>

<p>O Checkout Cielo permite a utilização de Cartões de débito MasterCard e Visa. Esse meio de pagamento é liberado automaticamente junto a afiliação de Cielo, podendo ser utilizado inicialmente com a integração Checkout.</p>

<p>Bancos Suportados:</p>

<table>
  <thead>
    <tr>
      <th>Mastercard</th>
      <th>Visa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bradesco</td>
      <td>Bradesco</td>
    </tr>
    <tr>
      <td>Banco do Brasil</td>
      <td>Banco do Brasil</td>
    </tr>
    <tr>
      <td>Santander</td>
      <td>Santander</td>
    </tr>
    <tr>
      <td>Itaú</td>
      <td>Itaú</td>
    </tr>
    <tr>
      <td>CitiBank</td>
      <td>CitiBank</td>
    </tr>
    <tr>
      <td>BRB</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Caixa</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>BancooB</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<p>Ao acessar a tela transacional, o comprador obterá pelo pagamento via Cartão de débito, e será redirecionado ao ambiente bancário para Autenticação e Autorização.</p>

<p>Transações de cartão de débito serão incluídas no <a href="https://developercielo.github.io/tutorial/checkout-tutoriais">Backoffice Cielo Checkout</a> como PENDENTE, PAGO, NÃO AUTORIZADO ou NÃO FINALIZADO, dependendo do resultado da autorização junto ao Banco.</p>

<p><strong>Cartão de Débito</strong> - Ordem de Status</p>

<ol>
  <li><strong>Pendente</strong> - Status original. A transação está ocorrendo, esperando resposta do banco para envio do comprador ao ambiente de autenticação</li>
  <li><strong>Não Finalizado</strong> - Status intermediário. Neste ponto o Checkout Cielo espera a confirmação do Banco sobre o status da autenticação e transação. Caso o comprador abandone o ambiente do banco, o status não se altera.</li>
  <li><strong>Pago</strong> - Comprador finalizou o pagamento com o cartão de débito com sucesso.</li>
  <li><strong>Não Autorizado</strong> - O Comprador não apresentava saldo em conta para finalizar a transação.</li>
</ol>

<p><strong>OBS</strong>: A opção <strong>Cancelar</strong> dentro do backoffice, vai modificar o status da transação de PAGO/NÃO PAGO para CANCELADO, mas não terá efeito sobre a movimentação bancária. Caberá ao lojista retornar o valor ao comprador.</p>

<h3 id="pix">Pix</h3>

<p>O Pix é o pagamento instantâneo brasileiro, criado pelo Banco Central (BC), no qual os recursos são transferidos entre contas em poucos segundos, a qualquer hora ou dia (inclusive feriados e finais de semana).</p>

<p>Além de aumentar a velocidade dos pagamentos, o Pix na Cielo oferece diversos benefícios:</p>

<ul>
  <li>Melhora o índice de conversão de vendas;</li>
  <li>Aumenta a segurança nas transações;</li>
  <li>É integrado ao Checkout Cielo, versátil e fácil.</li>
</ul>

<h4 id="como-usar-o-pix-no-checkout-cielo">Como usar o Pix no Checkout Cielo?</h4>

<p>Você deve <strong>habilitar</strong> o meio de pagamento Pix no seu cadastro no <strong>site Cielo</strong> e nas <strong>configurações da sua loja</strong>. Na integração por API não é necessário enviar parâmetros adicionais.</p>

<h4 id="habilitando-o-pix-no-portal-cielo">Habilitando o Pix no portal Cielo</h4>

<p>Para usar o <strong>Pix</strong>, o seu <strong>cadastro deve estar habilitado com o meio de pagamento Pix</strong>. Para confirmar a habilitação, acesse o <a href="https://www.cielo.com.br/" target="_blank">portal Cielo</a>  e clique em <strong>Meu Cadastro</strong> &gt; <strong>Autorizações</strong> &gt; <strong>Pix</strong>.</p>

<p>Caso o Pix não esteja habilitado em seu cadastro, será apresentada a tela de adesão caso o seu estabelecimento (EC) seja elegível; após concluir o processo de adesão do Pix, já será possível usar o Pix no Checkout Cielo.</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/adesao-pix.png" alt="Adesão Pix" /></p>

<h4 id="habilitando-o-pix-nas-configurações-da-loja">Habilitando o Pix nas configurações da loja</h4>

<p>Certifique-se também que o Pix está liberado nas configurações da sua loja. Para isso, acesse <strong>E-commerce</strong> &gt; <strong>Checkout Cielo</strong> &gt; <strong>Acessar</strong> &gt; <strong>Configurações</strong> &gt; <strong>Configurações da Loja</strong>. Ao rolar a página para baixo será apresentado os meios de pagamentos disponíveis em seu cadastro:</p>

<p><img src="https://developercielo.github.io/images/checkout/meiospgto-checkout.png" alt="Adesão Pix" /></p>

<p>Feito isso, o seu e-commerce já poderá receber transações com Pix no Checkout Cielo.</p>

<h3 id="boleto">Boleto</h3>

<p>O Checkout Cielo permite a utilização de Boletos do Bradesco (Carteira 26 e SPS) e Banco do Brasil (Carteira 17).
Esse meio de pagamento precisa ser cadastrado pelo Suporte Cielo para que seja disponibilizado no Backoffice Checkout.</p>

<p>Bancos Suportados:</p>

<table>
  <thead>
    <tr>
      <th>Bancos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bradesco</td>
    </tr>
    <tr>
      <td>Banco do Brasil</td>
    </tr>
  </tbody>
</table>

<p>Ao acessar a tela transacional, o comprador obterá pelo pagamento via Boleto.</p>

<p>Transações de boleto serão incluídas no <a href="https://developercielo.github.io/tutorial/checkout-tutoriais">Backoffice Cielo Checkout</a> como NÃO FINALIZADO ou PAGO.
Diferentemente de outros meios de pagamento, o boleto não possui atualização de Status. Caberá ao Lojista acessar o Backoffice e modificar o status do boleto manualmente.</p>

<p><strong>Boleto</strong> - Ordem de Status</p>

<ol>
  <li><strong>Não Finalizado</strong> - Status inicial. O Boleto é gerado, e ainda é valido. Como o Checkout <strong>não</strong> acessa o ambiente do banco para identificar o pagamento do boleto, esse status continuará efetivo até que o lojista entre no backoffice o atualize.</li>
  <li><strong>Pago</strong> - Comprador finalizou o pagamento com o cartão de débito com sucesso.</li>
</ol>

<p><strong>OBS</strong>: A opção <strong>Cancelar</strong> dentro do backoffice, vai modificar o status da transação de PAGO/NÃO FINALIZADO para CANCELADO, mas não terá efeito sobre a movimentação bancaria. Caberá ao lojista retornar o valor ao comprador</p>

<h1 id="notificações-de-pagamento">Notificações de Pagamento</h1>

<p>O processo de notificação transacional no Checkout Cielo ocorre via a inclusão de uma URL para onde serão direcionados dados das transações realizadas na plataforma.
Vale destacar que o Checkout realiza a notificação somente quando uma transação é considerada finalizada ou seja, o comprador preencheu todos os dados da tela de pagamento e clicou em “Finalizar”.</p>

<h2 id="tipos-de-notificação">Tipos de notificação</h2>

<p>O Checkout Cielo possui dois tipos de notificações que o lojista pode utilizar de acordo com suas necessidades:</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">POST</code></td>
      <td>Notificação onde o lojista é passivo. Dois <code class="language-plaintext highlighter-rouge">POST HTTP</code> são disparados, um informando dados da venda e outra mudança de Status da transação</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">JSON</code></td>
      <td>Notificação onde o lojista realiza uma consulta. Um <code class="language-plaintext highlighter-rouge">POST</code> contendo informações para a realização de uma consulta (<code class="language-plaintext highlighter-rouge">GET</code>) as transações checkout</td>
    </tr>
  </tbody>
</table>

<p>Para utilizar ambos os modelos, o lojista necessitará acessar o Backoffice cielo e configurar tanto a <code class="language-plaintext highlighter-rouge">URL de NOTIFICAÇÃO</code> quando a <code class="language-plaintext highlighter-rouge">URL de MUDANÇA de STATUS</code>.</p>

<h2 id="tipos-de-url-de-notificação">Tipos de URL de Notificação</h2>

<p>O Checkout possui 3 tipos de URL que podem impactar o processo de notificação.</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
      <th>Observação</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">URL de Retorno</code></td>
      <td>Página web na qual o comprador será redirecionado ao fim da compra. <br />Nenhum dado é trocado ou enviado para essa URL.<br /> Essa URL apenas leva o comprador, após finalizar a compra, a uma página definida pela loja.</td>
      <td>Caso o Lojista deseje, ele pode configurar essa página para ser sensibilizada por tráfego, assim identificando que a transação foi finalizada no Checkout Cielo <br /> Pode ser enviada via API - Ver “Integração por API”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">URL de Notificação</code></td>
      <td>Ao finalizar uma transação é enviado um POST HTTP com todos os dados da venda para a URL de Notificação.<br /> O POST de notificação é enviado apenas no momento que a transação é finalizada, independentemente se houve alteração do <strong>status da transação</strong></td>
      <td>Utilizada na Notificação via <code class="language-plaintext highlighter-rouge">POST</code>e <code class="language-plaintext highlighter-rouge">JSON</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">URL de Mudança de Status</code></td>
      <td>Quando um pedido tiver seu status alterado, será enviando um post HTTP para a URL de Mudança de Status.<br /> O POST de mudança de status não contem dados do carrinho, apenas dados de identificação do pedido</td>
      <td>Utilizada somente na Notificação via <code class="language-plaintext highlighter-rouge">POST</code></td>
    </tr>
  </tbody>
</table>

<p><strong>OBS:</strong> Caso uma <code class="language-plaintext highlighter-rouge">URL de retorno</code> seja enviada vai API, ela terá prioridade sobre a URL cadastrada no Backoffice / Na integração Checkout Cielo <code class="language-plaintext highlighter-rouge">via Botão</code>, só é possível usar a opção de URL de retorno via backoffice.</p>

<p><strong>Características das URLs</strong></p>

<p>Todas as 3 URLs devem possuir as seguintes características:</p>

<ul>
  <li>Devem ser URLs estáticas</li>
  <li>Devem possuir menos de 255 caracteres</li>
  <li>Caracteres especiais não são suportados</li>
</ul>

<p><strong>Configurando as URLs</strong></p>

<ol>
  <li>Basta acessar dentro do <strong>Backoffice</strong> as Abas <strong>Configurações</strong></li>
  <li>Em <strong>Configurações da Loja</strong>, Vá a sessão de <strong>Pagamentos</strong></li>
  <li>Cadastre as URLS e escolhe o tipo de Notificação desejado</li>
</ol>

<p><img src="https://developercielo.github.io/images/checkout/urls.png" alt="Cadastro de URLS" /></p>

<h2 id="notificação-post">Notificação: POST</h2>

<p>A notificação via POST é baseada no envio de um <code class="language-plaintext highlighter-rouge">POST HTTP</code> quando uma transação é realizada. Ela é realizada em duas etapas:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">POST de NOTIFICAÇÃO</code> - Ocorre quando a transação é finalizada. Esse POST possui todos os dados do pedido, incluindo o STATUS inicial da transação.</li>
  <li><code class="language-plaintext highlighter-rouge">POST de MUDANÇA DE STATUS</code> - Ocorre quando uma transação possui seu STATUS alterado - <strong>EX:</strong> “Autorizado” &gt; &gt; &gt; “Pago”</li>
</ol>

<p>Este fluxo é utilizado por lojas que ainda não realizam transações via API.</p>

<p>Abaixo o Fluxo de uma Notificação POST</p>

<p><img src="https://developercielo.github.io/images/checkout/npost.png" alt="Fluxo N.POST" /></p>

<p><strong>Retorno aguardado para o envio da notificação:</strong> <code class="language-plaintext highlighter-rouge">HttpStatus = 200 (OK)</code> - Post recebido e processado com sucesso</p>

<p><strong>IMPORTANTE</strong> Se a <code class="language-plaintext highlighter-rouge">URL de Notificação</code> cadastrada retornar algum erro/estiver indisponível, serão realizadas *<em>3 novas tentativas, com intervalo de 1 hora entre cada POST</em>.</p>

<p>Caso o POST não seja recebido, é possível reenvia-lo manualmente, basta acessar o pedido em questão pelo Backoffice e clicar no Ícone de envio:</p>

<p><img src="https://developercielo.github.io/images/checkout/reenvipost.png" alt="Reenvio de notificação" /></p>

<p>Veja a descrição dos itens de notificação na sessão <strong>“Conteúdo do POST de NOTIFICAÇÃO”</strong></p>

<h2 id="notificação-json">Notificação: JSON</h2>

<p>A notificação vai JSON é um método mais seguro e flexível para o lojista de realizar uma consulta no Chekcout Cielo.
Essa modalidade de notificação é baseada em um <code class="language-plaintext highlighter-rouge">POST JSON</code>, onde o lojista recebe credenciais para que uma consulta (<code class="language-plaintext highlighter-rouge">GET</code>) possa ser realizado junto a base de dados Checkout Cielo.</p>

<p>Ela é realizada em duas etapas:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">POST de NOTIFICAÇÃO</code> - Ocorre quando a transação é finalizada. Possui as Credenciais necessárias consultas transacionais.</li>
  <li><code class="language-plaintext highlighter-rouge">CONSULTA TRANSACIONAL</code> - Com as credenciais de consulta, o lojista busca dados da venda junto ao Checkout Cielo</li>
</ol>

<p>Na Notificação de JSON, não há diferença entre o <code class="language-plaintext highlighter-rouge">POST de Notificação</code> e <code class="language-plaintext highlighter-rouge">Mudança de Status</code>. Sempre que algo ocorrer na transação, o lojista receberá um <code class="language-plaintext highlighter-rouge">POST de Notificação</code></p>

<p>Abaixo o Fluxo de uma Notificação JSON (Criação da transação + Mudança de status)</p>

<p><img src="https://developercielo.github.io/images/checkout/njson.png" alt="Fluxo N.JSON" /></p>

<p><strong>Conteúdo do POST de NOTIFICAÇÃO JSON:</strong></p>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo do Campo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">URL</code></td>
      <td>URL com os dados necessários para realizar a busca dos dados da transação.</td>
      <td>String</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja no Checkout Cielo; consta no Backoffice no menu Configuração/Dados Cadastrais.</td>
      <td>Alfanumérico (GUID)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderNumber</code></td>
      <td>Número do pedido da loja; se não for enviado, o Checkout Cielo gerará um número, que será visualizado pelo Consumidor.</td>
      <td>Alfanumérico</td>
    </tr>
  </tbody>
</table>

<p><strong>Exemplo de uma consulta:</strong></p>

<p><strong>REQUEST</strong></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET https://cieloecommerce.cielo.com.br/api/public/v1/orders/<span class="o">{</span>merchantId<span class="o">}</span>/<span class="o">{</span>merchantOrderNumber<span class="o">}</span><span class="s2">"
--header "</span>Content-Type: application/json<span class="s2">"
--header "</span>MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx<span class="s2">"
--data-binary
--verbose
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<p><strong>RESPONSE</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="nl">"discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"checkout_cielo_order_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65930e7460bd4a849502ed14d7be6c03"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-09-2017 14:38:56"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Test"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21987654321"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer_identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"84261300206"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@cielo.com.br"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Motoboy"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21911130"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Freguesia"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Cambui"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apto 201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"shipping_address_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_method_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_method_brand"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_maskedcreditcard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"471612******7044"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payment_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480686J51OH8BPB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"test_transaction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Veja a descrição dos itens de notificação na sessão <strong>“Conteúdo do POST de NOTIFICAÇÃO”</strong></p>

<p><strong>Retorno aguardado para o envio da notificação:</strong> <code class="language-plaintext highlighter-rouge">HttpStatus = 200 (OK)</code> - Post recebido e processado com sucesso</p>

<p><strong>IMPORTANTE</strong> Se a <code class="language-plaintext highlighter-rouge">URL de Notificação</code> cadastrada retornar algum erro/estiver indisponível, serão realizadas *<em>3 novas tentativas, com intervalo de 1 hora entre cada POST</em>.</p>

<p>Caso o POST não seja recebido, é possível reenvia-lo manualmente, basta acessar o pedido em questão pelo Backoffice e clicar no Ícone de envio:</p>

<p><img src="https://developercielo.github.io/images/checkout/reenvipost.png" alt="Reenvio de notificação" /></p>

<h2 id="conteúdo-da-notificação">Conteúdo da Notificação</h2>

<p>Tanto na Notificação via POST HTTP ou POST JSON, o conteúdo dos dados retornados é o mesmo.
Abaixo são descritos todos os campos retornados, assim como suas definições e tamanhos:</p>

<h3 id="conteúdo-do-post-de-notificaÇÃo">Conteúdo do POST de NOTIFICAÇÃO</h3>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo do campo</th>
      <th>Tamanho máximo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code></td>
      <td>Identificador único gerado pelo CHECKOUT CIELO</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>Preço unitário do produto, em centavos (ex: R$ 1,00 = 100)</td>
      <td>Numérico</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">order_number</code></td>
      <td>Número do pedido enviado pela loja</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">created_date</code></td>
      <td>Data da criação do pedido - <code class="language-plaintext highlighter-rouge">dd-MM-yyyy HH:mm:ss</code></td>
      <td>Alfanumérico</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">customer_name</code></td>
      <td>Nome do consumidor. Se enviado, esse valor já vem preenchido na tela do CHECKOUT CIELO</td>
      <td>Alfanumérico</td>
      <td>289</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">customer_identity</code></td>
      <td>Identificação do consumidor (CPF ou CNPJ) Se enviado, esse valor já vem preenchido na tela do CHECKOUT CIELO</td>
      <td>Alfanumérico</td>
      <td>14</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">customer_email</code></td>
      <td>E-mail do consumidor. Se enviado, esse valor já vem preenchido na tela do CHECKOUT CIELO</td>
      <td>Alfanumérico</td>
      <td>64</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">customer_phone</code></td>
      <td>Telefone do consumidor. Se enviado, esse valor já vem preenchido na tela do CHECKOUT CIELO</td>
      <td>Numérico</td>
      <td>11</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">discount_amount</code></td>
      <td>Valor do desconto fornecido (enviado somente se houver desconto)</td>
      <td>Numérico</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_type</code></td>
      <td>Modalidade de frete</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_name</code></td>
      <td>Nome do frete</td>
      <td>Alfanumérico</td>
      <td>128</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_price</code></td>
      <td>Valor do serviço de frete, em centavos (ex: R$ 10,00 = 1000)</td>
      <td>Numérico</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_zipcode</code></td>
      <td>CEP do endereço de entrega</td>
      <td>Numérico</td>
      <td>8</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_district</code></td>
      <td>Bairro do endereço de entrega</td>
      <td>Texto</td>
      <td>64</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_city</code></td>
      <td>Cidade do endereço de entrega</td>
      <td>Alfanumérico</td>
      <td>64</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_state</code></td>
      <td>Estado de endereço de entrega</td>
      <td>Alfanumérico</td>
      <td>64</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_line1</code></td>
      <td>Endereço de entrega</td>
      <td>Alfanumérico</td>
      <td>256</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_line2</code></td>
      <td>Complemento do endereço de entrega</td>
      <td>Alfanumérico</td>
      <td>14</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping_address_number</code></td>
      <td>Número do endereço de entrega</td>
      <td>Numérico</td>
      <td>8</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_method_type</code></td>
      <td>Cód. do tipo de meio de pagamento</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_method_brand</code></td>
      <td>Bandeira (somente para transações com meio de pagamento cartão de crédito)</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_method_bank</code></td>
      <td>Banco emissor (Para transações de Boleto e Débito Automático)</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_maskedcreditcard</code></td>
      <td>Cartão Mascarado (Somente para transações com meio de pagamento cartão de crédito)</td>
      <td>Alfanumérico</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_installments</code></td>
      <td>Número de parcelas</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_antifrauderesult</code></td>
      <td>Status das transações de cartão de Crédito no Antifraude</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_boletonumber</code></td>
      <td>número do boleto gerado</td>
      <td>String</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_boletoexpirationdate</code></td>
      <td>Data de vencimento para transações realizadas com boleto bancário</td>
      <td>Numérico</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_status</code></td>
      <td>Status da transação</td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">tid</code></td>
      <td>TID Cielo gerado no momento da autorização da transação</td>
      <td>Alfanumérico</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">test_transaction</code></td>
      <td>Indica se a transação foi gerada com o <code class="language-plaintext highlighter-rouge">Modo de teste</code> ativado</td>
      <td>Boolean</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_id</code></td>
      <td>Identificador do Botão/Link de pagamento que gerou a transação</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_type</code></td>
      <td>Tipo de Botão que gerou o pedido (Ver tabela de ProductID)</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_sku</code></td>
      <td>Identificador do produto cadastro no link de pagamento</td>
      <td>texto</td>
      <td>16</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_max_number_of_installments</code></td>
      <td>Numero de parcelas liberado pelo lojistas para o link de pagamento</td>
      <td>Numérico</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_expiration_date</code></td>
      <td>Data de validade do botão/Link de pagamento</td>
      <td>Alfanumérico</td>
      <td>12</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_quantity</code></td>
      <td>Numero de transações restantes até que o link deixe de funcionar</td>
      <td>Alfanumérico</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">product_description</code></td>
      <td>Descrição do link de pagamentos registrada pelo lojista</td>
      <td>texto</td>
      <td>256</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">nsu</code></td>
      <td>NSU - Número sequencial único da transação.</td>
      <td>Alfanumérico</td>
      <td>6</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">authorization_code</code></td>
      <td>Código de autorização.</td>
      <td>Alfanumérico</td>
      <td>8</td>
    </tr>
  </tbody>
</table>

<h3 id="tipos-de-productid">Tipos de productID</h3>

<table>
  <thead>
    <tr>
      <th>Tipo de Link de pagamento</th>
      <th>Enun</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Material físico</td>
      <td>1</td>
    </tr>
    <tr>
      <td>Digital</td>
      <td>2</td>
    </tr>
    <tr>
      <td>Serviço</td>
      <td>3</td>
    </tr>
    <tr>
      <td>Pagamento</td>
      <td>4</td>
    </tr>
    <tr>
      <td>Recorrência</td>
      <td>5</td>
    </tr>
  </tbody>
</table>

<h3 id="payment_status">Payment_status</h3>

<p>O Checkout possui um Status próprios, diferente do SITE CIELO ou da API Cielo ecommerce. Veja abaixo a lista completa.</p>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Status de transação</th>
      <th>Transaction Status</th>
      <th>Meios de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">Pendente</code></td>
      <td>Pending</td>
      <td>Para todos os meios de pagamento</td>
      <td>Indica que o pagamento ainda está sendo processado; OBS: Boleto - Indica que o boleto não teve o status alterado pelo lojista</td>
    </tr>
    <tr>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">Pago</code></td>
      <td>Paid</td>
      <td>Para todos os meios de pagamento</td>
      <td>Transação capturada e o dinheiro será depositado em conta.</td>
    </tr>
    <tr>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">Negado</code></td>
      <td>Denied</td>
      <td>Somente para Cartão Crédito</td>
      <td>Transação não autorizada pelo responsável do meio de pagamento</td>
    </tr>
    <tr>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">Expirado</code></td>
      <td>Expired</td>
      <td>Cartões de Crédito e Boleto</td>
      <td>Transação deixa de ser válida para captura - <strong>15 dias pós Autorização</strong></td>
    </tr>
    <tr>
      <td>5</td>
      <td><code class="language-plaintext highlighter-rouge">Cancelado</code></td>
      <td>Voided</td>
      <td>Para cartões de crédito</td>
      <td>Transação foi cancelada pelo lojista</td>
    </tr>
    <tr>
      <td>6</td>
      <td><code class="language-plaintext highlighter-rouge">Não Finalizado</code></td>
      <td>NotFinalized</td>
      <td>Todos os meios de pagamento</td>
      <td>Pagamento esperando Status - Pode indicar erro ou falha de processamento. Entre em contato com o Suporte Cielo</td>
    </tr>
    <tr>
      <td>7</td>
      <td><code class="language-plaintext highlighter-rouge">Autorizado</code></td>
      <td>Authorized</td>
      <td>somente para Cartão de Crédito</td>
      <td>Transação autorizada pelo emissor do cartão. Deve ser capturada para que o dinheiro seja depositado em conta</td>
    </tr>
    <tr>
      <td>8</td>
      <td><code class="language-plaintext highlighter-rouge">Chargeback</code></td>
      <td>Chargeback</td>
      <td>somente para Cartão de Crédito</td>
      <td>Transação cancelada pelo consumidor junto ao emissor do cartão. O Dinheiro não será depositado em conta.</td>
    </tr>
  </tbody>
</table>

<p>Obs: Para consultas de pedido, o campo payment.status será retornado no formato texto, sempre em inglês (coluna Transaction Status).</p>

<h3 id="payment_antifrauderesult">Payment_antifrauderesult</h3>

<p>O Antifraude possui o conceito de <code class="language-plaintext highlighter-rouge">Status</code> e <code class="language-plaintext highlighter-rouge">SubStatus</code>, onde o primeiro representa o nível de risco que uma transação possui de ser uma fraude, e o segundo, uma informação adicional sobre a transação.</p>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Status Antifraude</th>
      <th>Substatus</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">Baixo Risco</code></td>
      <td>Baixo Risco</td>
      <td>Baixo risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">Médio Risco</code></td>
      <td>Médio Risco</td>
      <td>Médio risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">Alto Risco</code></td>
      <td>Alto Risco</td>
      <td>Alto risco de ser uma transação fraudulenta</td>
    </tr>
    <tr>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">Não finalizado</code></td>
      <td>Não finalizado</td>
      <td>Não foi possível finalizar a consulta</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Autenticado</td>
      <td>Transações autenticadas pelo banco - <strong>Não são analisáveis pelo AF</strong></td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Não aplicável</td>
      <td>Meio de pagamento não analisável como cartões de débito, boleto e débito online</td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Transação de recorrência</td>
      <td>Transação de crédito seja posterior a transação de agendamento. <strong>Somente o Agendamento é analisado</strong></td>
    </tr>
    <tr>
      <td>N/A</td>
      <td><code class="language-plaintext highlighter-rouge">N/A</code></td>
      <td>Transação negada</td>
      <td>Venda a crédito foi negada - <strong>Não são analisáveis pelo AF</strong></td>
    </tr>
  </tbody>
</table>

<h3 id="payment_method_type">Payment_method_type</h3>

<p>O Checkout permite apenas um tipo de <code class="language-plaintext highlighter-rouge">Boleto</code> ou <code class="language-plaintext highlighter-rouge">Débito Online</code> por lojista, sendo assim não é retornado se o método usado foi Bradesco ou Banco do Brasil, pois apenas um deles estará ativado na afiliação.</p>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Descrição</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Cartão de Crédito</td>
      <td>CreditCard</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Boleto Bancário</td>
      <td>Boleto</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Débito Online</td>
      <td>OnlineDebit</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Cartão de Débito</td>
      <td>DebitCard</td>
    </tr>
    <tr>
      <td>5</td>
      <td>QR Code</td>
      <td>QrCode</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Pix</td>
      <td>Pix</td>
    </tr>
  </tbody>
</table>

<p>OBS: Para consultas o Type é retornado no campo Payment.Type e vem preenchida com o valor literal (Description)</p>

<h3 id="payment_method_brand">Payment_method_brand</h3>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Visa</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Master</td>
    </tr>
    <tr>
      <td>3</td>
      <td>AmericanExpress</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Diners</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Elo</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Aura</td>
    </tr>
    <tr>
      <td>7</td>
      <td>JCB</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Discover</td>
    </tr>
    <tr>
      <td>9</td>
      <td>HiperCard</td>
    </tr>
  </tbody>
</table>

<p>OBS: Para consultas a Brand é retornado no campo Payment.Brand e vem preenchida com o valor literal.</p>

<h3 id="payment_method_bank">Payment_method_bank</h3>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Banco do Brasil</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Bradesco</td>
    </tr>
  </tbody>
</table>

<h3 id="shipping_type">Shipping_type</h3>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Correios</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Frete fixo</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Frete grátis</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Retirar em mãos/loja</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Sem cobrança de frete (serviços ou produtos digitais)</td>
    </tr>
  </tbody>
</table>

<h3 id="mudança-de-status">Mudança de status</h3>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Tipo do Campo</th>
      <th>Tamanho Máximo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">checkout_cielo_order_number</code></td>
      <td>Identificador único gerado pelo CHECKOUT CIELO</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">amount</code></td>
      <td>Preço unitário do produto, em centavos (ex: R$ 1,00 = 100)</td>
      <td>Numérico</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">order_number</code></td>
      <td>Número do pedido enviado pela loja</td>
      <td>Alfanumérico</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_method_brand</code></td>
      <td>Bandeira- somente para transações com meio de pagamento cartão de crédito.<a href="https://developercielo.github.io/manual/checkout-cielo#payment_method_brand">Lista Completa</a></td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">payment_status</code></td>
      <td>Status da transação.<a href="https://developercielo.github.io/manual/checkout-cielo#payment_status">Lista Completa</a></td>
      <td>Numérico</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">test_transaction</code></td>
      <td>Indica se a transação foi gerada com o Modo de teste ativado</td>
      <td>Boolean</td>
      <td>32</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">nsu</code></td>
      <td>NSU - Número sequencial único da transação.</td>
      <td>Alfanumérico</td>
      <td>6</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">authorization_code</code></td>
      <td>Código de autorização.</td>
      <td>Alfanumérico</td>
      <td>8</td>
    </tr>
  </tbody>
</table>

<h1 id="parcelamentos-do-checkout-cielo">Parcelamentos do Checkout Cielo</h1>

<h2 id="tipo-de-parcelamento">Tipo de Parcelamento</h2>

<p>O Checkout Cielo permite que o lojista realize transações de crédito parceladas em até 12 vezes.
Existem dois métodos de parcelamento:</p>

<ul>
  <li><strong>Parcelamento via backoffice</strong> - é o método padrão de parcelamento do Checkout. Cada bandeira possui uma configuração de parcelamento até 12X. O Valor do Carrinho (Produtos + Frete) é dividido igualmente pelo número de parcelas.</li>
  <li><strong>Parcelamento via API</strong> - O Lojista limita o número de parcelas a serem apresentadas no backoffice</li>
</ul>

<p><strong>OBS:</strong> O Checkout é limitado a parcelamentos de 12X, mesmo que sua afiliação Cielo suporte valores superiores. Caso o valor apresentando em seu backoffice seja menor que 12, entre em contato com o Suporte Cielo e verifique a configuração de sua Afiliação.</p>

<h2 id="parcelamento-via-backoffice">Parcelamento via backoffice</h2>

<p>Neste modo, o lojista controla o limite máximo de parcelas que a loja realizará pelo Backoffice Checkout. O Valor das parcelas é definido acessando a aba <strong>Configurações</strong> e alterando a sessão <strong>Pagamentos</strong></p>

<p><img src="https://developercielo.github.io/images/checkout/parcelamento.png" alt="Seleção de Parcelas" /></p>

<p><strong>OBS:</strong> O Check Box deve estar marcado para que o meio de pagamento seja exibido na tela transacional.</p>

<p><strong>Características</strong></p>

<ul>
  <li>Disponível nas integrações do Checkout Cielo via API ou Botão;</li>
  <li>O valor total dos itens do carrinho é somado e dividido pela quantidade de parcelas do lojista;</li>
  <li>O valor da compra é sempre o mesmo, independentemente da quantidade de parcelas escolhida pelo comprador (Não há cobrança de Juros);</li>
  <li>O valor do frete é somado ao valor do parcelamento;</li>
  <li>A opção “à vista” sempre está disponível ao comprador.</li>
  <li>Todas as transações possuirão as mesmas opções de parcelamento.</li>
</ul>

<h2 id="parcelamento-via-api">Parcelamento via API</h2>

<p>Nesta opção, o lojista pode configurar a quantidade de parcelas por venda, especificado via request da API no momento de envio da transação.
O Checkout realiza o cálculo das parcelas considerando valor total e limite parcelas enviadas via API.</p>

<p><strong>ATENÇÃO:</strong> Nesta opção de parcelamento, o número de parcelas desejadas deve ser inferior a quantidade que está cadastrada no backoffice Checkout.</p>

<p><strong>Características</strong></p>

<ul>
  <li>O lojista envia a quantidade máxima de parcelas que deseja exibir ao comprador.</li>
  <li>O valor do frete é somado ao valor do parcelamento.</li>
</ul>

<p>O Parcelamento via API é realizado enviando o campo <code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code> dentro do nó Payment. Isso forçará o Checkout a recalcular o valor do parcelamento.
Abaixo, um exemplo do Nó</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"MaxNumberOfInstallments"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MaxNumberOfInstallments</code></td>
      <td>Numeric</td>
      <td>Condicional</td>
      <td>2</td>
      <td>Define valor máximo de parcelas apresentadas no transacional, ignorando configuração do Backoffice</td>
    </tr>
  </tbody>
</table>

<h1 id="recorrência-do-checkout-cielo">Recorrência do Checkout Cielo</h1>

<p>A Recorrência é um processo de agendamento automático de transações de crédito, ou seja, é uma transação que se repetirá automaticamente, sem a necessidade do comprador acessar a tela transacional, de acordo com as regras definidas no momento do agendamento.</p>

<aside class="notice">Caso uma das transações não seja autorizada, o Checkout Cielo executa a retentativa automaticamente; para mais detalhes sobre a retentativa automática, veja a seção Retentativa.</aside>

<p>Transações recorrentes são ideais para modelos de negócios que envolvam o <strong>conceito de assinatura, plano ou mensalidade</strong> na sua forma de <strong>cobrança</strong>.
Alguns exemplos de negócios são:</p>

<ul>
  <li>Escolas</li>
  <li>Academias</li>
  <li>Editoras</li>
  <li>Serviços de hospedagem</li>
</ul>

<p><strong>Diferença entre transações recorrentes e parceladas:</strong></p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Parceladas</strong></td>
      <td>Se trata de <strong>uma transação dividida em vários meses</strong>. <br />O valor total da venda compromete o limite do cartão de crédito do comprador independentemente do valor da parcela inicial.<br /> O lojista recebe o valor da venda parceladamente e não corre o risco de uma das parcelas ser negada.<br /> <strong>EX</strong>: Venda de R$1.000,00 parcelado em 2 vezes. Apesar de o comprador pagar apenas R$500,00 na primeira parcela, o valor do limite de crédito consumido é o integral, ou seja, R$1.000,00. Se o limite do cartão for inferior ou o montante não estiver liberado, a R$1.000,00 a transação será negada</td>
    </tr>
    <tr>
      <td><strong>Recorrentes</strong></td>
      <td>São <strong>transações diferentes realizadas no mesmo cartão em momentos previamente agendados</strong>.<br /> A primeira venda agenda as futuras vendas a partir de um intervalo de tempo pré definido.<br /> A cada intervalo haverá uma cobrança no cartão de crédito. <br /> O pagamento recorrente bloqueia do limite do cartão apenas o valor debitado na data da primeira venda recorrente e do valor total da venda.<br /> <strong>EX</strong>: Venda de R$ 1.000,00 em 15/01/2015, com recorrência mensal e data final em 01/06/2015. Todo dia 15 haverá uma nova cobrança de R$1.000,00 no cartão do comprador, se repetindo até 15/05/2015, última data válida antes da data final.</td>
    </tr>
  </tbody>
</table>

<h2 id="recorrência-por-api">Recorrência por API</h2>

<p>Uma transação de recorrência no Checkout Cielo possui duas configurações: <code class="language-plaintext highlighter-rouge">Intervalo</code> e <code class="language-plaintext highlighter-rouge">Data de encerramento</code>.</p>

<ul>
  <li><strong>Intervalo</strong> – padrão de repetição e intervalo de tempo entre cada transação. Esse intervalo temporal entre as transações podem ser: Mensal, Bimestral, Trimestral, Semestral e Anual.</li>
  <li><strong>Data de encerramento</strong> – Data que o processo de recorrência deixa de ocorrer.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Payment.RecurrentPayment</strong></p>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Obrigatório</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Alphanumeric</td>
      <td>Sim</td>
      <td>10</td>
      <td>Intervalo entre cada transação da recorrência</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>YYYY-MM-DD</td>
      <td>Não</td>
      <td>255</td>
      <td>Data onde a Recorrência se encerrará; Se não enviado a recorrência se encerra somente se cancelada</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Intervalo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Monthly</code></td>
      <td>Mensal</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Bimonthly</code></td>
      <td>Bimestral</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Quarterly</code></td>
      <td>Trimestral</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SemiAnnual</code></td>
      <td>Semestral</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Annual</code></td>
      <td>Anual</td>
    </tr>
  </tbody>
</table>

<p>Os dados do cartão de crédito do comprador ficam armazenados de forma segura dentro do Checkout Cielo, permitindo sua reutilização em uma transação recorrente. Esses dados não são acessados pelo lojista e essa inteligência é controlada pelo Checkout Cielo.</p>

<p>Exceto o objeto <code class="language-plaintext highlighter-rouge">Payment</code> que contém um novo elemento específico para a recorrência chamado <code class="language-plaintext highlighter-rouge">RecurrentPayment</code>, todos os outros objetos são iguais à integração com o Carrinho.</p>

<h3 id="request">Request</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome que aparecerá na fatura"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do produto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Descrição do produto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asset"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sku do item no carrinho"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Correios"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SourceZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14400000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TargetZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Endereço de entrega"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bairro da entrega"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cidade de entrega"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Serviço de frete"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Deadline"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BoletoDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="mi">11111111111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano Comprador da Silva"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fulano@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11999999999"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Exemplo</strong>: Bem Físico</p>

<p>Se o tipo de produto for <code class="language-plaintext highlighter-rouge">Bem Físico</code>, a <strong>API obriga o envio do tipo de frete</strong>.
Se no contrato técnico existir o nó da recorrência, fica obrigatório o tipo <code class="language-plaintext highlighter-rouge">WithoutShipping</code>, caso contrário, a seguinte resposta será apresentada:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The request is invalid."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"modelState"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"[Shipping.Type]"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"[Shipping.Type] pedidos com recorrência devem possuir o Shipping.Type 'WithoutShipping'."</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>IMPORTANTE:</strong> A Recorrência é criada apenas se a transação for <strong>AUTORIZADA</strong>. Independente de captura ou não, uma vez autorizada, o processo de recorrência se inicia.</p>

<h2 id="recorrência-por-botão">Recorrência por Botão</h2>

<p>Uma maneira de realizar a recorrência dentro do Checkout é criar um botão recorrente.</p>

<p>Basta cadastrar o produto, incluindo um intervalo de cobrança e uma data para encerramento (Opcional), como no exemplo abaixo:</p>

<p><img src="https://developercielo.github.io/images/checkout-botao-recorrencia.png" alt="Botão recorrência" /></p>

<p><strong>ATENÇÃO:</strong> Caso um botão seja utilizado após a “Data final” cadastrada, a transação apresentará um erro exibindo <strong>Oppss</strong> na tela transacional. A Data pode ser editada na tela de edição do botão dentro de “Detalhes do Produto”</p>

<h2 id="retentativa-de-recorrências">Retentativa de Recorrências</h2>

<p>Caso uma das transações da recorrência não seja autorizada, o Checkout Cielo executa a retentativa automaticamente, o envio de uma nova transação, considerando:</p>

<ul>
  <li><strong>Intervalo de tempo entre as tentativas:</strong> 4 dias</li>
  <li><strong>Quantidade de retentativas:</strong> 4 (quatro), uma por dia, por 4 dias corridos a partir do dia seguinte da transação original não autorizada.</li>
</ul>

<p><strong>OBS</strong>: Esse processo visa manter obter uma resposta positiva do processo de autorização, impedindo o lojista de perder a venda. O Processo de retentativa gera pedidos duplicados dentro do Backoffice, pois o pedido original, negado, será apresentado na lista de Pedidos, junto com a nova transação autorizada</p>

<p><strong>ATENÇÃO:</strong> A regra da retentativa não pode ser modificada pelo lojista.</p>

<h2 id="consultando-transações">Consultando transações</h2>

<p>As transações de Recorrência ficam disponíveis no Backoffice Checkout Cielo como as outras vendas de sua loja na aba “PEDIDOS” (veja imagem abaixo).</p>

<p>A primeira transação da recorrência é uma transação normal, seguindo as regras e preferências definidas pelo lojista no Backoffice.</p>

<p><strong>ATENÇÃO:</strong> O valor e data de cobrança das transações recorrentes serão sempre os mesmos da transação inicial. O agendamento passa a funcionar automaticamente a partir da data em que a primeira transação for autorizada.</p>

<p><img src="https://developercielo.github.io/images/checkout-consulta-recorrencia.png" alt="Consultando transações" /></p>

<p>Esta tela mostra a data que a 1° transação da recorrência foi autorizada e deverá ser capturada manualmente. <strong>As demais transações da recorrência sempre serão capturadas automaticamente</strong>, independente se primeira transação foi capturada ou cancelada. Se o Cliente tiver configurado Captura automática, a captura da recorrência também será automática.</p>

<p><strong>ATENÇÃO:</strong> Somente a 1° transação é submetida a análise do antifraude</p>

<h2 id="cancelamento-de-recorrência-no-checkout-cielo">Cancelamento de Recorrência no Checkout Cielo</h2>

<p>O cancelamento da recorrência ocorre dentro do Backoffice do Checkout Cielo, também na aba “PEDIDOS”. Basta:</p>

<ol>
  <li>Acessar uma transação de recorrência (marcada com o símbolo “Recorrente”)</li>
  <li>Entrar em Detalhes (o símbolo de “+”)</li>
</ol>

<p><img src="https://developercielo.github.io/images/checkout-cancelar-recorrencia.png" alt="Pedido de recorrência" /></p>

<p><img src="https://developercielo.github.io/images/checkout/pedidoreccance.png" alt="Cancelamento de recorrência" /></p>

<p>Tela de detalhes da Recorrência</p>

<p>Na tela acima, há duas opções de Cancelamento pelos botões:</p>

<ul>
  <li><strong>Cancelar</strong> – Cancela a transação, sem efetuar o cancelamento das futuras transações de recorrência.</li>
  <li><strong>Cancelar Recorrência</strong> - Cancela o agendamento de futuras transações, encerrando a recorrência. Não cancela a transação atual nem as que já ocorreram. Essas necessitam ser canceladas manualmente.</li>
</ul>

<p><strong>ATENÇÃO:</strong></p>

<ul>
  <li>A Recorrência ocorre somente para Cartões de crédito e para produtos tipo “SERVIÇO” e “BENS DIGITAIS”.</li>
  <li>A Recorrência é iniciada no momento da AUTORIZAÇAO, NÃO NA CAPTURA. Se a recorrência não tiver uma data para ser finalizada, ela se repetirá automaticamente até ser cancelada manualmente.</li>
  <li>Sua afiliação Cielo deve ser habilitada para transacionar sem CVV ou Em recorrência, do contrário, todas as transações recorrentes serão negadas.</li>
</ul>

<h2 id="edição-da-recorrência">Edição da Recorrência</h2>

<p>O Checkout Cielo permite que o lojista modifique 3 dados da recorrência:</p>

<ul>
  <li><strong>Ativação</strong> - Uma recorrência pode ser ativada ou cancelada.</li>
  <li><strong>Intervalo</strong> - É possivel modificar o intervalo de execução.</li>
  <li><strong>Dia de ocorrência</strong> - É possivel modificar o dia de execução da transação recorrente.</li>
</ul>

<p>A atualização é feita exclusivamente via o Backoffice Cielo. Acesso o <a href="https://developercielo.github.io/tutorial/checkout-tutoriais"><strong>Tutorial do Backoffice Checkout Cielo</strong></a> para mais informações.</p>

<h1 id="programa-de-retentativa-das-bandeiras">Programa de Retentativa das Bandeiras</h1>

<p>Quando uma pessoa tenta fazer uma compra com cartão no e-commerce a transação pode ser negada devido a uma série de fatores. As <strong>tentativas seguintes de concluir a transação</strong> usando o <strong>mesmo cartão</strong> são o que chamamos de <strong>retentativa</strong>.</p>

<p><strong>Como funciona?</strong></p>

<p>As transações negadas são classificadas como:</p>

<ul>
  <li><strong>Irreversíveis</strong>: quando a retentativa não é permitida;</li>
  <li><strong>Reversíveis</strong>: quando a retentativa é permitida mediante as regras de cada bandeira.</li>
</ul>

<p><br />
As retentativas podem ser cobradas pela bandeira e a quantidade de vezes que uma transação pode ser retentada antes da cobrança também varia de acordo com a bandeira.</p>

<blockquote>
  <p>Para ver as regras de retentativa de cada bandeira, acesse o manual <a href="https://developercielo.github.io/tutorial/programa-retentativa-bandeiras" target="_blank">Programa de Retentativa das Bandeiras</a>.</p>
</blockquote>

<h1 id="códigos-de-retorno-abecs">Códigos de retorno ABECS</h1>

<p>A Associação Brasileira das Empresas de Cartão de Crédito e Serviços (ABECS) é responsável pela padronização do <strong>código de retorno das autorizações de vendas negadas</strong> tanto para as soluções pagamento do mundo físico quanto de e-commerce do mercado brasileiro.</p>

<blockquote>
  <p>Para ver a relação completa dos códigos de retorno das transações negadas, acesse a tabela <a href="https://developercielo.github.io/tutorial/abecs-e-outros-codigos" target="_blank">Códigos de retorno ABECS</a>.</p>
</blockquote>

<h1 id="suporte-cielo">Suporte Cielo</h1>

<p>Após a leitura deste manual, caso ainda persistam dúvidas (técnicas ou não), a Cielo disponibiliza o suporte técnico 24 horas por dia, 7 dias por semana em idiomas (Português e Inglês), nos seguintes contatos:</p>

<ul>
  <li>+55 4002-5472 – <em>Capitais e Regiões Metropolitanas</em></li>
  <li>+55 0800 570 8472 – <em>Demais Localidades</em></li>
  <li>+55 11 2860-1348 – <em>Internacionais</em></li>
  <li>Opção 5 – <em>Suporte E-commerce;</em></li>
  <li>E-mail: <a href="mailto:cieloecommerce@cielo.com.br">cieloecommerce@cielo.com.br</a></li>
</ul>
</div>


            <div class="footer-conteudo">
  <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
    <img
      src="https://developercielo.github.io/assets/images/icon-doubt.svg"
      width="55px"
      height="53px"
      alt="Precisa de ajuda?"
    />
  </div>

  <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
    <h2>Precisa de ajuda?</h2>
    <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
  </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a
        title="Comutar a coluna da esquerda"
        class="hamburger"
      >
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img
          src="https://developercielo.github.io/assets/images/logo.png"
          alt="Documentações e tutoriais"
          style="width: 60%; margin-left: 20%"
        />
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
      
      <div class="toc-footer">
        <h2 class="no-toc toc-footer-title">Materiais complementares</h2>
           

        <ul class="toc-footer">
              
          <li>
            <a
              href="https://developercielo.github.io/tutorial/checkout-tutoriais"
              
              >Tutoriais</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/manual/controletransacional4"
              title="Integração técnica via API"
              
              >API de Controle Transacional</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/faq/checkout-faq"
              title="Respostas para dúvidas comuns sobre o Checkout"
              
              >FAQ</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/tutorial/postman"
              title="O Postman é um API Client que facilita aos desenvolvedores criar, compartilhar, testar e documentar APIs."
              
              >Postman Cielo</a
            >
          </li>
             
        </ul>
      </div>
      

      <div class="toc-contact">
        <div class="contact">
          <a
            title="Contato"
            href="https://devcielo.zendesk.com/"
          >
            <i class="fa fa-envelope-o" aria-hidden="true"></i>
            <span>Contato</span>
          </a>
        </div>
        <div class="github">
          <a title="GitHub" href="https://github.com/developercielo">
            <i class="fa fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        
        <script>
            let langs = '';
            let langsArray = [];

            
            langs += "<a data-language-name='json'>JSON</a>";
            langsArray.push('json');
            
            langs += "<a data-language-name='shell'>cURL</a>";
            langsArray.push('shell');
            

            var toggleCode = 'Comutar';
        </script>

        <script src='https://developercielo.github.io/assets/bundles/js/language_buttons.min.js'></script>
        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 674586, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

    </body>
</html>
