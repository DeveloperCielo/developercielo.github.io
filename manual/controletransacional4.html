<!DOCTYPE html>
<html>
<head>
    <title>API de Controle Transacional</title>
    
        <meta http-equiv="refresh" content="0; url=https://docs.cielo.com.br/link/reference/consultar-transa%C3%A7%C3%A3o">
        <link rel="canonical" href="https://docs.cielo.com.br/link/reference/consultar-transa%C3%A7%C3%A3o" />
    
</head>
<body>
    <h1>API de Controle Transacional</h1>
    <h3> Redirecionando para <a href="https://docs.cielo.com.br/link/reference/consultar-transa%C3%A7%C3%A3o">https://docs.cielo.com.br/link/reference/consultar-transa%C3%A7%C3%A3o</a> ...</h3>
    <script>location='https://docs.cielo.com.br/link/reference/consultar-transa%C3%A7%C3%A3o'</script>
    <aside class="warning"> O conteúdo deste manual foi descontinuado e não é atualizado desde 14/08/2024. Acesse o novo portal.</aside>

<h1 id="as-documentações-do-link-de-pagamento-e-checkout-cielo-estão-em-um-novo-portal">As documentações do Link de Pagamento e Checkout Cielo estão em um novo portal</h1>

<p><a href="https://docs.cielo.com.br/link/docs/checkout-e-link-cielo"><img src="https://developercielo.github.io/images/apicieloecommerce/novo-docs.cielo.com.br.png" alt="Novo portal de desenvolvedores e-commerce Braspag e Cielo" /></a></p>

<p>Acesse o novo portal de desenvolvedores E-commerce <strong><a href="https://docs.cielo.com.br">docs.cielo.com.br</a></strong>.</p>

<blockquote>
  <p><strong>Atenção</strong>: O conteúdo desta página está sendo descontinuado e não receberá atualizações a partir de 14/08/2024. Visite a nova documentação em <a href="https://docs.cielo.com.br/checkout-e-link-cielo">docs.cielo.br</a>.</p>
</blockquote>

<hr />

<aside class="warning"> O conteúdo a seguir não é atualizado desde 14/08/2024.</aside>

<h1 id="cielo-oauth">Cielo OAUTH</h1>

<p>O Cielo OAUTH é um processo de autenticação utilizado em APIs Cielo que são correlacionadas a produtos E-commerce. Ele utiliza como segurança o protocolo <a href="https://oauth.net/2/">OAUTH2</a>, onde é necessário primeiramente obter um token de acesso, utlizando suas credenciais, que deverá posteriormente ser enviado à API CieloOAuth</p>

<aside class="notice">Para gerar o ClientID e o ClientSecret, consulte o tópico de Obter Credenciais.</aside>

<p>Para utilizar o Cielo Oauth são necessarias as seguintes credenciais:</p>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ClientId</code></td>
      <td>Identificador chave fornecido pela CIELO</td>
      <td>guid</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ClientSecret</code></td>
      <td>Chave que valida o ClientID. Fornecida pela Cielo junto ao<code class="language-plaintext highlighter-rouge">ClientID</code></td>
      <td>string</td>
    </tr>
  </tbody>
</table>

<h2 id="obter-credenciais">Obter Credenciais</h2>

<p>Para obter as credênciais no Checkout Cielo, basta seguir o fluxo abaixo:</p>

<ol>
  <li>Acessar o site Cielo</li>
  <li>Checkout</li>
  <li>Configurações</li>
  <li>Dados da loja</li>
  <li>Gerar chaves da API</li>
</ol>

<h2 id="token-de-acesso">Token de acesso</h2>

<p>Para obter acesso a serviços Cielo que utilizam o <code class="language-plaintext highlighter-rouge">Cielo Oauth</code>, será necessário obter um token de acesso, conforme os passos abaixo:</p>

<ol>
  <li>Concatenar o ClientId e o ClientSecret, <strong>ClientId:ClientSecret</strong></li>
  <li>Codificar o resultado em <strong>Base64</strong></li>
  <li>Enviar uma requisição, utilizando o método HTTP POST</li>
</ol>

<h3 id="concatenação">Concatenação</h3>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ClientId</strong></td>
      <td>b521b6b2-b9b4-4a30-881d-3b63dece0006</td>
    </tr>
    <tr>
      <td><strong>ClientSecret</strong></td>
      <td>08Qkje79NwWRx5BdgNJsIkBuITt5cIVO</td>
    </tr>
    <tr>
      <td><strong>ClientId:ClientSecret</strong></td>
      <td><em>b521b6b2-b9b4-4a30-881d-3b63dece0006:08Qkje79NwWRx5BdgNJsIkBuITt5cIVO</em></td>
    </tr>
    <tr>
      <td><strong>Base64</strong></td>
      <td><em>YjUyMWI2YjItYjliNC00YTMwLTg4MWQtM2I2M2RlY2UwMDA2OiAwOFFramU3OU53V1J4NUJkZ05Kc0lrQnVJVHQ1Y0lWTw</em></td>
    </tr>
  </tbody>
</table>

<h3 id="request">Request</h3>

<p>O Request dever ser enviado apenas no Header da requisição.</p>

<aside class="request"><span class="method post">POST</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/token</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">x-www-form-urlencoded</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Authorization: Basic {base64}"</span><span class="w">
</span><span class="err">--header</span><span class="w"> </span><span class="s2">"Content-Type: application/x-www-form-urlencoded"</span><span class="w">
</span><span class="err">grant_type=client_credentials</span><span class="w">
</span></code></pre></div></div>

<h3 id="response">Response</h3>

<p>O response possuirá o Token utilizado para novas requisições em Serviços Cielo</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6Ik1ldUNoZWNrb3V0IE1hc3RlciBLZXkiLCJjbGllbnRfaWQiOiJjODlmZGasdasdasdmUyLTRlNzctODA2YS02ZDc1Y2QzOTdkYWMiLCJzY29wZXMiOiJ7XCJTY29wZVwiOlwiQ2hlY2tvdXRBcGlcIixcIkNsYWltc1wiOltdfSIsInJvbGUiOiJasdasdasd291dEFwaSIsImlzc47I6Imh0dHBzOi8vYXV0aGhvbasdasdnJhc3BhZy5jb20uYnIiLCJhdWQiOiJVVlF4Y1VBMmNTSjFma1EzSVVFbk9pSTNkbTl0ZmasdsadQjVKVVV1UVdnPSIsImV4cCI6MTQ5Nzk5NjY3NywibmJmIjoxNDk3OTEwMjc3fQ.ozj4xnH9PA3dji-ARPSbI7Nakn9dw5I8w6myBRkF-uA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Access_token</code></td>
      <td>Utilizado para acesso aos serviços da API</td>
      <td>string</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Token_type</code></td>
      <td>Sempre será do tipo <code class="language-plaintext highlighter-rouge">bearer</code></td>
      <td>texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Expires_in</code></td>
      <td>Validade do token em segundos. Aproximadamente 20 minutos</td>
      <td>int</td>
    </tr>
  </tbody>
</table>

<aside class="notice">O token retornado (access_token) deverá ser utilizado em toda requisição como uma chave de autorização, destacando que este possui uma validade de 20 minutos (1200 segundos) e após esse intervalo, será necessário obter um novo token para acesso aos serviços Cielo. </aside>

<h1 id="controle-transacional">Controle transacional</h1>

<p>A <strong>API de Controle Transacional</strong> permite ao lojista modificar o status de os pedidos sem acessar o Backoffice do Checkout Cielo.</p>

<p>As operações possíveis de serem realizadas são:</p>

<ul>
  <li><strong>Consulta</strong> – consultar uma transação</li>
  <li><strong>Captura</strong> – capturar uma transação com valor total/Parcial</li>
  <li><strong>Cancelamento</strong> – cancelar uma transação com valor total/Parcial</li>
</ul>

<p>Seu principal objetivo é permitir que lojas e plataformas possam automatizar as operações através de seus próprios sistemas.</p>

<aside class="notice">**Endpoint Central** https://cieloecommerce.cielo.com.br/api/public/v2/orders/</aside>

<h2 id="autenticação">Autenticação</h2>

<p>O Processo de autenticação na API do link de pagamento é o <strong><a href="https://docscielo.github.io/Pilots/manual/controletransacional4#cielo-oauth">Cielo OAUTH</a></strong></p>

<h2 id="pré-requisitos">Pré-requisitos</h2>

<p>Para realizar o controle transacional no Checkout Cielo é OBRIGATÓRIO que a loja possua um dos dois modelos de notificação abaixo configurado:</p>

<ul>
  <li>URL de Notificação via <strong>POST</strong></li>
  <li>URL de Notificação via <strong>JSON</strong></li>
</ul>

<p>A notificação é obrigatorio pois todos os comandos da API (Consulta / Captura / Cancelamento) usam o identificador único da transação, chamado de <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>.</p>

<p>O <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code> é gerado apenas quando o pagamento é <em>finalizado na tela transacional</em>. Ele é enviado apenas pela <em>URL de Notificação</em> e não pelo Response da criação da tela transacional.</p>

<h2 id="consultas">Consultas</h2>

<p>A consulta de transações via API pode ser feita até 45 dias após a venda ter sido realizada.</p>

<h3 id="por-merchant_order_number">Por Merchant_Order_Number</h3>

<p>A consulta de transações por <code class="language-plaintext highlighter-rouge">Merchant_Order_Number</code> retorna uma lista de transações com o mesmo número de pedidos, isso ocorre pois o Checkout Cielo não impede a duplicação de OrderNumbers por parte do lojista.
O response possuirá o <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code> que deverá ser usado na consulta de uma transação em especifico.</p>

<h4 id="request-1">Request</h4>

<p>Para consultar uma transação pelo <code class="language-plaintext highlighter-rouge">Merchant_Order_Number</code>, basta realizar um <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<aside class="request"><span class="method get">GET</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/merchantOrderNumber/{merchantordernumber}</span></aside>

<h4 id="response-1">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"checkoutOrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a58995ce24fd4f1cb025701e95a51478"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:09:33.57"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a58995ce24fd4f1cb025701e95a51478"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"checkoutOrderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"438f3391860a4bedbae9a868180dda6e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-30T12:05:41.317"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/438f3391860a4bedbae9a868180dda6e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">$id</code></td>
      <td>id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">checkoutOrderNumber</code></td>
      <td>Código de pedido gerado pelo Checkout Cielo</td>
      <td>Texto</td>
      <td>32</td>
      <td>Exmeplo: a58995ce24fd4f1cb025701e95a51478</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">createdDate</code></td>
      <td>Data de criação do pedido</td>
      <td>Data</td>
      <td>-</td>
      <td>AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.$id</code></td>
      <td>Id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.method</code></td>
      <td>Método para consumo da operação</td>
      <td>Texto</td>
      <td>10</td>
      <td>Exmeplos: GET, POST, PUT</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.rel</code></td>
      <td>Relação para consumo da operação</td>
      <td>Texto</td>
      <td>10</td>
      <td>Exemplo: self</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.href</code></td>
      <td>Endpoint para consumo da operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Exemplo: https://cieloecommerce.cielo.com.br/api/public/v2/orders/438f3391860a4bedbae9a868180dda6e</td>
    </tr>
  </tbody>
</table>

<h3 id="por-checkout_cielo_order_number">Por Checkout_Cielo_Order_Number</h3>

<h4 id="request-2">Request</h4>

<p>Para consultar uma transação pelo <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, basta realizar um <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<aside class="request"><span class="method get">GET</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/{checkout_cielo_order_number}</span></aside>

<h4 id="response-2">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c89fdfbb-dbe2-4e77-806a-6d75cd397dac"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"054f5b509f7149d6aec3b4023a6a2957"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"softDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido ABC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50 canetas - R$30,00 | 10 cadernos - R$50,00 | 10 Borrachas - R$10,00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FixedAmount"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entrega Rápida"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Estrada Caetano Monteiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"391A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL 10 AP 208"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"district"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Badu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Niterói"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10127355487AK2C3EOTB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"294551"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"numberOfPayments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-02T14:29:43.767"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"finishedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-02T14:29:46.117"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cardMaskedNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456******2007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"creditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"antifraud"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"antifraudeResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lojista optou não realizar a análise do antifraude."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678911"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano da Silva"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exemplo@email.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11123456789"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/054f5b509f7149d6aec3b4023a6a2957"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/054f5b509f7149d6aec3b4023a6a2957/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Descrição</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">merchantId</code></td>
      <td>GUID</td>
      <td>36</td>
      <td>Id da Loja no Checkout</td>
      <td>Exemplo: c89fdfbb-dbe2-4e77-806a-6d75cd397dac</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orderNumber</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Número do pedido da loja.</td>
      <td>Exemplo: 123456</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">softDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto exibido na fatura do comprador. Sem caracteres especiais ou espaços</td>
      <td>Exemplo: <code class="language-plaintext highlighter-rouge">Loja_ABC_1234</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.name</code></td>
      <td>Texto</td>
      <td>128</td>
      <td>Nome do item no carrinho.</td>
      <td>Exemplo: Pedido ABC</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.description</code></td>
      <td>Texto</td>
      <td>256</td>
      <td>Descrição do item no carrinho.</td>
      <td>Exemplo: 50 canetas - R$30,00</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.unitPrice</code></td>
      <td>Numérico</td>
      <td>18</td>
      <td>Preço unitário do produto em centavos</td>
      <td>Exemplo: R$ 1,00 = 100</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.quantity</code></td>
      <td>Numérico</td>
      <td>9</td>
      <td>Quantidade do item no carrinho.</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cart.items.type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Tipo do item no carrinho</td>
      <td><code class="language-plaintext highlighter-rouge">Asset</code><br /><code class="language-plaintext highlighter-rouge">Digital</code><br /><code class="language-plaintext highlighter-rouge">Service</code><br /><code class="language-plaintext highlighter-rouge">Payment</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.type</code></td>
      <td>Numérico</td>
      <td>36</td>
      <td>Modalidade de frete</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.name</code></td>
      <td>Texto</td>
      <td>128</td>
      <td>Modalidade de frete</td>
      <td>Exemplo: Casa Principal</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.services.price</code></td>
      <td>Numérico</td>
      <td>10</td>
      <td>Valor do serviço de frete, em centavos</td>
      <td>Exemplo: R$ 10,00 = 1000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.street</code></td>
      <td>Texto</td>
      <td>256</td>
      <td>Endereço de entrega</td>
      <td>Exemplo: Rua João da Silva</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.number</code></td>
      <td>Numérico</td>
      <td>8</td>
      <td>Número do endereço de entrega</td>
      <td>Exemplo: 123</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.complement</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Complemento do endereço de entrega</td>
      <td>Exemplo: Casa</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.district</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Bairro do endereço de entrega</td>
      <td>Exemplo: Alphaville</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.city</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Cidade do endereço de entrega</td>
      <td>Exemplo: São Paulo</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">shipping.address.state</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Estado de endereço de entrega</td>
      <td>Exemplo: SP</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.status</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Status da transação</td>
      <td>Exemplo: Paid <a href="https://developercielo.github.io/manual/linkdepagamentos5#payment_status">Lista Completa</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.tid</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>TID Cielo gerado no momento da autorização da transação</td>
      <td>Exemplo: 10127355487AK2C3EOTB</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.nsu</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>NSU Cielo gerado no momento da autorização da transação</td>
      <td>Exemplo: 123456</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.authorizationCode</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Código de autorização.</td>
      <td>Exemplo: 456789</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.numberOfPayments</code></td>
      <td>Numérico</td>
      <td>6</td>
      <td>Número de Parcelas.</td>
      <td>Exemplo: 123456</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.createdDate</code></td>
      <td>Texto</td>
      <td>22</td>
      <td>Data de criação da transação</td>
      <td>Exemplo: AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.finishedDate</code></td>
      <td>Texto</td>
      <td>22</td>
      <td>Data de finalização da transação</td>
      <td>Exemplo: AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.cardMaskedNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Número do cartão mascarado</td>
      <td>Exemplo: 123456<strong>**</strong>2007</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Bandeira do cartão</td>
      <td>Exemplo: Visa</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.antifraud.antifraudeResult</code></td>
      <td>Numeric</td>
      <td>1</td>
      <td>Status do antifraude</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.antifraud.description</code></td>
      <td>Texto</td>
      <td>256</td>
      <td>Descrição do status do antifraude</td>
      <td>Exemplo: Lojista optou não realizar a análise do antifraude</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.type</code></td>
      <td>Texto</td>
      <td>11</td>
      <td>Tipo de meio de pagamento</td>
      <td>Exemplo: CreditCard <a href="https://developercielo.github.io/manual/linkdepagamentos5#payment_method_type">Lista Completa</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.errocode</code></td>
      <td>Numérico</td>
      <td>2</td>
      <td>Código de retorno</td>
      <td>Exemplo: 00, 51, 57, etc <a href="">Lista Completa</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Numérico</td>
      <td>14</td>
      <td>CPF ou CNPJ do comprador.</td>
      <td>Exemplo: 12345678909</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.FullName</code></td>
      <td>Texto</td>
      <td>256</td>
      <td>Nome completo do comprador.</td>
      <td>Exemplo: Fulano da Silva</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>64</td>
      <td>Email do comprador.</td>
      <td>Exemplo: exemplo@email.com.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Phone</code></td>
      <td>Numérico</td>
      <td>11</td>
      <td>Telefone do comprador.</td>
      <td>Exemplo: 11123456789</td>
    </tr>
  </tbody>
</table>

<h3 id="por-id-do-link-de-pagamento">Por ID do link de pagamento</h3>

<h4 id="request-3">Request</h4>

<p>Para consultar uma transação pelo <code class="language-plaintext highlighter-rouge">id</code>, basta realizar um <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<aside class="request"><span class="method get">GET</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v1/products/{id}/payments</span></aside>

<h4 id="response-3">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"productId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9487e3a9-f204-4188-96c5-a5a3013b2517"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-11T10:35:04.947"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b74df3e3c1ac49ccb7ad89fde2d787f7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-11T10:37:23.447"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">11500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"numberOfPayments"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-11T10:37:23.447"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denied"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/b74df3e3c1ac49ccb7ad89fde2d787f7"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Type</th>
      <th>Size</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">$id</code></td>
      <td>id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">productId</code></td>
      <td>ID do link de pagamento</td>
      <td>GUID</td>
      <td>36</td>
      <td>Exmeplo: 9487e3a9-f204-4188-96c5-a5a3013b2517</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">createdDate</code></td>
      <td>Data de criação do link de pagamento</td>
      <td>Data</td>
      <td>-</td>
      <td>AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.$id</code></td>
      <td>Id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.orderNumber</code></td>
      <td>Id pedido gerado pelo Checkout Cielo</td>
      <td>Texto</td>
      <td>32</td>
      <td>Exemplo: b74df3e3c1ac49ccb7ad89fde2d787f7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.createdDate</code></td>
      <td>Data de criação do pedido</td>
      <td>Data</td>
      <td>-</td>
      <td>AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.payment.$id</code></td>
      <td>Id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.payment.price</code></td>
      <td>Valor da pedido, sem pontuação</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: R$ 1,00 = 100</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.payment.numberOfPayments</code></td>
      <td>Número de parcelas</td>
      <td>-</td>
      <td>Exemplo: 3</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.payment.createdDate</code></td>
      <td>Data da transação (pagamento)</td>
      <td>Data</td>
      <td>-</td>
      <td>AAAA-MM-DDTHH:mm:SS.ss</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">orders.payment.status</code></td>
      <td>Status da Transação</td>
      <td>Texto</td>
      <td>Exemplo: Denied</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.$id</code></td>
      <td>Id do nó</td>
      <td>Numérico</td>
      <td>-</td>
      <td>Exemplo: 1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.method</code></td>
      <td>Método para consumo da operação</td>
      <td>Texto</td>
      <td>10</td>
      <td>Exmeplos: GET, POST, PUT</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.rel</code></td>
      <td>Relação para consumo da operação</td>
      <td>Texto</td>
      <td>10</td>
      <td>Exemplo: self</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">links.href</code></td>
      <td>Endpoint para consumo da operação</td>
      <td>Texto</td>
      <td>512</td>
      <td>Exemplo: https://cieloecommerce.cielo.com.br/api/public/v2/orders/438f3391860a4bedbae9a868180dda6e</td>
    </tr>
  </tbody>
</table>

<h2 id="capturar-transação">Capturar transação</h2>

<h3 id="request-4">Request</h3>

<p>Para capturar uma transação pelo <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, basta realizar um <code class="language-plaintext highlighter-rouge">PUT</code>.</p>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<p><strong>Captura Total</strong></p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/capture</span></aside>

<p><strong>Captura Parcial</strong></p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/capture?amount={Valor}</span></aside>

<aside class="notice">**OBS**: A captura parcial pode ser realizada apenas 1 vez e é exclusiva para cartão de crédito.</aside>

<h3 id="response-4">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE -</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">success</code></td>
      <td>Define o status do processo de atualização</td>
      <td>Boolean</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Status da transação no Checkout - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">STATUS</a></td>
      <td>int</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnCode</code></td>
      <td>Código de explicação o motivo de transações negadas ou autorizadas - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">Tabela de códigos</a></td>
      <td>String</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnMessage</code></td>
      <td>Mensagem que explica o motivo de transações negadas ou autorizadas - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">Tabela de códigos</a></td>
      <td>String</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h2 id="cancelar-transação">Cancelar transação</h2>

<h3 id="request-5">Request</h3>

<p>Para cancelar uma transação pelo <code class="language-plaintext highlighter-rouge">Checkout_Cielo_Order_Number</code>, basta realizar um <code class="language-plaintext highlighter-rouge">PUT</code>.</p>

<p>Para as solicitações de cancelamento da mesma transação, é necessário aguardar um período de 5 segundos entre uma solicitação e outra, para que seja realizada a consulta de saldo, reserva do valor na agenda financeira e sensibilizado o saldo. Evitando assim duplicidade de cancelamento. Esta regra vale para cancelamentos totais e/ou parciais.</p>

<p>Para identificar que as solicitações de cancelamento são da mesma transação, consideramos o número do EC, número da autorização de cancelamento, data da venda, valor da venda e NSU.</p>

<p>Importante salientar que para realizar qualquer solicitação de cancelamento, é necessário que o estabelecimento possua saldo suficiente na transação/em agenda.</p>

<blockquote>
  <p><strong>Header:</strong> Authorization: Bearer {access_token}</p>
</blockquote>

<p><strong>Cancelamento total</strong></p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/void</span></aside>

<p><strong>Camcelamento Parcial</strong></p>

<aside class="request"><span class="method put">PUT</span><span class="endpoint">https://cieloecommerce.cielo.com.br/api/public/v2/orders/`{checkout_cielo_order_number}`/void?amount={Valor}</span></aside>

<p><strong>OBS</strong>: O cancelamento parcial pode ser realizada apenas após a captura. O cancelamento parcial pode ser realizado inumeras vezes até que o valor total seja cancelado.</p>

<h3 id="response-5">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cieloecommerce.cielo.com.br/api/public/v2/orders/a9d517d81fb24b98b2d16eae2744be96/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE -</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">success</code></td>
      <td>Define o status do processo de atualização</td>
      <td>Boolean</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">status</code></td>
      <td>Status da transação no Checkout - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">STATUS</a></td>
      <td>int</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnCode</code></td>
      <td>Código de explicação o motivo de transações negadas ou autorizadas - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">Tabela de códigos</a></td>
      <td>String</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">returnMessage</code></td>
      <td>Mensagem que explica o motivo de transações negadas ou autorizadas - <a href="https://docscielo.github.io/Pilots/manual/appcielo-link#status-e-c%C3%B3digos">Tabela de códigos</a></td>
      <td>String</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h2 id="status-e-códigos">Status e Códigos</h2>

<h3 id="status-transacionais">Status transacionais</h3>

<p>O Checkout possui um Status próprios, diferente do SITE CIELO ou da API Cielo ecommerce. Veja abaixo a lista completa.</p>

<table>
  <thead>
    <tr>
      <th>Valor</th>
      <th>Status de transação</th>
      <th>Meios de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td><code class="language-plaintext highlighter-rouge">Pendente</code></td>
      <td>Para todos os meios de pagamento</td>
      <td>Indica que o pagamento ainda está sendo processado; OBS: Boleto - Indica que o boleto não teve o status alterado pelo lojista</td>
    </tr>
    <tr>
      <td>2</td>
      <td><code class="language-plaintext highlighter-rouge">Pago</code></td>
      <td>Para todos os meios de pagamento</td>
      <td>Transação capturada e o dinheiro será depositado em conta.</td>
    </tr>
    <tr>
      <td>3</td>
      <td><code class="language-plaintext highlighter-rouge">Negado</code></td>
      <td>Somente para Cartão Crédito</td>
      <td>Transação não autorizada pelo responsável do meio de pagamento</td>
    </tr>
    <tr>
      <td>4</td>
      <td><code class="language-plaintext highlighter-rouge">Expirado</code></td>
      <td>Cartões de Crédito e Boleto</td>
      <td>Transação deixa de ser válida para captura - <strong>15 dias pós Autorização</strong></td>
    </tr>
    <tr>
      <td>5</td>
      <td><code class="language-plaintext highlighter-rouge">Cancelado</code></td>
      <td>Para cartões de crédito</td>
      <td>Transação foi cancelada pelo lojista</td>
    </tr>
    <tr>
      <td>6</td>
      <td><code class="language-plaintext highlighter-rouge">Não Finalizado</code></td>
      <td>Todos os meios de pagamento</td>
      <td>Pagamento esperando Status - Pode indicar erro ou falha de processamento. Entre em contato com o Suporte cielo</td>
    </tr>
    <tr>
      <td>7</td>
      <td><code class="language-plaintext highlighter-rouge">Autorizado</code></td>
      <td>somente para Cartão de Crédito</td>
      <td>Transação autorizada pelo emissor do cartão. Deve ser capturada para que o dinheiro seja depositado em conta</td>
    </tr>
    <tr>
      <td>8</td>
      <td><code class="language-plaintext highlighter-rouge">Chargeback</code></td>
      <td>somente para Cartão de Crédito</td>
      <td>Transação cancelada pelo consumidor junto ao emissor do cartão. O Dinheiro não será depositado em conta.</td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-de-retorno-abecs">Códigos de retorno ABECS</h3>

<p>A Associação Brasileira das Empresas de Cartão de Crédito e Serviços (ABECS) é responsável pela padronização do <strong>código de retorno das autorizações de vendas negadas</strong> tanto para as soluções pagamento do mundo físico quanto de e-commerce do mercado brasileiro.</p>

<blockquote>
  <p>Para ver a relação completa dos códigos de retorno das transações negadas, acesse a tabela <a href="https://developercielo.github.io/tutorial/abecs-e-outros-codigos" target="_blank">Códigos de retorno ABECS</a>.</p>
</blockquote>

<h3 id="status-do-antifraude">Status do Antifraude</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Campo</th>
      <th>Definição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>0</strong></td>
      <td>N\A</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>1</strong></td>
      <td>Risco baixo</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>2</strong></td>
      <td>Risco Alto</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>3</strong></td>
      <td>Não finalizada</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>4</strong></td>
      <td>Risco Moderado</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>5</strong></td>
      <td>Autenticado</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>6</strong></td>
      <td>Não contratado</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>7</strong></td>
      <td>Dispensado</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>8</strong></td>
      <td>Não Aplicavel</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>9</strong></td>
      <td>Transaçõe de Recorrência</td>
    </tr>
  </tbody>
</table>

</body>
</html>