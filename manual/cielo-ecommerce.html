<!DOCTYPE html>
<html lang="pt">
    <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="theme-color" content="#00aeef" />
  <meta http-equiv="Content-Language" content="pt" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     Manual de Integração API e-commerce Cielo &middot; Documentações e tutoriais 
  </title>

  <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico" />

  <!-- CSS -->
  <link
    href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500"
    rel="stylesheet"
    media="none"
    onload="if(media!='all')media='all'"
  />
  <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

  <link
    rel="stylesheet"
    href="https://developercielo.github.io/assets/bundles/css/bundle.min.css"
  />

   
  <link
    rel="alternate"
    hreflang="pt"
    href="https://developercielo.github.io/manual/cielo-ecommerce"
  />
    
  <link
    rel="alternate"
    hreflang="en"
    href="https://developercielo.github.io/en/manual/cielo-ecommerce"
  />
   

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://developercielo.github.io/atom.xml"
  />
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/cielo-ecommerce">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/cielo-ecommerce">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/manual/cielo-ecommerce">Manual de Integração API e-commerce Cielo</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post"><h1 id="api-e-commerce-cielo">API E-commerce Cielo</h1>

<h1 id="sobre-essa-documentação">Sobre essa documentação</h1>

<p>O objetivo desta documentação é orientar sobre a integração da <strong>API E-commerce Cielo</strong>, descrevendo as funcionalidades e os métodos HTTP, listando informações a serem enviadas e recebidas e provendo exemplos.</p>

<p><strong>Conhecimentos necessários</strong>: recomendamos conhecimentos intermediários em linguagem de programação para web, requisições HTTP/HTTPS e manipulação de arquivos JSON.</p>

<p>Para executar as operações da API E-commerce Cielo você deverá usar sua chave específica (<code class="language-plaintext highlighter-rouge">MerchantId</code> e <code class="language-plaintext highlighter-rouge">MerchantKey</code>) nos respectivos endpoints dos ambientes:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: center">Sandbox</th>
      <th style="text-align: center">Produção</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Transacional</strong></td>
      <td style="text-align: center">https://apisandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://api.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Consultas</strong></td>
      <td style="text-align: center">https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<p>Para executar uma operação, combine a URL base do ambiente com a URL da operação desejada e envie utilizando o verbo HTTP conforme descrito na operação.</p>

<blockquote>
  <p><a href="https://developercielo.github.io/attachment/merchantid-merchantkey-cielo-2023.pdf" target="\_blank">Faça o download do tutorial</a> para saber como gerar seu <strong>MerchantId</strong> e <strong>MerchantKey</strong> no <a href="https://www.cielo.com.br/" target="\_blank">portal da Cielo</a>.</p>
</blockquote>

<h2 id="características-da-solução">Características da solução</h2>

<p>A solução <strong>API e-commerce Cielo</strong> foi desenvolvida com a tecnologia REST, que é padrão de mercado e independe da tecnologia utilizada pelo seu e-commerce. Dessa forma, é possível integrar-se utilizando as mais variadas linguagens de programação.</p>

<p>Para obter exemplos dessas linguagens, veja nosso <a href="https://developercielo.github.io/tutorial/postman" target="\_blank"><strong>Tutorial de conversão Postman</strong></a>.</p>

<p>Entre outras características, os atributos que mais se destacam na plataforma API e-commerce Cielo:</p>

<ul>
  <li><strong>Ausência de aplicativos proprietários</strong>: não é necessário instalar aplicativos no ambiente da loja virtual em nenhuma hipótese.</li>
  <li><strong>Simplicidade</strong>: o protocolo utilizado é puramente o HTTPS.</li>
  <li><strong>Facilidade de testes</strong>: a plataforma Cielo oferece um ambiente Sandbox publicamente acessível, que permite ao desenvolvedor a criação de uma conta de testes sem a necessidade de credenciamento, facilitando e agilizando o início da integração.</li>
  <li><strong>Credenciais</strong>: o tratamento das credenciais do cliente, número de afiliação (<code class="language-plaintext highlighter-rouge">MerchantId</code>)e chave de acesso<code class="language-plaintext highlighter-rouge">(MerchantKey</code>) trafega no cabeçalho da requisição HTTP da mensagem.</li>
  <li><strong>Segurança</strong>: a troca de informações se dá sempre entre o Servidor da Loja e da Cielo, ou seja, sem o browser do comprador.</li>
  <li><strong>Multiplataforma</strong>: a integração é realizada através de Web Service REST.</li>
</ul>

<h2 id="arquitetura-da-integração">Arquitetura da integração</h2>

<p>O modelo empregado na integração das APIs é simples e se baseia na utilização de duas URLs:</p>

<ul>
  <li>URL transacional - específica para operações como autorização, captura e cancelamento de transações.</li>
  <li>URL de consulta - para operações consultivas, como uma pesquisa de transações.</li>
</ul>

<p><br />Para executar uma operação:</p>

<ol>
  <li>Combine a <strong>base</strong> da URL do ambiente com o <strong><em>endpoint</em></strong> da operação desejada. Ex.: https://api.cieloecommerce.cielo.com.br/<em>1/sales/</em>.</li>
  <li>Envie a requisição para a URL utilizando o método HTTP adequado à operação.</li>
</ol>

<table>
  <thead>
    <tr>
      <th>Método HTTP</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>GET</strong></td>
      <td>Retorna recursos já existentes, ex.: consulta de transações.</td>
    </tr>
    <tr>
      <td><strong>POST</strong></td>
      <td>Cria um novo recurso, ex.: criação de uma transação.</td>
    </tr>
    <tr>
      <td><strong>PUT</strong></td>
      <td>Atualiza um recurso existente, ex.: captura ou cancelamento de uma transação previamente autorizada.</td>
    </tr>
  </tbody>
</table>

<p>Todas a operações requerem as credenciais de acesso <strong><code class="language-plaintext highlighter-rouge">MerchantId</code></strong> e <strong><code class="language-plaintext highlighter-rouge">MerchantKey</code></strong>, que devem ser enviadas no cabeçalho (<em>header</em>) da requisição.<br />Cada envio de requisição irá retornar um código de <a href="https://braspag.github.io//manual/braspag-pagador?json#lista-de-http-status-code">Status HTTP</a>, indicando se ela foi realizada com sucesso ou não.</p>

<h2 id="glossário">Glossário</h2>

<p>Para facilitar o entendimento, listamos abaixo um pequeno glossário com os principais termos relacionados ao eCommerce, ao mercado de cartões e adquirencia:</p>

<table>
  <thead>
    <tr>
      <th>Termo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Autenticação</strong></td>
      <td>Processo para assegurar que o comprador é realmente aquele quem diz ser (portador legítimo). A autenticação geralmente ocorre no banco emissor com uso de um token digital ou cartão com chaves de segurança.</td>
    </tr>
    <tr>
      <td><strong>Autorização</strong></td>
      <td>Processo para verificar se uma compra pode ou não ser realizada com um cartão. Nesse momento, são feitas diversas verificações com o cartão e com o portador (ex.: adimplência, bloqueios etc.) É também neste momento que o limite do cartão é sensibilizado com o valor da transação.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>Processo para cancelar uma compra realizada com cartão.</td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>Processo que confirma uma autorização que foi realizada previamente. Somente após a captura, é que o portador do cartão poderá visualizar a compra em seu extrato ou fatura.</td>
    </tr>
    <tr>
      <td><strong>Comprador</strong></td>
      <td>É aquele que efetua compra na loja virtual.</td>
    </tr>
    <tr>
      <td><strong>Emissor (ou banco emissor)</strong></td>
      <td>É a instituição financeira que emite o cartão de crédito, débito ou voucher.</td>
    </tr>
    <tr>
      <td><strong>Estabelecimento comercial ou EC</strong></td>
      <td>É o número de dez posições que identifica o cadastro da loja na Cielo.</td>
    </tr>
    <tr>
      <td><strong>Gateway de pagamentos</strong></td>
      <td>Empresa responsável pelo integração técnica e processamento das transações.</td>
    </tr>
    <tr>
      <td><strong>Portador</strong></td>
      <td>É a pessoa que tem o porte do cartão no momento da venda.</td>
    </tr>
    <tr>
      <td><strong>TID (Transaction Identifier)</strong></td>
      <td>Código composto por 20 caracteres que identifica unicamente uma transação e-commerce Cielo.</td>
    </tr>
  </tbody>
</table>

<h2 id="produtos-e-bandeiras-suportadas">Produtos e bandeiras suportadas</h2>

<p>A versão atual da API E-commerce Cielo possui suporte às seguintes bandeiras e produtos:</p>

<table>
  <thead>
    <tr>
      <th>Bandeira</th>
      <th>Crédito à vista</th>
      <th>Crédito parcelado Loja</th>
      <th>Débito</th>
      <th>Voucher</th>
      <th>Internacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Visa</td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Master Card</td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>American Express</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Elo</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Discover</td>
      <td>Sim</td>
      <td>Não</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>JCB</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Aura</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Hipercard</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
    </tr>
  </tbody>
</table>

<aside class="warning">Cartões emitidos no exterior não possuem permissão de parcelamento.</aside>

<h2 id="suporte-cielo">Suporte Cielo</h2>

<p>Caso tenha dúvidas envie um e-mail para: <strong>cieloecommerce@cielo.com.br</strong></p>

<p>Ou, se preferir, entre em contato com a gente pela <strong>Central de Atendimento</strong>:</p>

<ul>
  <li>Capitais e regiões metropolitanas: <strong>(11) 4002-9700</strong></li>
  <li>Demais localidades: <strong>0800 570 1700</strong></li>
</ul>

<h1 id="certificados-e-segurança">Certificados e segurança</h1>

<h2 id="o-que-é-certificado-ssl">O que é Certificado SSL?</h2>

<p>O Certificado SSL para servidor web oferece autenticidade e integridade dos dados de um web site, proporcionando aos clientes das lojas virtuais a garantia de que estão realmente acessando o site que desejam, e não uma um site fraudador.</p>

<p>Empresas especializadas são responsáveis por fazer a validação do domínio e, dependendo do tipo de certificado, também da entidade detentora do domínio.</p>

<h3 id="internet-explorer">Internet Explorer:</h3>

<p><img src="https://developercielo.github.io/images/certificado-ie.jpg" alt="Certificado EV Internet Explorer" /></p>

<h3 id="firefox">Firefox</h3>

<p><img src="https://developercielo.github.io/images/certificado-firefox.jpg" alt="Certificado EV Firefox" /></p>

<h3 id="google-chrome">Google Chrome</h3>

<p><img src="https://developercielo.github.io/images/certificado-chrome.jpg" alt="Certificado EV Google Chrome" /></p>

<h2 id="o-que-é-certificado-ev-ssl">O que é Certificado EV SSL?</h2>

<p>O Certificado EV foi lançado no mercado recentemente e garante um nível de segurança maior para os clientes das lojas virtuais.</p>

<p>Trata-se de um certificado de maior confiança e quando o https for acessado a barra de endereço ficará verde, dando mais confiabilidade aos visitantes do site.</p>

<h2 id="como-instalar-o-certificado-extended-validation-no-servidor-da-loja">Como instalar o <strong>Certificado Extended Validation</strong> no servidor da Loja?</h2>

<p>Basta instalar os três arquivos a seguir na Trustedstore do servidor. A Cielo não oferece suporte para a instalação do Certificado. Caso não esteja seguro sobre como realizar a instalação do Certificado EV, então você deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.cer">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/Intermediario.cer">Certificado Intermediária</a></li>
  <li><a href="https://developercielo.github.io/attachment/cieloecommerce.cert-2023-2024.zip">Certificado E-Commerce Cielo</a></li>
</ul>

<h2 id="passo-a-passo-para-a-instalação">Passo a Passo para a Instalação</h2>

<h3 id="instalação-no-servidor-da-loja-virtual">Instalação no Servidor da Loja Virtual</h3>

<p>O passo a passo para a instalação do Certificado EV deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<aside class="warning">A Cielo não oferece suporte para a instalação do Certificado.</aside>

<h3 id="acesso-do-cliente-à-loja-virtual">Acesso do Cliente à Loja Virtual</h3>

<p>Normalmente, o browser faz a atualização do Certificado automaticamente, caso não o faça e o cliente entre em contato deverá ser informado os seguintes passos:</p>

<p><strong>1o Passo:</strong></p>

<p>Salvar os três arquivos abaixo em uma pasta nova, ou que relembre facilmente, pois será utilizada posteriormente:</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.cer">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/Intermediario.cer">Certificado Intermediária</a></li>
  <li><a href="https://developercielo.github.io/attachment/cieloecommerce.cert-2023-2024.zip">Certificado E-Commerce Cielo</a></li>
</ul>

<p><strong>2o Passo:</strong></p>

<p>No “Internet Explorer”, clique no menu “Ferramentas” e acesse as “Opções da Internet”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-1.jpg" alt="Instalar IE" /></p>

<p>No “Firefox”, clique no menu “Abrir Menu” e acesse “Avançado” e “Opções”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-1.jpg" alt="Instalar FF" /></p>

<p>No “Chrome”, clique no “Personalizar e Controlar o Google Chrome” e acesse “Configurações” e “Mostrar configurações avançadas… “Alterar Configurações de Proxy e “Conteúdo” e Certificados:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-1.jpg" alt="Instalar GC" /></p>

<p><strong>3o Passo:</strong></p>

<p>No Internet Explorer, em “Certificados”, clique em “Importar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-2.jpg" alt="Instalar IE" /></p>

<p>No Firefox clique em “Ver Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-2.jpg" alt="Instalar FF" /></p>

<p>No Chrome clique em “Gerenciar Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-2.jpg" alt="Instalar GC" /></p>

<p><strong>4o Passo:</strong></p>

<p>No Internet Explorer e Chrome “Assistente para Importação de Certificados”, clique em “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-3.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-4.jpg" alt="Instalar IE e GC" /></p>

<p>No Firefox “Aba Servidores ”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-3.jpg" alt="Instalar FF" /></p>

<p><strong>5o Passo:</strong></p>

<p>No Chrome e Internet Explorer “Assistente para Importação de Certificados”, clique em “Procurar”, procure a pasta onde estão os arquivos e selecione o arquivo “cieloecommerce.cielo.com.br.crt, clique em “Abrir” e em seguida “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-5.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-6.jpg" alt="Instalar IE e GC" /></p>

<p><strong>6o Passo:</strong></p>

<p>Selecionar a opção desejada: adicionar o Certificado em uma pasta padrão ou procurar a pasta de sua escolha.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-7.jpg" alt="Instalar IE e GC" /></p>

<p><strong>7o Passo:</strong></p>

<p>Clique em “Concluir”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-8.jpg" alt="Instalar IE e GC" /></p>

<p><strong>8o Passo:</strong></p>

<p>Clique em “Ok” para concluir a importação.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-9.jpg" alt="Instalar IE e GC" /></p>

<aside class="notice">No Firefox não consta a mensagem de Importação com Êxito, apenas conclui a importação.</aside>

<p>O Certificado poderá ser visualizado na aba padrão “Outras Pessoas” ou na escolhida pelo cliente.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-10.jpg" alt="Instalar IE e GC" /></p>

<p><strong>9o Passo:</strong></p>

<p>Repita o mesmo procedimento para os 3 arquivos enviados.</p>

<h1 id="sandbox-e-ferramentas">Sandbox e Ferramentas</h1>

<h2 id="sobre-o-sandbox">Sobre o Sandbox</h2>

<p>Para facilitar os testes durante a integração, a Cielo oferece um ambiente Sandbox que permite simular as mensagerias da API. O ambiente Sandbox está programado com respostas preparadas para todas as funcionalidades previstas na API Cielo E-commerce.</p>

<table>
  <thead>
    <tr>
      <th>INFORMAÇÃO</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Credenciais de acesso</td>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code> e <code class="language-plaintext highlighter-rouge">MerchantKey</code> obtidos após criação da conta de testes em <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/" target="\_blank"><strong>Cadastro do Sandbox</strong></a></td>
    </tr>
    <tr>
      <td>Base da URL transacional</td>
      <td>https://apisandbox.cieloecommerce.cielo.com.br</td>
    </tr>
    <tr>
      <td>Base da URL para consultas</td>
      <td>https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
    </tr>
  </tbody>
</table>

<p><strong>Vantagens de utilizar o Sandbox</strong></p>

<ul>
  <li>Não é necessário uma afiliação para utilizar o Sandbox Cielo.</li>
  <li>Basta acessar o <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/" target="\_blank"><strong>Cadastro do Sandbox</strong></a> para criar uma conta.</li>
</ul>

<h2 id="ferramenta-para-integração">Ferramenta para Integração</h2>

<p>Você pode usar o Postman para testar a sua integração, usando a collection da API e-commerce Cielo.</p>

<h3 id="collection">Collection</h3>

<blockquote>
  <p><strong>Link de importação</strong>: <a href="https://www.postman.com/collections/7313fe78130211f5f009" target="\_blank">https://www.postman.com/collections/7313fe78130211f5f009</a></p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>Endpoints</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td><strong>Envio de transação</strong>: https://apisandbox.cieloecommerce.cielo.com.br <br /> <strong>Consulta transação</strong>: https://apiquerysandbox.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td><strong>Envio de transação</strong>: https://api.cieloecommerce.cielo.com.br/ <br /> <strong>Consulta transação</strong>: https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<h3 id="environment">Environment</h3>

<p>Faça download do arquivo <a href="https://github.com/DeveloperCielo/developercielo.github.io/blob/docs/attachment/postman/apicielo2021.rar" target="\_blank"><strong>Environment Produção e Sandbox</strong></a> e substitua os MerchantIDs e MerchantKeys pelos os da sua Loja.</p>

<h2 id="cartão-de-crédito-em-sandbox">Cartão de crédito em sandbox</h2>

<p>Com esse meio de pagamento é possível simular os fluxos de:</p>

<ul>
  <li>Autorização;</li>
  <li>Captura parcial e total;</li>
  <li>Cancelamento;</li>
  <li>Consulta.<br /></li>
</ul>

<p>Para melhor aproveitar o meio de pagamento Simulado, você pode criar um número de cartão usando um gerador de cartões da internet ou escolhendo números aleatórios; para qualquer opção, os 15 primeiros dígitos do cartão podem ser aleatórios e o último dígito deve ser o número correspondente ao status da transação que deseja testar.</p>

<p>As informações de <strong>Cód.Segurança (CVV)</strong> e validade podem ser aleatórias, mantendo o CVV com 3 dígitos e a validade no formato MM/YYYY.</p>

<aside class="notice">Tokenização: Se o objetivo for testar uma transação na API Cielo E-commerce salvando o número do cartão, recomendamos usar um gerador de cartões para atender a regra do mod10 (Algoritimo de Luhn), que é empregada nos ambientes Sandbox e de Produção.</aside>
<p><br /></p>
<aside class="notice">Para simular um cenário de autorização com sucesso de uma solicitação de Zeroauth no sandbox, é necessário enviar a requisição com um número de cartão iniciado com o dígito 5, independente da bandeira (exemplo: **5XXX.XXXX.XXXX.XXX4**).</aside>
<p><br /></p>
<aside class="notice">Os status das transações são definidos pelos FINAIS de cada cartão, assim como o ReturnCode.</aside>

<table>
  <thead>
    <tr>
      <th>Final do Cartão</th>
      <th>Status da Transação</th>
      <th>Código de Retorno</th>
      <th>Mensagem de Retorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX0<br />XXXX.XXXX.XXXX.XXX1<br />XXXX.XXXX.XXXX.XXX4</td>
      <td>Autorizado</td>
      <td>4/6</td>
      <td>Operação realizada com sucesso</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX2</td>
      <td>Não Autorizado</td>
      <td>05</td>
      <td>Não Autorizada</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX3</td>
      <td>Não Autorizado</td>
      <td>57</td>
      <td>Cartão Expirado</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX5</td>
      <td>Não Autorizado</td>
      <td>78</td>
      <td>Cartão Bloqueado</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX6</td>
      <td>Não Autorizado</td>
      <td>99</td>
      <td>Time Out</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX7</td>
      <td>Não Autorizado</td>
      <td>77</td>
      <td>Cartão Cancelado</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX8</td>
      <td>Não Autorizado</td>
      <td>70</td>
      <td>Problemas com o Cartão de Crédito</td>
    </tr>
    <tr>
      <td>XXXX.XXXX.XXXX.XXX9</td>
      <td>Autorização Aleatória</td>
      <td>4 a 99</td>
      <td>Operation Successful / Time Out</td>
    </tr>
  </tbody>
</table>

<p>O cartão de teste <strong>4024.0071.5376.3191</strong>, por exemplo, irá simular o status autorizado.</p>

<aside class="notice">Atenção: O ambiente de sandbox avalia o formato e o final do cartão. Caso um cartão real seja enviado, o resultado da operação será idêntico ao descrito na tabela de cartões de teste.</aside>
<p><br /></p>
<aside class="warning">Atenção: Os códigos de retorno em Sandbox não são os mesmos disponiveis em produção.</aside>

<p><strong>Para consultar os retornos em Produção</strong>, veja os <a href="https://developercielo.github.io/manual/cielo-ecommerce#c%C3%B3digos-da-api">Códigos da API</a>.</p>

<h2 id="cartão-de-débito-em-sandbox">Cartão de débito em sandbox</h2>

<p>Com esse meio de pagamento é possível simular os fluxos de:</p>

<ul>
  <li>Autorização;</li>
  <li>Cancelamento;</li>
  <li>
    <p>Consulta.
<br />
A transação de débito precisa passar por uma autenticação:</p>
  </li>
  <li><strong>Autenticação via 3DS 2.0</strong>: aprenda a simular a autenticação 3DS 2.0 em sandbox na <a href="https://developercielo.github.io/manual/3ds">documentação do 3DS</a>;</li>
  <li><strong>URL de Autenticação</strong>: está sendo descontinuada. Nesse tipo de autenticação, o fluxo transacional do cartão de débito funciona com a Resposta da transação retornando uma URL de Autenticação. Na tela de autenticação a opção escolhida define o status da transação:
<br /></li>
</ul>

<table>
  <thead>
    <tr>
      <th>Opção</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autenticado</td>
      <td>Autorizado</td>
    </tr>
    <tr>
      <td>Não Autenticado</td>
      <td>Negado</td>
    </tr>
    <tr>
      <td>Não usar a URL</td>
      <td>Não Finalizado</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Transferência Online: O mesmo comportamento do Cartão de débito em Sandbox é valido para cartão de débito</aside>

<h2 id="outros-meios-de-pagamento-em-sandbox">Outros meios de pagamento em sandbox</h2>

<p>Outros meios de pagamento não possuem cartões ou dados específicos simulados, como no caso do cartão de crédito.
Abaixo especificamos qualquer diferença existente:</p>

<table>
  <thead>
    <tr>
      <th>Meio de pagamento</th>
      <th>Orientações para Sandbox</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Boleto</td>
      <td>Para enviar uma transação de boleto no ambiente sandbox você deve colocar o <code class="language-plaintext highlighter-rouge">Provider</code> como <strong>“Simulado”</strong>.<br />Não há validação bancária. O boleto se comporta como um boleto sem registro.</td>
    </tr>
    <tr>
      <td>Alelo</td>
      <td>Use os mesmos valores da requisição do ambiente de produção para <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%B5es-alelo">Cartões Alelo</a>.</td>
    </tr>
    <tr>
      <td>QR Code</td>
      <td>Use os mesmos valores da requisição do ambiente de produção para <a href="https://developercielo.github.io/manual/cielo-ecommerce#qr-code">QR Code</a>. Não tem a conciliação bancária.</td>
    </tr>
    <tr>
      <td>Carnê</td>
      <td>Use os mesmos valores da requisição do ambiente de produção para <a href="https://developercielo.github.io/manual/cielo-ecommerce#carn%C3%AA">Carnê</a>.</td>
    </tr>
    <tr>
      <td>Transferência eletrônica</td>
      <td>O <code class="language-plaintext highlighter-rouge">Provider</code> utilizado deve ser <strong>“Simulado”</strong> <br /> A URL de redirecionamento para o ambiente do banco será uma tela para escolher o estado da autenticação.</td>
    </tr>
  </tbody>
</table>

<h2 id="renova-fácil-em-sandbox">Renova Fácil em sandbox</h2>

<p>Para simular uma transação com retorno de um novo cartão, atualizado pelo nosso serviço <a href="https://developercielo.github.iohttps://developercielo.github.io/manual/cielo-ecommerce#renova-f%C3%A1cil" target="_blank">Renova Fácil</a>, siga as orientações abaixo. Para saber mais como funciona a funcionalidade, acesse o menu “Recorrência” e depois “Renova Fácil”.</p>

<p>Na requisição de autorização, além dos campos já previstos para o meio de pagamento utilizado, é necessário enviar os seguintes:</p>

<ul>
  <li>No campo <code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code>: enviar um cartão com o número final sendo 3 (que simula um cenário de cartão vencido, vide tabela de cartões simulados presente na documentação).</li>
  <li>No campo <code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code>: enviar uma data de validade já vencida.</li>
  <li>Mandar o campo <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> preenchido como true, para marcar a transação como recorrente.</li>
</ul>

<h2 id="consulta-bin-em-sandbox">Consulta BIN em sandbox</h2>

<p>O BIN de um cartão é composto pelos seis primeiros dígitos. Na simulação da Consulta BIN em ambiente sandbox, cada um dos seis primeiros dígitos vai reger um resultado simulado.</p>

<p>É possível montar uma numeração de cartão para teste e observar o retorno esperado de acordo com diferentes cenários.</p>

<p>O BIN de um cartão retorna a bandeira, o tipo, a nacionalidade, se o cartão é corporativo ou não, o retorno da análise de BIN e o emissor do cartão. Para saber mais, leia a seção <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-bin"><strong>Consulta BIN</strong></a> neste mesmo manual.</p>

<table>
  <thead>
    <tr>
      <th>Dígito</th>
      <th>O que indica</th>
      <th>Retorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1º dígito</td>
      <td>Bandeira.</td>
      <td>Se for ‘<strong>3</strong>’ retorna “<strong>AMEX</strong>“<br />Se for ‘<strong>5</strong>’ retorna “<strong>MASTERCARD</strong>“<br />Se for ‘<strong>6</strong>’ retorna “<strong>DISCOVER</strong>“<br />Qualquer outro número retorna “<strong>VISA</strong>”.</td>
    </tr>
    <tr>
      <td>2º dígito</td>
      <td>Tipo do cartão.</td>
      <td>Se for ‘<strong>3</strong>’ retorna “<strong>Débito</strong>“<br />Se for ‘<strong>5</strong>’ retorna “<strong>Crédito</strong>“<br />Se for ‘<strong>7</strong>’ retorna “<strong>Crédito</strong>” e retorna o campo <code class="language-plaintext highlighter-rouge">Prepaid</code>como “<strong>true</strong>“<br />Qualquer outro número retorna”<strong>Múltiplo</strong>”.</td>
    </tr>
    <tr>
      <td>3º dígito</td>
      <td>Nacionalidade do cartão.</td>
      <td>Se for ‘<strong>1</strong>’ retorna “<strong>true</strong>” (cartão nacional)<br />Qualquer número diferente de ‘<strong>1</strong>’ retorna “<strong>false</strong>” (cartão internacional).</td>
    </tr>
    <tr>
      <td>4º dígito</td>
      <td>Se o cartão é corporativo ou não.</td>
      <td>Se for ‘<strong>1</strong>’ retorna “<strong>true</strong>” (é cartão corporativo)<br />Qualquer número diferente de ‘<strong>1</strong>’ retorna “<strong>false</strong>” (não é cartão corporativo).</td>
    </tr>
    <tr>
      <td>5º dígito</td>
      <td>Retorno da análise.</td>
      <td>Se for ‘<strong>2</strong>’ retorna “<strong>01 - Bandeira não suportada</strong>“<br />Se for ‘<strong>3</strong>’ retorna “<strong>02 - Voucher - Não suportado na consulta de bins</strong>“<br />Qualquer outro número retorna “<strong>00 - Analise autorizada</strong>”</td>
    </tr>
    <tr>
      <td>6º dígito</td>
      <td>Banco emissor.</td>
      <td>Se for ‘<strong>1</strong>’ retorna “<strong>104</strong>” e “<strong>Caixa</strong>“<br />Se for ‘<strong>2</strong>’ retorna “<strong>001</strong>” e “<strong>Banco do Brasil</strong>“<br />Qualquer outro número retorna “<strong>237</strong>” e “<strong>Bradesco</strong>”</td>
    </tr>
  </tbody>
</table>

<p><strong>Exemplo</strong></p>

<p>O cartão com a numeração <strong>4110110012341234</strong> irá retornar os seguintes dados:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/consultabin-sdbx-cielo.png" alt="Consulta BIN Sandbox" /></p>

<h3 id="requisição">Requisição</h3>

<aside class="request"><span class="method get">GET</span><span class="endpoint">/1/cardBin/`BIN`</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET https://apiquerysandbox.cieloecommerce.cielo.com.br/1/cardBin/411011
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<h3 id="resposta">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Multiplo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ForeignCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CorporateCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banco do Brasil"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="o">{</span>
    <span class="s2">"Status"</span>: <span class="s2">"00"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"VISA"</span>,
    <span class="s2">"CardType"</span>: <span class="s2">"Multiplo"</span>,
    <span class="s2">"ForeignCard"</span>: <span class="nb">false</span>,
    <span class="s2">"CorporateCard"</span>: <span class="nb">false</span>,
    <span class="s2">"Issuer"</span>: <span class="s2">"Banco do Brasil"</span>,
    <span class="s2">"IssuerCode"</span>: <span class="s2">"001"</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<h1 id="meios-de-pagamento">Meios de Pagamento</h1>

<h2 id="cartões-de-crédito-e-débito">Cartões de crédito e débito</h2>

<h3 id="cartão-de-crédito">Cartão de Crédito</h3>

<p>Para que você possa disfrutar de todos os recursos disponíveis em nossa API, é importante que antes você conheça os conceitos envolvidos no processamento de uma transação de cartão de crédito.</p>

<table>
  <thead>
    <tr>
      <th>Conceito</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Autenticação</strong></td>
      <td>É um processo de verificação do portador do cartão realizado pelo banco emissor para trazer mais segurança para a venda. Em caso de fraude em transação autenticada, o custo do chargeback é do emissor.</td>
    </tr>
    <tr>
      <td><strong>Autorização</strong></td>
      <td>Etapa em que a Cielo faz a conexão com o sistema do banco emissor e da bandeira para aprovar uma transação de cartão. A pré-autorização apenas sensibiliza o limite do cliente, mas ainda não gera cobrança para o consumidor. Para efetivação da cobrança é necessária a ocorrência da captura.</td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>Após a autorização, para que a venda seja concretizada e a cobrança seja efetivada no cartão, ocorre o movimento de captura.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>O cancelamento acontece quando o estabelecimento não quer mais prosseguir com uma transação. Esse movimento pode ser realizado tanto para transações autorizadas quanto para capturadas.</td>
    </tr>
  </tbody>
</table>

<aside class="warning">IMPORTANTE: O número de identificação do pedido (`MerchantOrderId`) não sofre alteração ao longo do fluxo transacional. Contudo, um número adicional pode ser gerado para o pedido e utilizado durante a transação. Esse número só será diferente em caso de adequação a regras da adquirente ou em caso de números de identificação do pedido (`MerchantOrderId`) repetidos em menos de 24 horas. Para fins de conciliação, use o `TransactionId`.</aside>

<h4 id="criando-uma-transação-de-crédito">Criando uma transação de crédito</h4>

<p>Para criar uma transação de cartão de crédito, envie uma requisição utilizando o método <code class="language-plaintext highlighter-rouge">POST</code> conforme o exemplo a seguir. Esse exemplo contempla todos os campos possíveis que você pode enviar; consulte quais campos são ou não obrigatórios na tabela de propriedades da requisição.</p>

<blockquote>
  <p>A <strong>captura</strong> da transação da crédito pode ser <strong>automática</strong> ou <strong>posterior</strong>. Para captura automática, envie o campo <code class="language-plaintext highlighter-rouge">Payment.Capture</code> na requisição como “true”. Para captura posterior, envie o campo como “false” e, posteriormente, faça a <a href="https://developercielo.github.io/manual/cielo-ecommerce#captura">requisição de captura</a>.</p>
</blockquote>

<blockquote>
  <p>Atenção: Não é possível realizar uma transação com valor (<code class="language-plaintext highlighter-rouge">Amount</code>) 0. Para verificar a validade de um cartão, use o <a href="https://developercielo.github.io/manual/cielo-ecommerce#zero-auth">Zero Auth</a>.</p>
</blockquote>

<aside class="notice">Atenção: No header da requisição, use o Content-Type application/json .</aside>

<blockquote>
  <p><strong>Transações de crédito Mastercard com credenciais armazenadas</strong>: a bandeira Mastercard exige o envio do <strong>Indicador de Início da Transação</strong> para compras de <strong>cartão de crédito e débito</strong> que usam os dados armazenados de um cartão. O objetivo é indicar se a transação foi iniciada pelo comprador (titular do cartão) ou pela loja. Nesse cenário é obrigatório o envio do nó <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator</code> com os parâmetros <code class="language-plaintext highlighter-rouge">Category</code> e <code class="language-plaintext highlighter-rouge">SubCategory</code> para transações Mastercard, dentro do nó <code class="language-plaintext highlighter-rouge">Payment</code>. Confira a lista de categorias na descrição do parâmetro <code class="language-plaintext highlighter-rouge">Category</code> e a tabela completa de subcategorias em <a href="https://developercielo.github.io/manual/cielo-ecommerce#tabelas-do-indicador-de-in%C3%ADcio-da-transa%C3%A7%C3%A3o-mastercard">Tabelas do Indicador de Início da Transação</a>.</p>
</blockquote>

<p>Saiba como realizar uma transação de crédito com autenticação em <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%A3o-de-cr%C3%A9dito-com-autentica%C3%A7%C3%A3o">Autenticando uma Transação</a>.</p>

<h5 id="requisição-1">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito completo"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"Recurrent"</span>:<span class="s2">"false"</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
      <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
          <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
          <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,     
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"AirlineData"</span>:<span class="o">{</span>
         <span class="s2">"TicketNumber"</span>:<span class="s2">"AR988983"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave pública para autenticação dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>Header</td>
      <td>40</td>
      <td>Sim</td>
      <td>application/json (envio obrigatório).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador da requisição, usado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Número de identificação do pedido.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>E-mail do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do comprador</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>País do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>País do endereço do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Street</code></td>
      <td>string</td>
      <td>24</td>
      <td>não</td>
      <td>Logradouro do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Number</code></td>
      <td>string</td>
      <td>5</td>
      <td>não</td>
      <td>Número do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Complement</code></td>
      <td>string</td>
      <td>14</td>
      <td>não</td>
      <td>Complemento do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Neighborhood</code></td>
      <td>string</td>
      <td>15</td>
      <td>não</td>
      <td>Bairro do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.City</code></td>
      <td>string</td>
      <td>20</td>
      <td>não</td>
      <td>Cidade do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.State</code></td>
      <td>string</td>
      <td>2</td>
      <td>não</td>
      <td>Estado do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Country</code></td>
      <td>string</td>
      <td>2</td>
      <td>não</td>
      <td>País do endereço de cobrança. Mais informações em <a href="https://www.iso.org/obp/ui" target="\_blank">ISO 2-Digit Alpha Country Code</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.ZipCode</code></td>
      <td>string</td>
      <td>9</td>
      <td>não</td>
      <td>Código postal do endereço de cobrança.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>O complemento do nome da loja que aparecerá na fatura do cartão. Não permite caracteres especiais.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com <strong>captura automática (“true”)</strong> ou <strong><a href="https://developercielo.github.io/manual/cielo-ecommerce#captura">captura posterior</a> (“false”)</strong>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao banco emissor para autenticação do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica se a transação é do tipo recorrente (“true”) ou não (“false”). O valor “true” não originará uma nova recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Authenticate deve ser “false” quando Recurrent é “true”. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#recorr%C3%AAncia">Recorrência</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AirlineData.TicketNumber</code></td>
      <td>alfanumérico</td>
      <td>13</td>
      <td>Não</td>
      <td>Informar o número do principal bilhete aéreo da transação.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do cartão do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do comprador impresso no cartão. Não aceita caracteres especiais ou acentuação.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impressa no cartão. Ex. MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o <code class="language-plaintext highlighter-rouge">CardToken</code>. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão. Valores possíveis: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação. Saiba mais em <a href="https://developercielo.github.io/manual/cielo-ecommerce#card-on-file" target="_blank">Card On File</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas). Se for transação recorrente, usar <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (recorrência própria) ou <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (recorrência programada). <br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência. Saiba mais em <a href="https://developercielo.github.io/manual/cielo-ecommerce#card-on-file" target="_blank">Card On File</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code></td>
      <td>Categoria do indicador de início da transação. Válido apenas para bandeira Mastercard.<br />Valores possíveis:<br />- “C1”: transação inciada pelo portador do cartão;<br />- “M1”: transação recorrente ou parcelada iniciada pela loja;<br />- “M2”: transação iniciada pela loja.</td>
      <td>string</td>
      <td>2</td>
      <td>Condicional. Obrigatório apenas para bandeira Mastercard</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code></td>
      <td>Subcategoria do indicador. Válido apenas para bandeira Mastercard.<br />Valores possíveis:<br />Se <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “C1” ou “M1”<br /><em>CredentialsOnFile</em><br /><em>StandingOrder</em><br /><em>Subscription</em><br /><em>Installment</em><br />Se <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “M2”<br /><em>PartialShipment</em><br /><em>RelatedOrDelayedCharge</em><br /><em>NoShow</em><br /><em>Resubmission</em><br />Consulte a tabela com a descrição das subcategorias em <a href="https://developercielo.github.io/manual/cielo-ecommerce#tabelas-do-indicador-de-in%C3%ADcio-da-transa%C3%A7%C3%A3o-mastercard">Tabelas do Indicador de Início da Transação</a>.</td>
      <td>string</td>
      <td>-</td>
      <td>Condicional. Obrigatório apenas para bandeira Mastercard</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-1">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92745135160550440006111072222"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TryAutomaticCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MerchantAdviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito completo"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
          <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
          <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,        
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"TryAutomaticCancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"MerchantAdviceCode"</span>:<span class="s2">"1"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto impresso na fatura bancaria do portador. Não permite caracteres especiais.</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantAdviceCode</code></td>
      <td>Código de retorno da bandeira que define período para retentativa. <em>Válido somente para bandeira Mastercard</em>. Saiba mais <a href="https://developercielo.github.io/manual/cielo-ecommerce#mastercard" target="\_blank">Programa de retentativa das bandeiras para Mastercard</a>.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TryAutomaticCancellation</code></td>
      <td>Caso ocorra algum erro durante a autorização (status Não Finalizada - “0”), a resposta incluirá o campo “TryAutomaticCancellation” como true. Neste caso, a transação será consultada automaticamente, e caso tenha sido autorizada será cancelada automaticamente. Esta funcionalidade deverá estar habilitada para loja. Para habilitar, entre em contato com o nosso suporte técnico.</td>
      <td>Booleano</td>
      <td>-</td>
      <td>true ou false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.PaymentAccountReference</code></td>
      <td>O PAR (Payment Account Reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado.Se for pra transação de débito, colocar o campo dentro do nó de <code class="language-plaintext highlighter-rouge">DebitCard</code>.</td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Atenção: Os retornos de autorização estão sujeitos a inserção de novos campos advindos das bandeiras/emissores. Faça sua integração de forma a prever este tipo de comportamento utilizando adequadamente as técnicas de serialização e deserialização de objetos.</aside>

<h3 id="cartão-de-débito">Cartão de Débito</h3>

<p>Esse meio de pagamento é liberado automaticamente junto a afiliação de Cielo.</p>

<p>Todas as transações de débito devem ser autenticadas por exigência dos bancos emissores e bandeiras, com o objetivo de promover maior segurança.</p>

<p>Para autenticar uma transação de débito, usamos o protocolo EMV 3DS 2.0; esse protocolo é um script integrado ao seu e-commerce que verifica a identidade do portador do cartão enquanto mantém uma boa experiência de compra ao consumidor e reduz o risco de fraude.</p>

<p>Para integrar o método de autenticação, consulte a <a href="https://developercielo.github.io/manual/3ds" target="\_blank">documentação do 3DS 2.0</a>.</p>

<aside class="warning">IMPORTANTE: A Cielo não disponibiliza mais a primeira versão do protocolo de autenticação (3DS 1.0) já que as bandeiras e emissores estão descontinuando essa solução.</aside>

<blockquote>
  <p><strong>Débito sem autenticação</strong>: ou “débito sem senha”, só pode ser realizada quando o e-commerce tem autorização do banco emissor para dispensa da autenticação. Caso você tenha essa permissão, envie o campo <code class="language-plaintext highlighter-rouge">Authenticate</code> como “false” na requisição padrão de cartão de débito.</p>
</blockquote>

<blockquote>
  <p><strong>Transações de débito Mastercard com credenciais armazenadas</strong>: a bandeira Mastercard exige o envio do <strong>Indicador de Início da Transação</strong> para compras de <strong>cartão de crédito e débito</strong> que usam os dados armazenados de um cartão. O objetivo é indicar se a transação foi iniciada pelo comprador (titular do cartão) ou pela loja. Nesse cenário é obrigatório o envio do nó <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator</code> com os parâmetros <code class="language-plaintext highlighter-rouge">Category</code> e <code class="language-plaintext highlighter-rouge">SubCategory</code> para transações Mastercard, dentro do nó <code class="language-plaintext highlighter-rouge">Payment</code>. Confira a lista de categorias na descrição do parâmetro <code class="language-plaintext highlighter-rouge">Category</code> e a tabela completa de subcategorias em <a href="https://developercielo.github.io/manual/cielo-ecommerce#tabelas-do-indicador-de-in%C3%ADcio-da-transa%C3%A7%C3%A3o-mastercard">Tabelas do Indicador de Início da Transação</a>.</p>
</blockquote>

<h4 id="criando-uma-transação-de-débito">Criando uma transação de débito</h4>

<p>Para criar uma venda com cartão de débito, chame o método POST conforme o exemplo a seguir. O exemplo contempla o mínimo de campos necessários que devem ser enviados para a autorização.</p>

<blockquote>
  <p>Na transação de débito padrão (com autenticação), envie <code class="language-plaintext highlighter-rouge">Authenticate</code> = “true”.</p>
</blockquote>

<h5 id="requisição-2">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5551870000000181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReferenceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014121201"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Cartão de débito"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"Amount"</span>:15700,
      <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"5551870000000181"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>
      <span class="o">}</span>,
      <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
         <span class="s2">"Cavv"</span>:<span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
         <span class="s2">"Xid"</span>:<span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
         <span class="s2">"Eci"</span>:<span class="s2">"5"</span>,
         <span class="s2">"Version"</span>:<span class="s2">"2"</span>,
         <span class="s2">"ReferenceID"</span>:<span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span>
      <span class="o">}</span>,
    <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
        <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
        <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
    <span class="o">}</span>,      
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URI para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code></td>
      <td>Categoria do indicador de início da transação. Válido apenas para bandeira Mastercard.<br />Valores possíveis:<br />- “C1”: transação inciada pelo portador do cartão;<br />- “M1”: transação recorrente ou parcelada iniciada pela loja;<br />- “M2”: transação iniciada pela loja.</td>
      <td>string</td>
      <td>2</td>
      <td>Condicional. Obrigatório apenas para bandeira Mastercard</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Subcategory</code></td>
      <td>Subcategoria do indicador. Válido apenas para bandeira Mastercard.<br />Valores possíveis:<br />Se <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “C1” ou “M1”<br /><em>CredentialsOnFile</em><br /><em>StandingOrder</em><br /><em>Subscription</em><br /><em>Installment</em><br />Se <code class="language-plaintext highlighter-rouge">InitiatedTransactionIndicator.Category</code> = “M2”<br /><em>PartialShipment</em><br /><em>RelatedOrDelayedCharge</em><br /><em>NoShow</em><br /><em>Resubmission</em><br />Consulte a tabela com a descrição das subcategorias em <a href="https://developercielo.github.io/manual/cielo-ecommerce#tabelas-do-indicador-de-in%C3%ADcio-da-transa%C3%A7%C3%A3o-mastercard">Tabelas do Indicador de Início da Transação</a>.</td>
      <td>string</td>
      <td>-</td>
      <td>Condicional. Obrigatório apenas para bandeira Mastercard</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>E-Commerce Indicator retornado no processo de autenticação.</td>
      <td>Numérico</td>
      <td>1</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExternalAuthentication.ReferenceId</code></td>
      <td><code class="language-plaintext highlighter-rouge">RequestID</code> retornado no processo de autenticação.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-2">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IC722LCXBROSHBPIBK7B44MBXO5HF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"635288"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0826104754051"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132471"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"InitiatedTransactionIndicator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Subcategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standingorder"</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-26 10:47:53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-26 10:47:54"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21c9a3e7-23c2-420b-b12d-b514ef271c85"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/21c9a3e7-23c2-420b-b12d-b514ef271c85"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Cartão de débito"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"555187******0181"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Master"</span>,
            <span class="s2">"PaymentAccountReference"</span>: <span class="s2">"IC722LCXBROSHBPIBK7B44MBXO5HF"</span>
        <span class="o">}</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"635288"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0826104754051"</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"132471"</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
        <span class="s2">"ExternalAuthentication"</span>: <span class="o">{</span>
            <span class="s2">"Cavv"</span>: <span class="s2">"AAABB2gHA1B5EFNjWQcDAAAAAAB="</span>,
            <span class="s2">"Xid"</span>: <span class="s2">"Uk5ZanBHcWw2RjRCbEN5dGtiMTB="</span>,
            <span class="s2">"Eci"</span>: <span class="s2">"5"</span>,
            <span class="s2">"Version"</span>: <span class="s2">"2"</span>,
            <span class="s2">"ReferenceId"</span>: <span class="s2">"a24a5d87-b1a1-4aef-a37b-2f30b91274e6"</span>
        <span class="o">}</span>,
        <span class="s2">"InitiatedTransactionIndicator"</span>: <span class="o">{</span>
            <span class="s2">"Category"</span>: <span class="s2">"C1"</span>,
            <span class="s2">"Subcategory"</span>: <span class="s2">"Standingorder"</span>
        <span class="o">}</span>,        
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-08-26 10:47:53"</span>,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-08-26 10:47:54"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"21c9a3e7-23c2-420b-b12d-b514ef271c85"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/21c9a3e7-23c2-420b-b12d-b514ef271c85"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de Débito.</td>
      <td>Texto</td>
      <td>56</td>
      <td>Url de Autenticação</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnUrl</code></td>
      <td>Url de retorno do lojista. URL para onde o lojista vai ser redirecionado no final do fluxo.</td>
      <td>Texto</td>
      <td>1024</td>
      <td>http://www.urllogista.com.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.MerchantAdviceCode</code></td>
      <td>Código de retorno da bandeira que define período para retentativa. <em>Válido somente para bandeira Mastercard</em>. Saiba mais <a href="https://developercielo.github.io/manual/cielo-ecommerce#mastercard" target="\_blank">Programa de retentativa das bandeiras para Mastercard</a>.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.DebitCard.PaymentAccountReference</code></td>
      <td>O PAR (Payment Account Reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado. Se for pra transação de crédito, colocar o campo dentro do nó de <code class="language-plaintext highlighter-rouge">CreditCard</code></td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="autenticando-uma-transação">Autenticando uma transação</h3>

<p>A Cielo oferece o serviço do 3DS 2.0, um protocolo de autenticação de transações. A autenticação é opcional para transações de cartão de crédito, e obrigatória para cartão de débito, por determinação das bandeiras e emissores.</p>

<p>Para integrar a autenticação às suas transações:</p>

<ol>
  <li><strong>Integre o script do 3DS 2.0</strong> na sua página de pagamento, conforme <a href="https://developercielo.github.io/manual/3ds" target="\_blank">manual do 3DS</a>;</li>
  <li>Na <strong>requisição das transações</strong> de crédito ou débito, <strong>envie o nó adicional</strong> <code class="language-plaintext highlighter-rouge">ExternalAuthentication</code>, conforme exemplos a seguir.</li>
</ol>

<aside class="notice">A autenticação via 3DS 1.0 está sendo descontinuada pelas bandeiras. As novas integrações devem seguir o protocolo 3DS 2.0.</aside>

<h4 id="cartão-de-crédito-com-autenticação">Cartão de crédito com autenticação</h4>

<h5 id="requisição-3">Requisição</h5>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito completo"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"Recurrent"</span>:<span class="s2">"false"</span>,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"AirlineData"</span>:<span class="o">{</span>
         <span class="s2">"TicketNumber"</span>:<span class="s2">"AR988983"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>Header</td>
      <td>40</td>
      <td>Sim</td>
      <td>application/json (obrigatório o envio deste).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>País do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Pais na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>O complemento do nome da loja que aparecerá na fatura do cartão. Não permite caracteres especiais.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica se a transação é do tipo recorrente (“true”) ou não (“false”). O valor “true” não originará uma nova recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Authenticate deve ser “false” quando Recurrent é “true”. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#recorr%C3%AAncia">Recorrência</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AirlineData.TicketNumber</code></td>
      <td>alfanumérico</td>
      <td>13</td>
      <td>Não</td>
      <td>Informar o número do principal bilhete aéreo da transação.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão. Não aceita caracteres especiais ou acentuação.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impressa no cartão. Ex. MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o <code class="language-plaintext highlighter-rouge">CardToken</code>. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão. Valores possíveis: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas). Se for transação recorrente, usar <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (recorrência própria) ou <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (recorrência programada).<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência.</td>
    </tr>
  </tbody>
</table>

<h5 id="resposta-3">Resposta</h5>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Neturno"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20080123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92745135160550440006111072222"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TryAutomaticCancellation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AirlineData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MerchantAdviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito completo"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Neturno"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"Sala 123"</span>,
            <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"20080123"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"TryAutomaticCancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"MerchantAdviceCode"</span>:<span class="s2">"1"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto impresso na fatura bancaria do portador. Não permite caracteres especiais.</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantAdviceCode</code></td>
      <td>Código de retorno da bandeira que define período para retentativa. <em>Válido somente para bandeira Mastercard</em>. <a href="https://developercielo.github.io/manual/3ds" target="\_blank">Veja mais informações sobre Merchant Advice Code aqui</a>.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">TryAutomaticCancellation</code></td>
      <td>Caso ocorra algum erro durante a autorização (status Não Finalizada - “0”), a resposta incluirá o campo “TryAutomaticCancellation” como true. Neste caso, a transação será consultada automaticamente, e caso tenha sido autorizada será cancelada automaticamente. Esta funcionalidade deverá estar habilitada para loja. Para habilitar, entre em contato com o nosso suporte técnico.</td>
      <td>Booleano</td>
      <td>-</td>
      <td>true ou false</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>O PAR (Payment Account Reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado.Se for pra transação de débito, colocar o campo dentro do nó de <code class="language-plaintext highlighter-rouge">DebitCard</code></td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h4 id="cartão-de-débito-com-autenticação">Cartão de débito com autenticação</h4>

<p>A transação de débito com autenticação é o padrão para esse meio de pagamento. Siga os passos de integração do <a href="https://developercielo.github.io/manual/3ds" target="\_blank">manual do 3DS</a> e envie a requisição conforme apresentada em <a href="https://developercielo.github.io/manual/cielo-ecommerce#criando-uma-transa%C3%A7%C3%A3o-de-d%C3%A9bito">Criando uma Transação de Débito</a>.</p>

<h4 id="mpi-externo">MPI Externo</h4>

<p>O Merchant plug-in, conhecido por MPI, é um serviço que permite a realização da chamada de autenticação, integrado e certificado com bandeiras para processamento de autenticação de 3DS. A Cielo permite ao lojista a integração do 3DS através do MPI Interno ou do MPI Externo.</p>

<ul>
  <li>
    <p><strong>MPI Interno</strong>: serviço já integrado a solução de 3DS Cielo, sem necessidade de integração e/ou contratação adicional.</p>
  </li>
  <li>
    <p><strong>MPI Externo</strong>: usado quando o seu e-commerce contrata uma solução de MPI, sem participação da Cielo. Independente da versão do 3DS contratada, siga as orientações do manual <a href="https://developercielo.github.io/manual/autorizacao-com-autenticacao" target="\_blank">3. Autorização com Autenticação</a> para a integração.</p>
  </li>
</ul>

<h3 id="tabelas-do-indicador-de-início-da-transação-mastercard">Tabelas do Indicador de Início da Transação Mastercard</h3>

<p>As tabelas a seguir se aplicam para transações de crédito e débito Mastercard com credenciais armazenadas. O objetivo é identificar se a transação foi iniciada pelo <strong>titular do cartão</strong> (Cardholder Initiated Transaction - CIT) ou pela <strong>loja</strong> (Merchant Initiated Transaction - MIT).</p>

<p>Para indicar o iniciador de transação, é obrigatório enviar o nó <code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator</code>. Este nó tem dois parâmetros, categoria (<code class="language-plaintext highlighter-rouge">Category</code>) e subcategoria (<code class="language-plaintext highlighter-rouge">Subcategory</code>); confira a seguir os valores correspondentes:</p>

<p><strong>Categoria C1 - transação iniciada pelo portador do cartão</strong></p>

<p><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code> = “C1”</p>

<table>
  <thead>
    <tr>
      <th>Subcategoria do indicador</th>
      <th>Significado</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CredentialsOnFile</code></td>
      <td>Salvar dados do cartão para compras futuras.</td>
      <td>O consumidor inicia uma compra e a loja solicita ao consumidor que salve os dados do cartão para futuras compras iniciadas pelo titular do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StandingOrder</code></td>
      <td>Salvar dados do cartão para compras recorrentes de valor variável e frequência fixa.</td>
      <td>Transação inicial para armazenar os dados do cartão para um pagamento mensal de serviços públicos.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Subscription</code></td>
      <td>Salvar dados do cartão para compras recorrentes de valor e frequência fixos.</td>
      <td>Transação inicial para armazenar os dados do cartão para uma assinatura mensal (exemplo: jornais e revistas).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Installment</code></td>
      <td>Salvar dados do cartão para compra parcelada</td>
      <td>Transação inicial para armazenar os dados do cartão para uma compra a ser paga por meio de pagamentos parcelados.</td>
    </tr>
  </tbody>
</table>

<p><strong>Categoria M1 - transação recorrente ou parcelada iniciada pela loja</strong></p>

<p><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code> = “M1”</p>

<p>Nessa categoria, a transação é feita após um acordo com um acordo entre um titular de cartão e a loja, pelo qual o titular do cartão autoriza a loja a armazenar e usar os dados da conta do titular do cartão para iniciar uma ou mais transações futuras, conforme a subcategoria:</p>

<table>
  <thead>
    <tr>
      <th>Subcategoria do indicador</th>
      <th>Significado</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CredentialsOnFile</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja, com valor fixou ou variável e sem intervalo fixo ou data programada.</td>
      <td>Exemplo: o consumidor concorda em permitir que uma concessionária inicie transações de cobrança de pedágio quando o saldo na conta do consumidor estiver abaixo de uma quantia estabelecida (auto recarga).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StandingOrder</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja, com valor variável e intervalo fixo.</td>
      <td>Exemplo: pagamentos mensais de serviços públicos.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Subscription</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja, com valor e intervalo fixos.</td>
      <td>Exemplo: assinatura mensal ou pagamento de serviço mensal fixo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Installment</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja, com valor conhecido e período definido.</td>
      <td>Exemplo: o consumidor compra uma televisão por R$2000,00 e faz o pagamento em quatro parcelas iguais de R$500,00; nesse cenário, a primeira transação é iniciada pelo titular do cartão e as três transações restantes são iniciadas pela loja.</td>
    </tr>
  </tbody>
</table>

<p><strong>Categoria M2 - transação iniciada pela loja</strong></p>

<p><code class="language-plaintext highlighter-rouge">Payment.InitiatedTransactionIndicator.Category</code> = “M2”</p>

<table>
  <thead>
    <tr>
      <th>Subcategoria do indicador</th>
      <th>Significado</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PartialShipment</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja, quando a compra será dividida em mais de uma remessa de entrega.</td>
      <td>Ocorre quando uma quantidade acordada de mercadorias encomendadas por e-commerce não está disponível para envio no momento da compra. Cada remessa é uma transação separada.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RelatedOrDelayedCharge</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja para despesas adicionais.</td>
      <td>Uma cobrança adicional da conta após a prestação dos serviços iniciais e o processamento do pagamento. Exemplo: cobrança do frigobar do hotel após o titular do cartão fazer check-out do hotel.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NoShow</code></td>
      <td>Salvar dados do cartão para compras futuras iniciadas pela loja para cobrança de multas.</td>
      <td>Uma multa cobrada de acordo com a política de cancelamento do estabelecimento. Exemplo: O cancelamento de uma reserva pelo titular do cartão sem aviso prévio adequado ao estabelecimento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Resubmission</code></td>
      <td>Salvar dados do cartão para retentativa de transações negadas anteriormente.</td>
      <td>A tentativa anterior de obter autorização para uma transação foi recusada, mas a resposta do emissor não proíbe a loja de tentar novamente mais tarde. Exemplo: fundos insuficientes/resposta acima do limite de crédito.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Atenção</strong>: Os dados do cartão são armazenados de forma criptografada.</p>
</blockquote>

<h2 id="cartões-alelo">Cartões Alelo</h2>

<p>Para criar uma venda que utilizará cartão de Alelo, é use a mesma requisição de uma venda de <strong>cartão de débito</strong>.</p>

<p><strong>OBS:</strong> Em transações de Cartão ALELO, os seguintes parâmetros devem possuir configurações estáticas:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code> precisa estar como <strong><code class="language-plaintext highlighter-rouge">false</code>“</strong> ou não ser enviado;</li>
  <li><code class="language-plaintext highlighter-rouge">DebitCard.Brand</code> precisa ser enviada como <strong>“Elo”</strong>.</li>
</ul>

<h3 id="requisição-4">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de Alelo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5080540487508044"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de Alelo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/2029"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"841"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014121201"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Cartão de Alelo"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"Amount"</span>:50,
     <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>,
     <span class="s2">"DebitCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"5080540487508044"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Comprador Cartão de Alelo"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"07/2029"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"841"</span>,
         <span class="s2">"brand"</span>: <span class="s2">"Elo"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>

<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Pública para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Número de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Authenticate</code></td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão. <strong>Valor possível: “false”</strong> ou não enviar.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (default =”false”)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL de retorno do lojista.</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URL para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Número do cartão do comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DebitCard.Holder</code></td>
      <td>Nome do comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Data de validade impressa no cartão. Ex. MM/AAAA.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DebitCard.Brand</code></td>
      <td>Bandeira do cartão. Precisa ser enviada como “ELO”.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-4">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de Alelo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"508054******8044"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de Alelo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/2029"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elo"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"803247"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"107703563079N41O9DJB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"770857"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-30 15:00:24"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-30 15:00:25"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transacao capturada com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8504766-4ae4-4a1f-811f-035964b6c4ee"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/f8504766-4ae4-4a1f-811f-035964b6c4ee"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Cartão de Alelo"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"508054******8044"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Comprador Cartão de Alelo"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"07/2029"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Elo"</span>
        <span class="o">}</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"803247"</span>,
        <span class="s2">"Eci"</span>: <span class="s2">"7"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"107703563079N41O9DJB"</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"770857"</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Amount"</span>: 50,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2018-01-30 15:00:24"</span>,
        <span class="s2">"CapturedAmount"</span>: 50,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2018-01-30 15:00:25"</span>,
        <span class="s2">"ReturnUrl"</span>: <span class="s2">"http://www.cielo.com.br"</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Transacao capturada com sucesso"</span>,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"00"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"f8504766-4ae4-4a1f-811f-035964b6c4ee"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/f8504766-4ae4-4a1f-811f-035964b6c4ee"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>ID da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnUrl</code></td>
      <td>URL de retorno do lojista. URL para onde o lojista vai ser redirecionado no final do fluxo.</td>
      <td>Texto</td>
      <td>1024</td>
      <td>http://www.urllogista.com.br</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da TransaçãoVeja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="pix">Pix</h2>

<p>No <strong>Pix</strong>, a transmissão da ordem de pagamento e a disponibilidade de fundos para o recebedor ocorrem em tempo real, 24 horas por dia e sem a necessidade de intermediários. Sendo assim, é um meio que viabiliza pagamentos rápidos e com menores custos de transação.</p>

<p>Conheça o ciclo de vida de uma transação <strong>Pix</strong>:</p>

<table>
  <thead>
    <tr>
      <th>SEQUÊNCIA</th>
      <th>RESPONSÁVEL</th>
      <th>DESCRIÇÃO</th>
      <th>STATUS DA TRANSAÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Loja</td>
      <td>Geração do QR code.</td>
      <td>12 - Pendente</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Comprador</td>
      <td>Pagamento do QR code.</td>
      <td>2 - Pago</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Loja</td>
      <td>Recebimento da notificação de confirmação do pagamento.</td>
      <td>2 - Pago</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Loja</td>
      <td>Consulta ao status da transação.</td>
      <td>2 - Pago</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Loja</td>
      <td>Liberação do pedido.</td>
      <td>2 - Pago</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Loja</td>
      <td>Caso necessário, solicitação da devolução da transação Pix (semelhante ao estorno do cartão).</td>
      <td>2 - Pago</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Loja</td>
      <td>Recebimento da notificação de confirmação de devolução.</td>
      <td>11 - Estornado</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Loja</td>
      <td>Consulta ao status da transação.</td>
      <td>11 - Estornado</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>ATENÇÃO</strong>:</p>
  <ul>
    <li>Para habilitar o Pix no ambiente sandbox entre em contato com nosso canal de suporte e-commerce pelo e-mail <em>cieloecommerce@cielo.com.br</em>;</li>
    <li>Antes de usar o Pix em produção, certifique-se de que o pix está liberado em seu cadastro. Para confirmar basta acessar o <a href="https://www.cielo.com.br/" target="\_blank">portal Cielo</a> na área logada em <strong>Meu Cadastro</strong> &gt; <strong>Autorizações</strong> &gt; <strong>PIX</strong>
<img src="https://developercielo.github.io/images/apicieloecommerce/adesao-pix.png" alt="Geração do QR Code Pix" /></li>
  </ul>
</blockquote>

<h3 id="criando-uma-transação-com-qr-code-pix">Criando uma transação com QR Code Pix</h3>

<p>Para gerar um QR code Pix através da API Cielo E-commerce, basta realizar a integração conforme a especificação a seguir.</p>

<p>O campo obrigatório <code class="language-plaintext highlighter-rouge">Payment.Type</code> deve ser enviado como “Pix”. Na resposta da requisição será retornado o <em>código base64</em> da imagem do QR Code Pix, que você deverá disponibilizar ao comprador.</p>

<p>Confira a representação do <strong>fluxo transacional</strong> na geração do QR Code Pix:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/geracao-qr-code-pix-pt.png" alt="Geração do QR Code Pix" /></p>

<p>O comprador então realiza a leitura do QR code através de um dos aplicativos habilitados para o pagamento Pix e efetiva o pagamento. Nesta etapa não há participação da loja nem da API E-commerce Cielo, conforme demonstrado no fluxo:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/pagamento-pix-pt.png" alt="Pagamento Pix" /></p>

<aside class="notice">O tempo de expiração do QRCode Pix Cielo é de 24 horas.</aside>

<p>Veja exemplos de envio de requisição e resposta para a geração do QR Code Pix:</p>

<h4 id="requisição-5">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020102601"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Pagador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pix"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://(...)/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2020102601"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Pagador"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"12345678909"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="s2">"Type"</span>:<span class="s2">"Pix"</span>,
      <span class="s2">"Amount"</span>:100
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Número de identificação do pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do pagador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Número do CPF ou CNPJ do cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ).</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do meio de pagamento. Neste caso, “Pix”.</td>
      <td>Texto</td>
      <td>-</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do pedido, em centavos.</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-5">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2020102601"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Pagador"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
      </span><span class="err">(...)</span><span class="w">
      </span><span class="nl">"Paymentid"</span><span class="p">:</span><span class="s2">"1997be4d-694a-472e-98f0-e7f4b4c8f1e7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Pix"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AcquirerTransactionId"</span><span class="p">:</span><span class="s2">"86c200c7-7cdf-4375-92dd-1f62dfa846ad"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"QrcodeBase64Image"</span><span class="p">:</span><span class="s2">"rfhviy64ak+zse18cwcmtg==[...]"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"QrCodeString"</span><span class="p">:</span><span class="s2">"00020101021226880014br.gov.bcb.pix2566qrcodes-h.cielo.com.br/pix-qr/d05b1a34-ec52-4201-ba1e-d3cc2a43162552040000530398654041.005802BR5918Merchant Teste HML6009Sao Paulo62120508000101296304031C"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="s2">"2020-10-15 18:53:20"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="s2">"Pix gerado com sucesso"</span><span class="p">,</span><span class="w">
      </span><span class="err">(...)</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2020102601"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Nome do Pagador"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
      <span class="o">(</span>...<span class="o">)</span>
      <span class="s2">"PaymentId"</span>:<span class="s2">"1997be4d-694a-472e-98f0-e7f4b4c8f1e7"</span>,
      <span class="s2">"Type"</span>:<span class="s2">"Pix"</span>,
      <span class="s2">"AcquirerTransactionId"</span>:<span class="s2">"86c200c7-7cdf-4375-92dd-1f62dfa846ad"</span>,
         <span class="s2">"ProofOfSale"</span>:<span class="s2">"123456"</span>,
      <span class="s2">"QrcodeBase64Image"</span>:<span class="s2">"rfhviy64ak+zse18cwcmtg==[...]"</span>,
      <span class="s2">"QrCodeString"</span>:<span class="s2">"00020101021226880014br.gov.bcb.pix2566qrcodes-h.cielo.com.br/pix-qr/d05b1a34-ec52-4201-ba1e-d3cc2a43162552040000530398654041.005802BR5918Merchant Teste HML6009Sao Paulo62120508000101296304031C"</span>,
      <span class="s2">"Amount"</span>:100,
      <span class="s2">"ReceivedDate"</span>:<span class="s2">"2020-10-15 18:53:20"</span>,
      <span class="s2">"Status"</span>:12,
      <span class="s2">"ReturnCode"</span>:<span class="s2">"0"</span>,
      <span class="s2">"ReturnMessage"</span>:<span class="s2">"Pix gerado com sucesso"</span>,
      <span class="o">(</span>...<span class="o">)</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>FORMATO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentId</code></td>
      <td>Campo identificador do pedido.</td>
      <td>GUID</td>
      <td>40</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.AcquirerTransactionId</code></td>
      <td>Id da transação no provedor de meio de pagamento.</td>
      <td>GUID</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>NSU Pix.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.QrcodeBase64Image</code></td>
      <td>Código em base64 da imagem do QR code.</td>
      <td>Texto</td>
      <td>-</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.QrCodeString</code></td>
      <td>Texto codificado para o comprador “copiar” e “colar” no campo do internet banking em pagamentos feitos no ambiente mobile.</td>
      <td>Texto</td>
      <td>Variável</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Status</code></td>
      <td>Status da transação. Em caso de sucesso, o status inicial é “12” (<em>Pendente</em>). Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Número</td>
      <td>-</td>
      <td>12</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnCode</code></td>
      <td>Código retornado pelo provedor do meio de pagamento.</td>
      <td>Texto</td>
      <td>32</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReturnMessage</code></td>
      <td>Mensagem retornada pelo provedor do meio de pagamento.</td>
      <td>Texto</td>
      <td>512</td>
      <td>“Pix gerado com sucesso”</td>
    </tr>
  </tbody>
</table>

<h3 id="solicitando-uma-devolução-pix">Solicitando uma devolução Pix</h3>

<p>Caso a sua loja precise cancelar uma transferência Pix, é possível realizar uma operação chamada de <strong>devolução</strong>. É importante ressaltar que a devolução não é uma operação instantânea, podendo ser acatada ou não pelo provedor Pix. Quando uma devolução é acatada, uma <a href="https://developercielo.github.io/manual/cielo-ecommerce#post-de-notifica%C3%A7%C3%A3o">notificação</a> será enviada para a sua loja.<br /></p>

<blockquote>
  <p><strong>Importante:</strong><br /></p>

  <ul>
    <li>A devolução ocorrerá somente se houver saldo;<br /></li>
    <li>O prazo para cancelamento é de 90 dias, conforme especificação do BACEN.</li>
  </ul>
</blockquote>

<h4 id="requisição-6">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=xxx</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> PUT <span class="s2">"https://(...)/sales/{PaymentId}/void?Amount=xxx"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para autenticação dupla na API.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do request definido pela loja, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Campo identificador do pedido.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor a ser cancelado/estornado, em centavos. Verifique se a adquirente contratada suporta a operação de cancelamento ou estorno.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-6">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reembolso solicitado com sucesso"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://(...)/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
   <span class="s2">"Status"</span>: 12,
   <span class="s2">"ReasonCode"</span>: 0,
   <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
   <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
   <span class="s2">"ReturnMessage"</span>: <span class="s2">"Reembolso solicitado com sucesso"</span>,
   <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
         <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
         <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
         <span class="s2">"Href"</span>: <span class="s2">"https://(...)/sales/{PaymentId}"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da transação.</td>
      <td>Byte</td>
      <td>2</td>
      <td>Ex.: “1”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="boleto">Boleto</h2>

<p>Para transacionar por boleto, você precisa primeiro contratar esse serviço com o banco. Em seguida, configure o meio de pagamento boleto de acordo com as orientações do manual <a href="https://developercielo.github.io/tutorial/manual-boleto" target="\_blank">Boletos</a>.</p>

<blockquote>
  <p><strong>Observação:</strong> Os boletos do Banco do Brasil não possuem o serviço de conciliação automática.</p>
</blockquote>

<h3 id="requisição-7">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste Boleto"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"1234567890"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
          <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
          <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
          <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
          <span class="s2">"ZipCode"</span> : <span class="s2">"22750012"</span>,
          <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
          <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
          <span class="s2">"State"</span> : <span class="s2">"RJ"</span>,
          <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"Billing"</span>: <span class="o">{</span>
           <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
           <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
           <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
           <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
           <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
           <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
           <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
           <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>
  <span class="o">}</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco2"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"BoletoNumber"</span>: <span class="s2">"123"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2020-12-31"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>Bradesco: 27<br />Banco do Brasil: 50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>Bradesco: 34<br />Banco do Brasil: 60</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja(NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>Bradesco: 50<br />Banco do Brasil: 18</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Street</code></td>
      <td>Logradouro do endereço de cobrança</td>
      <td>string</td>
      <td>24</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Number</code></td>
      <td>Número do endereço de cobrança</td>
      <td>string</td>
      <td>5</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Complement</code></td>
      <td>Complemento do endereço de cobrança</td>
      <td>string</td>
      <td>14</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Neighborhood</code></td>
      <td>Bairro do endereço de cobrança</td>
      <td>string</td>
      <td>15</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.City</code></td>
      <td>Cidade do endereço de cobranças</td>
      <td>tring</td>
      <td>20</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.State</code></td>
      <td>Estado do endereço de cobrança</td>
      <td>string</td>
      <td>2</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.Country</code></td>
      <td>País do endereço de cobrança. Mais informações em <a href="https://www.iso.org/obp/ui" target="\_blank">ISO 2-Digit Alpha Country Code</a></td>
      <td>string</td>
      <td>2</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Billing.ZipCode</code></td>
      <td>Código postal do endereço de cobrança</td>
      <td>string</td>
      <td>9</td>
      <td>não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO. Valores possíveis: “Bradesco2”, “BancoDoBrasil2” ou “BancoDoBrasil3”</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Address</code></td>
      <td>Endereço do Cedente.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Número do Boleto enviado pelo lojista. Usado para contar boletos emitidos (“NossoNumero”).</td>
      <td>Número</td>
      <td>Bradesco: 11<br />Banco do Brasil: 9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Assignor</code></td>
      <td>Nome do Cedente.</td>
      <td>Texto</td>
      <td>200</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Demonstrative</code></td>
      <td>Texto de Demonstrativo.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ExpirationDate</code></td>
      <td>Data de expiração do Boleto. Ex. 2020-12-31</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Identification</code></td>
      <td>Documento de identificação do Cedente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>Instruções do Boleto.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-7">Resposta</h3>

<p>Na resposta da transação de boleto, a API Cielo E-commerce vai enviar a URL do boleto e o código de barras, que o e-commerce deverá exibir para o comprador.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Boleto Completo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Billing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Neighborhood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-05"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00096629900000157000494250000000012300656560"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Boleto Completo"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
        <span class="s2">"Street"</span>: <span class="s2">"Av Marechal Camara"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
        <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
        <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>: <span class="s2">"Centro"</span>
        <span class="o">}</span>,
      <span class="s2">"Billing"</span>: <span class="o">{</span>
         <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
         <span class="s2">"Number"</span>: <span class="s2">"160"</span>,
         <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
         <span class="s2">"Neighborhood"</span>: <span class="s2">"Centro"</span>,
         <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>: <span class="s2">"BR"</span>,
         <span class="s2">"ZipCode"</span>: <span class="s2">"22750012"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2015-01-05"</span>,
        <span class="s2">"Url"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"123-2"</span>,
        <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00096629900000157000494250000000012300656560"</span>,
        <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco2"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Instructions</code></td>
      <td>Instruções do Boleto.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ex: Aceitar somente até a data de vencimento, após essa data juros de 1% dia.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Data de expiração.</td>
      <td>Texto</td>
      <td>10</td>
      <td>2014-12-25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Url</code></td>
      <td>Url do Boleto gerado.</td>
      <td>string</td>
      <td>256</td>
      <td>Ex:https://…/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Number</code></td>
      <td>“NossoNumero” gerado.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Ex: 1000000012-8</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BarCodeNumber</code></td>
      <td>Representação numérica do código de barras.</td>
      <td>Texto</td>
      <td>44</td>
      <td>Ex: 00091628800000157000494250100000001200656560</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DigitableLine</code></td>
      <td>Linha digitável.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: 00090.49420 50100.000004 12006.565605 1 62880000015700</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Assignor</code></td>
      <td>Nome do Cedente.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: Loja Teste</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Address</code></td>
      <td>Endereço do Cedente.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: Av. Teste, 160</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Identification</code></td>
      <td>Documento de identificação do Cedente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>CPF ou CNPJ do Cedente sem os caracteres especiais (., /, -)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h3 id="regras-adicionais">Regras Adicionais</h3>

<p>Quantidade de caracteres por campo e Provider:</p>

<p><strong>Bradesco</strong></p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Observações</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>N/a</td>
      <td>Bradesco2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Apenas Letras, números e caracteres como “_” e “$”.</td>
      <td>27</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>O dado é validado pelo banco.</td>
      <td>11</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>A API Cielo trunca automaticamente.</td>
      <td>34</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>O dado é validado pela API Cielo.</td>
      <td>70</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>O dado é validado pela API Cielo.</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>O dado é validado pela API Cielo.</td>
      <td>20</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>O dado é validado pela API Cielo.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>O dado é validado pela API Cielo.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Demonstrative</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<p><strong>Banco do Brasil</strong></p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Observações</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>BancoDoBrasil2, BancoDoBrasil3</td>
      <td>BancoDoBrasil2, BancoDoBrasil3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Não é enviado ao banco.</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Quando enviado acima de 9 posições, a API Cielo trunca automaticamente, considerando os últimos 9 dígitos.</td>
      <td>9</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras.</td>
      <td>60</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras</td>
      <td>Os campos <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> devem totalizar até 60 caracteres.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras</td>
      <td>Os campos <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> devem totalizar até 60 caracteres.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras</td>
      <td>Os campos <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> devem totalizar até 60 caracteres.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras</td>
      <td>Os campos <code class="language-plaintext highlighter-rouge">Customer.Address.Street</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Number</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code>; <code class="language-plaintext highlighter-rouge">Customer.Address.District</code> devem totalizar até 60 caracteres.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td><br /><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras.</td>
      <td>18 caracteres</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Instructions</code></td>
      <td>N/a</td>
      <td>255</td>
    </tr>
  </tbody>
</table>

<h2 id="e-wallets">E-wallets</h2>

<p><strong>O que são e-wallets?</strong></p>

<p>As <em>e-wallets</em>, ou carteiras digitais, são repositórios de cartões e dados de pagamentos para consumidores online. As e-wallets permitem que um consumidor realize o cadastro de seus dados de pagamento na carteira, tornando o processo de compra mais conveniente e seguro.</p>

<blockquote>
  <p>Para utilizar e-wallets na API Cielo E-commerce, o lojista deverá ter as <strong>e-wallets integradas em seu checkout</strong>.</p>
</blockquote>

<p>Entre em contato com o provedor de sua preferência para maiores informações sobre como contratar o serviço.</p>

<h3 id="e-wallets-disponíveis">E-wallets disponíveis</h3>

<p>A API Cielo E-commerce possui suporte para as seguintes carteiras digitais:</p>

<ul>
  <li><a href="https://www.apple.com/br/apple-pay/" target="\_blank"><em>Apple Pay</em></a></li>
  <li><a href="https://www.samsung.com.br/samsungpay/" target="\_blank"><em>Samsung Pay</em></a></li>
  <li><a href="https://pay.google.com/intl/pt-BR_br/about/" target="\_blank"><em>Google Pay</em></a></li>
</ul>

<aside class="notice">Atenção: Quando o nó “Wallet” for enviado na requisição, o nó “CreditCard” passa a ser opcional.</aside>

<aside class="notice">Atenção: Para o cartão de débito, quando for enviado na requisição o nó “Wallet”, será necessário o nó “DebitCard” contendo a “ReturnUrl”.</aside>

<aside class="notice">Atenção:  Devido a necessidade de utilização de chaves efêmeras para realizar operações de crédito, a Recorrência não está disponível para transações de e-wallets. </aside>

<h3 id="integração-da-e-wallet">Integração da E-Wallet</h3>

<p>Consulte nosso <a href="https://developercielo.github.io/manual/e-wallets-ecommercecielo" target="\_blank">manual E-Wallets</a> e saiba mais detalhes sobre a integração desse meio de pagamento em seu checkout.</p>

<p>Com a e-wallet já totalmente integrada, o seu fluxo transacional de pagamento será o seguinte:</p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/e-wallets/e-wallets-cielo-100.png" alt="Fluxo E-wallets" /></p>

<h2 id="qr-code">QR Code</h2>

<h3 id="cartão-de-crédito-via-qr-code-em-sandbox">Cartão de crédito via QR Code em Sandbox</h3>

<p>Para testar em sandbox o cenário de autorização com sucesso via QRCode, utilize o cartão <strong>4551.8700.0000.0183</strong></p>

<p>As informações de <strong>Cód.Segurança (CVV)</strong> e validade podem ser aleatórias, mantendo o formato:</p>

<ul>
  <li>CVV com 3 dígitos;</li>
  <li>Validade no formato <em>MM/YYYY</em>.</li>
</ul>

<h3 id="gerando-um-qr-code-via-api">Gerando um QR Code via API</h3>

<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="language-plaintext highlighter-rouge">POST</code> para o recurso Payment, conforme o exemplo. Esse exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<aside class="notice">Atenção: Não é possivel realizar uma transação com valor (`Amount`) 0.</aside>

<blockquote>
  <p><strong>Facilitadores de Pagamento</strong> (ou subcredenciadores) devem, obrigatoriamente, enviar os parâmetros do nó <code class="language-plaintext highlighter-rouge">PaymentFacilitator</code> por exigência do Banco Central e das bandeiras. Caso não sejam enviados, a bandeira pode aplicar penalidades ao facilitador de pagamento.</p>
</blockquote>

<h4 id="requisição-8">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Modality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="w">
    </span><span class="nl">"QrCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Loja Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000130733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara 160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CompanyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lojinha01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90501654000191"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24999399555"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2019010101"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"Type"</span>: <span class="s2">"qrcode"</span>,
    <span class="s2">"Amount"</span>: 100,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Modality"</span>: <span class="s2">"Credit"</span>
    <span class="s2">"QrCode"</span>: <span class="o">{</span>
    <span class="s2">"MerchantName"</span>: <span class="s2">"Loja Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"PaymentFacilitator"</span>: <span class="o">{</span>     
        <span class="s2">"EstablishmentCode"</span>: <span class="s2">"12345"</span>,
        <span class="s2">"SubEstablishment"</span>: <span class="o">{</span>
            <span class="s2">"EstablishmentCode"</span>: <span class="s2">"2000130733"</span>,
            <span class="s2">"Mcc"</span>: <span class="s2">"8999"</span>,
            <span class="s2">"Address"</span>: <span class="s2">"Av Marechal Camara 160"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"CountryCode"</span>: <span class="s2">"76"</span>,
            <span class="s2">"PostalCode"</span>: <span class="s2">"20020080"</span>,
            <span class="s2">"CompanyName"</span>: <span class="s2">"Lojinha01"</span>,
            <span class="s2">"Identity"</span>: <span class="s2">"90501654000191"</span>,
            <span class="s2">"PhoneNumber"</span>: <span class="s2">"24999399555"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>Header</td>
      <td>40</td>
      <td>Sim</td>
      <td>application/json (obrigatório o envio deste).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. Enviar <strong>qrcode</strong> para uma transação de QRCode.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não</td>
      <td>Enviar <strong>true</strong> para uma trasação de captura automática.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Modality</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Indica se o pagamento será feito com crédito ou débito. Valores possíveis: “Credit” (padrão) ou “Debit”</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>11</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do Facilitador. “Facilitator ID” (Cadastro do facilitador com as bandeiras)<br />O código é diferente por bandeira, podendo variar inclusive o tamanho do campo:<br />Bandeira Mastercard –06 dígitos<br />Bandeira Visa –08 dígitos<br />Bandeira ELO –de 04 à 05 dígitos<br />Bandeira Hipercard –06 dígitos<br />Para demais bandeiras, como Amex e JCB, o campo pode ser preenchido com “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>15</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do sub Merchant. “Sub-Merchant ID” (Cadastro do subcredenciado com o facilitador)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>Texto*</td>
      <td>14</td>
      <td>Obrigatório para facilitadores</td>
      <td>CNPJ ou CPF do sub-merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>Texto*</td>
      <td>4</td>
      <td>Obrigatório para facilitadores</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>Texto*</td>
      <td>22</td>
      <td>Obrigatório para facilitadores</td>
      <td>Endereço do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.City</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Cidade do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.State</code></td>
      <td>Texto*</td>
      <td>2</td>
      <td>Obrigatório para facilitadores</td>
      <td>Estado do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>Texto*</td>
      <td>9</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código postal do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>Texto*</td>
      <td>3</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código país do sub-merchant com base no ISO 3166<br />Ex: código ISO 3166 do Brasil é o 076. <a href="https://www.iso.org/obp/ui/#search/code/">Lista completa online</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Número de telefone do sub Merchant.</td>
    </tr>
  </tbody>
</table>

<p>*Evite utilizar acentos pois eles são considerados como dois caracteres.</p>

<h4 id="resposta-8">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-02 10:14:29"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QrCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000130733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara 160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20020080"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CompanyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lojinha01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90501654000191"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24999399555"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode gerado com sucesso"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2019010101"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: 0,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2019-01-02 10:14:29"</span>,
        <span class="s2">"Status"</span>: 12,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"QrCodeBase64Image"</span>: <span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span>,
        <span class="s2">"PaymentFacilitator"</span>: <span class="o">{</span>     
            <span class="s2">"EstablishmentCode"</span>: <span class="s2">"12345"</span>,
            <span class="s2">"SubEstablishment"</span>: <span class="o">{</span>
                <span class="s2">"EstablishmentCode"</span>: <span class="s2">"2000130733"</span>,
                <span class="s2">"Mcc"</span>: <span class="s2">"8999"</span>,
                <span class="s2">"Address"</span>: <span class="s2">"Av Marechal Camara 160"</span>,
                <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
                <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
                <span class="s2">"CountryCode"</span>: <span class="s2">"76"</span>,
                <span class="s2">"PostalCode"</span>: <span class="s2">"20020080"</span>,
                <span class="s2">"CompanyName"</span>: <span class="s2">"Lojinha01"</span>,
                <span class="s2">"Identity"</span>: <span class="s2">"90501654000191"</span>,
                <span class="s2">"PhoneNumber"</span>: <span class="s2">"24999399555"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"QRCode gerado com sucesso"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"qrcode"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">QrCodeBase64Image</code></td>
      <td>QRCode codificado na base 64. Por exemplo, a imagem poderá ser apresentada na página utilizando o código HTML como este:<br />&lt;img src="data:image/png;base64, código_da_imagem_na_base_64"&gt;</td>
      <td>Texto</td>
      <td>variável</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. No caso de uma transação de geração de QRCode de pagamento, o status inicial é 12 (Pending).  Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a></td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="carnê">Carnê</h2>

<p>O <strong>carnê</strong> é uma <strong>transação de débito</strong> utilizada para efetuar o pagamento de uma conta.</p>

<blockquote>
  <p>O carnê é um meio de pagamento válido para as bandeiras MasterCard, Visa e Elo.</p>
</blockquote>

<p>Essa modalidade pode ser utilizada por lojistas que <strong>emitem carnês próprios e faturas de cartões Private Label</strong>. O produto carnê permite a <strong>separação das vendas</strong> relacionadas à <strong>compra de produtos e pagamento de serviços</strong>, facilitando reporte de valores junto ao Fisco.</p>

<p>Como qualquer transação de débito no e-commerce, as transações de carnê precisam ser autenticadas via protocolo 3DS 2.0. Obtenha mais informações sobre o protocolo de autenticação no <a href="https://developercielo.github.io/manual/3ds#autentica%C3%A7%C3%A3o-3ds-2.0" target="\_blank"><strong>manual do 3DS 2.0</strong></a>.</p>

<h3 id="requisição-9">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111704"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carnet simples"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CieloSandbox"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05/2024"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unscheduled"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAABAWFlmQAAAABjRWWZEEFgFz+="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blNhMmtMUWg4RDFoV2JaM1RRbjA="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"iscarnetransaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.IsCarneTransaction</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de pagamento de serviço do tipo Carnê</td>
    </tr>
  </tbody>
</table>

<h2 id="implementações-específicas">Implementações específicas</h2>

<h3 id="card-on-file">Card On File</h3>

<p><strong>O que é o Card On File?</strong></p>

<p>As transações de Card on File (COF) são utilizadas por estabelecimentos comerciais para enviar transações financeiras e não financeiras (validação de cartão) com credenciais armazenadas.</p>

<p>A maioria dessas transações não contém um CVV pois as regras PCI impedem o estabelecimento de armazenar esse valor. Porém é importante considerar que um estabelecimento comercial pode ter validado o CVV em uma transação anterior, como no momento da primeira transação Card On File.</p>

<p>São exemplos de segmentos que usam esse tipo de modalidade os serviços de streaming, serviços de educação, academias e assinaturas, entre outros.</p>

<p><strong>Por que usar o Card On File?</strong></p>

<p>O Card On File permite maior agilidade na compra online, uma vez que não solicita que o portador do cartão envie novamente todos os dados (inclusive o CVV); também é possível notar uma melhor taxa de conversão de vendas uma vez que no processo para utilização do COF iniciada pelo estabelecimento comercial, obrigatoriamente, já existe uma transação anterior iniciada pelo portador de cartão que já auxilia na autorização da transação pelo emissor.</p>

<p><strong>Bandeiras Suportadas</strong></p>

<p>O Card On File suporta as seguintes bandeiras:</p>

<ul>
  <li><strong>Mastercard</strong></li>
  <li><strong>Visa</strong></li>
  <li><strong>Elo</strong></li>
</ul>

<h4 id="requisição-10">Requisição</h4>

<blockquote>
  <p>A transação com Card On File pode ser reccorente ou não.</p>
</blockquote>

<p>Veja um exemplo de requisição de transação de crédito de Card on File.</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Recurring"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>OBRIGATÓRIO</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Número de identificação do pedido.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>E-mail do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do meio de pagamento.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>País na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>O complemento do nome da loja que aparecerá na fatura do cartão. Não permite caracteres especiais.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática (“true”) ou captura posterior (“false”).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica se a transação é do tipo recorrente (“true”) ou não (“false”). O valor “true” não originará uma nova recorrência, apenas permitirá a realização de uma transação sem a necessidade de envio do CVV. Authenticate deve ser “false” quando Recurrent é “true”. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#recorr%C3%AAncia">Recorrência</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do cartão do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do comprador impresso no cartão. Não aceita caracteres especiais ou acentuação.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impressa no cartão. Ex. MM/AAAA.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o <code class="language-plaintext highlighter-rouge">CardToken</code>. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão. Valores possíveis: Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td>“First” se o cartão foi armazenado e é seu primeiro uso.<br />“Used” se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo <code class="language-plaintext highlighter-rouge">CardOnFile.Usage</code> for “Used”.<br /><strong>Recurring</strong>: compra recorrente programada (ex. assinaturas). Se for transação recorrente, usar <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (recorrência própria) ou <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (recorrência programada). <br /><strong>Unscheduled</strong>: compra recorrente sem agendamento (ex. aplicativos de serviços).<br /><strong>Installments</strong>: parcelamento através da recorrência.</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-9">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JZHOZJHNZH87KQXM3G60B9I21GVZN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0928084922246"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"652515"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"927181"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsQrCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DynamicCurrencyConversion"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-09-28 08:49:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-09-28 08:49:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91bad53a-9198-4738-a280-f51dddc34988"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/91bad53a-9198-4738-a280-f51dddc34988"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/91bad53a-9198-4738-a280-f51dddc34988/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>PROPRIEDADE</th>
      <th>DESCRIÇÃO</th>
      <th>TIPO</th>
      <th>TAMANHO</th>
      <th>FORMATO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto impresso na fatura bancária do portador. Não permite caracteres especiais.</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplo: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.MerchantAdviceCode</code></td>
      <td>Código de retorno da bandeira que define período para retentativa. Válido somente para bandeira Mastercard.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Numérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>O PAR (Payment Account Reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado.Se for pra transação de débito, colocar o campo dentro do nó de DebitCard.</td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h3 id="quasi-cash">Quasi cash</h3>

<p>Transações Quasi Cash são aquelas transações referentes a compras de fichas para jogos online, compras de bilhete de lotéricas ou relacionados. Apenas alguns MCCs (Códigos de categoria de atuação) que podem processar transações desse modelo. Consulte o time Cielo para entender se o seu negócio entra nesse modelo.</p>

<p>Todos os clientes de E-commerce que transacionarem quasi cash, devem usar a requisição de uma transação de débito e/ou crédito (dependendo do tipo de pagamento escolhido) e encaminhar adicionalmente a tag QuasiCash conforme exemplo a seguir:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
   </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"QuasiCash"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
   </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Usage"</span><span class="p">:</span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parâmetro</th>
      <th>Descrição</th>
      <th>Valor</th>
      <th>Formato</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">QuasiCash</code></td>
      <td>Identifica uma transação de quase cash.</td>
      <td>“true” ou “false”</td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="facilitadores-de-pagamento">Facilitadores de Pagamento</h3>

<p>Todos os clientes de E-Commerce que são <strong>Facilitadores de Pagamento</strong>, por <strong>obrigatoriedade das bandeiras e do Banco Central</strong> devem enviar campos específicos na <strong>mensageria transacional</strong>. A Cielo transmitirá as informações para as bandeiras por meio da mensageria transacional no momento da autorização.</p>

<p>Os campos específicos estão contidos dentro do nó <code class="language-plaintext highlighter-rouge">PaymentFacilitator</code>. Além dos campos deste nó, os facilitadores também precisam enviar obrigatoriamente o campo <code class="language-plaintext highlighter-rouge">SoftDescriptor</code> do nó <code class="language-plaintext highlighter-rouge">Payment</code>. Veja a seguir o exemplo do envio e da resposta.</p>

<blockquote>
  <ul>
    <li><strong>Atenção:</strong> As bandeiras, ao identificarem inconformidade devido ao não envio dos dados obrigatórios na mensageria transacional, aplicarão multas à Cielo as quais serão repassadas ao Facilitador responsável pelo envio dos dados transacionais.</li>
    <li>A bandeira <strong>Visa</strong>, desde 15 de abril de 2023, atualizou as regras para marketplace e todos os merchants que atuam como Facilitadores de Pagamentos e que tenham clientes que operam como Marketplace Estrangeiro precisam, obrigatoriamente, <strong>enviar o indicador de varejo estrangeiro para evitar multa pela bandeira</strong>. O parâmetro específico é o <code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.CountryCode</code>, que indica o codigo do país.</li>
  </ul>
</blockquote>

<h4 id="requisição-11">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222222222"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">157000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4024007197692931"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111000100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"076"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1155855585"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>11</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do Facilitador. “Facilitator ID” (Cadastro do facilitador com as bandeiras)<br />O código é diferente por bandeira, podendo variar inclusive o tamanho do campo:<br />Bandeira Mastercard –06 dígitos<br />Bandeira Visa –08 dígitos<br />Bandeira ELO –de 04 à 05 dígitos<br />Bandeira Hipercard –06 dígitos<br />Para demais bandeiras, como Amex e JCB, o campo pode ser preenchido com “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>15</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do sub Merchant. “Sub-Merchant ID” (Cadastro do subcredenciado com o facilitador)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>Texto*</td>
      <td>14</td>
      <td>Obrigatório para facilitadores</td>
      <td>CNPJ ou CPF do sub-merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>Texto*</td>
      <td>4</td>
      <td>Obrigatório para facilitadores</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>Texto*</td>
      <td>22</td>
      <td>Obrigatório para facilitadores</td>
      <td>Endereço do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.City</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Cidade do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.State</code></td>
      <td>Texto*</td>
      <td>2</td>
      <td>Obrigatório para facilitadores</td>
      <td>Estado do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>Texto*</td>
      <td>9</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código postal do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>Texto*</td>
      <td>3</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código país do sub-merchant com base no ISO 3166<br />Ex: código ISO 3166 do Brasil é o 076. <a href="https://www.iso.org/obp/ui/#search/code/">Lista completa online</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Número de telefone do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Softdescriptor</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Texto impresso na fatura bancaria comprador. Deve ser preenchido de acordo com os dados do sub Merchant.</td>
    </tr>
  </tbody>
</table>

<p>*<em>Evite utilizar acentos pois eles são considerados como dois caracteres.</em></p>

<aside class="warning">Atenção: Os campos não devem ser enviados com espaçamento a esquerda. Sujeito a rejeição na liquidação das transações.</aside>

<h4 id="resposta-10">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1223092935684"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2935684"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"065158"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQrCode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentFacilitator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SubEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111000100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CountryCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"076"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1155855585"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">157000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-23 09:29:34"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>11</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do Facilitador. “Facilitator ID” (Cadastro do facilitador com as bandeiras)<br />O código é diferente por bandeira, podendo variar inclusive o tamanho do campo:<br />Bandeira Mastercard –06 dígitos<br />Bandeira Visa –08 dígitos<br />Bandeira ELO –de 04 à 05 dígitos<br />Bandeira Hipercard –06 dígitos<br />Para demais bandeiras, como Amex e JCB, o campo pode ser preenchido com “0” zeros.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.EstablishmentCode</code></td>
      <td>Texto*</td>
      <td>15</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do sub Merchant. “Sub-Merchant ID” (Cadastro do subcredenciado com o facilitador)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Identity</code></td>
      <td>Texto*</td>
      <td>14</td>
      <td>Obrigatório para facilitadores</td>
      <td>CNPJ ou CPF do sub-merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Mcc</code></td>
      <td>Texto*</td>
      <td>4</td>
      <td>Obrigatório para facilitadores</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.Address</code></td>
      <td>Texto*</td>
      <td>22</td>
      <td>Obrigatório para facilitadores</td>
      <td>Endereço do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.City</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Cidade do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.State</code></td>
      <td>Texto*</td>
      <td>2</td>
      <td>Obrigatório para facilitadores</td>
      <td>Estado do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PostalCode</code></td>
      <td>Texto*</td>
      <td>9</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código postal do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.CountryCode</code></td>
      <td>Texto*</td>
      <td>3</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código país do sub-merchant com base no ISO 3166.<br />Ex: código ISO 3166 do Brasil é o 076. <a href="https://www.iso.org/obp/ui/#search/code/">Lista completa online</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.PaymentFacilitator.SubEstablishment.PhoneNumber</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Número de telefone do sub Merchant.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Softdescriptor</code></td>
      <td>Texto*</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Texto impresso na fatura bancaria comprador. Deve ser preenchido de acordo com os dados do sub Merchant.</td>
    </tr>
  </tbody>
</table>

<p>*<em>Evite utilizar acentos pois eles são considerados como dois caracteres.</em></p>

<h3 id="transações-cbps">Transações CBPS</h3>

<p>Entidades que operam como CBPS (em português, Serviço de Pagamento de Contas para Consumidores) são empresas que oferecem serviços consolidados de pagamento de contas ao portador de cartão. A Marcação de CBPS é uma opção específica para a bandeira Visa e fornece mais visibilidade e precisão nas transações.</p>

<p>Os estabelecimentos que operam com esse serviço devem ser registrados junto a Visa e para operar como tal, devem enviar algumas informações adicionais através da mensageria, que são exigidas pela bandeira. Veja abaixo:</p>

<h4 id="requisição-12">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantorderid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456ABCD1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"João das Contas accept"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5521923455678"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsCustomerBillPaymentService"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CieloSandbox"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cardnumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2022"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"securitycode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jcb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"savecard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>IsCustomerBillPaymentService</td>
      <td>Boolean</td>
      <td>—</td>
      <td>Não</td>
      <td>True ou false. Indica se é uma transação CBPS (Serviço de Pagamento de Contas para Consumidores)</td>
    </tr>
    <tr>
      <td>Wallet.AdditionalData.Mcc</td>
      <td>String (numérico)</td>
      <td>4</td>
      <td>Sim, para transações de CBPS</td>
      <td>MCC do estabelecimento (EC) permitido para transações de CBPS</td>
    </tr>
  </tbody>
</table>

<h3 id="transações-sdwo">Transações SDWO</h3>

<p>Se categoriza como uma SDWO (Staged Digital Wallet Operators) uma empresa que oferece serviços de carteira digital/wallet, ou seja, que permite que o portador pague a aquisição de um produto ou serviço por meio de sua própria plataforma, seja com cadastro de cartões de crédito ou debito, ou geração de QR code.</p>

<p>Para transacionar como SDWO, o estabelecimento precisa se registrar junto as bandeiras. Para isso, procure seu gestor comercial Cielo para mais informações.</p>

<p>No caso de transações de e-commerce de uma SDWO com cartão de crédito ou débito (não originadas por um QR Code), é necessário que a carteira mande alguns dados adicionais na transação, para que as bandeiras possam identificar e diferenciar esse tipo de transação. Veja abaixo as especificações:</p>

<blockquote>
  <p>Além dos campos específicos dessa modalidade, para transações SDWO de compra também é obrigatório o envio do Soft Descriptor (campo <code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code>) e CNPJ do portador, caso seja pessoa jurídica (campos <code class="language-plaintext highlighter-rouge">Customer.Identity</code> e <code class="language-plaintext highlighter-rouge">Customer.IdentityType</code>). Confira mais detalhes desses campos na tabela de campos da requisição.</p>
</blockquote>

<p>Para efetuar testes, é necessário apenas seguir as orientações do menu <a href="https://developercielo.github.io/manual/cielo-ecommerce#sandbox-e-ferramentas">Sandbox e ferramentas</a></p>

<p>Para enviar o MCC do varejista na transação de SDWO, a orientação do mercado é utilizar a tabela da ABECS (Associação Brasileira das Empresas de cartões de crédito e Serviços) que realiza o de-para de CNAEs para os MCCS de toda a indústria. Essa tabela é atualizada constantemente e está disponível online no site da Abecs no seguinte link: <a href="https://www.abecs.org.br/consulta-mcc-individual">ABECS</a></p>

<p><strong>Importante:</strong> A marcação de SDWO é apenas aceita para as seguintes modalidades e bandeiras: Visa/Elo- crédito e débito; Mastercard - apenas crédito. Aceita cartões estrangeiros.</p>

<h4 id="requisição-13">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012345678"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carteira"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CARTEIRA*NOMELOJA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PlatformOperator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório para transações de SDWO?</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.PlatformOperator</code></td>
      <td>String (texto)</td>
      <td>3</td>
      <td>Sim</td>
      <td>Sigla da carteira que está cadastrada aqui na Cielo como carteira digital (verificar sua sigla com seu gestor comercial)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.Mcc</code></td>
      <td>String (numérico)</td>
      <td>4</td>
      <td>Sim</td>
      <td>MCC do varejista subjacente (pra transações de compra); MCC da carteira digital (para transações de abastecimento de crédito na carteira caso aplicável – no qual é necessária a marcação de cash in também vista nessa sessão)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim, se o portador for pessoa jurídica (CNPJ)</td>
      <td>Número do CPF ou CNPJ do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim, se o portador for pessoa jurídica (CNPJ)</td>
      <td>Tipo de documento de identificação do comprador (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Sim</td>
      <td>Texto que será impresso na fatura bancária do portador.<br /> Não permite caracteres especiais.<br />Necessário preencher com <strong>Nome da carteira*nome do lojista</strong>.</td>
    </tr>
  </tbody>
</table>

<h3 id="transações-cash-in">Transações Cash In</h3>

<p>Uma transação do tipo Cash In é uma operação de adição de créditos em uma carteira digital. Os estabelecimentos que operam com esse tipo de transação devem ser registrados como carteira digital junto as bandeiras e devem estar cadastrados com um dos seguintes <strong>MCCs (Códigos de categoria do estabelecimento)</strong>:</p>

<table>
  <thead>
    <tr>
      <th>EC</th>
      <th>CHAVE</th>
      <th>MCC</th>
      <th>BANDEIRAS ACEITAS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2000019700</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6051/6540/6538/4829</td>
      <td>Mastercard</td>
    </tr>
    <tr>
      <td>2000019700</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6051/6540</td>
      <td>Visa</td>
    </tr>
    <tr>
      <td>2000019853</td>
      <td>8c08a0d0f00b73dedd2673a06fa725b0bd8edbf71c4c7dd0614bf408e4d16120</td>
      <td>6540</td>
      <td>Elo</td>
    </tr>
  </tbody>
</table>

<p>Além disso, precisam enviar alguns dados adicionais na transação, para que as bandeiras possam identificar e diferenciar esse tipo de transação. Veja as especificações:</p>

<blockquote>
  <p>Além dos campos específicos dessa modalidade, para transações Cash In também é obrigatório o envio do Soft Descriptor (campo <code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code>) e CPF ou CNPJ do portador (campo <code class="language-plaintext highlighter-rouge">Customer.Identity</code> e campo <code class="language-plaintext highlighter-rouge">Customer.IdentityType</code>). No caso de Cash In, o campo do Soft Descriptor precisa ser preenchido com <strong>nome da carteira*nome do portador</strong>. Confira mais detalhes na tabela de campos da requisição.</p>
</blockquote>

<p><strong>Importante:</strong> A marcação de Cash In é apenas aceita para as seguintes modalidades e bandeiras: Visa/Mastercard só crédito; Elo débito e crédito. Não é aceita para cartão estrangeiro.</p>

<h4 id="requisição-14">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012345678"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Carteira"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CARTEIRA*NOMEPORTADOR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532110000001234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PlatformOperator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CashIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
        </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.PlatformOperator</code></td>
      <td>String (texto)</td>
      <td>3</td>
      <td>Sim, para transações de Cash In</td>
      <td>Sigla da carteira que está cadastrada aqui na Cielo como carteira digital (verificar sua sigla com seu gestor comercial)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.CashIn</code></td>
      <td>String (texto)</td>
      <td>-</td>
      <td>Sim, para transações de Cash In</td>
      <td>Enviar como “True” se for uma transação de Cash In</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Wallet.AdditionalData.Mcc</code></td>
      <td>String (numérico)</td>
      <td>4</td>
      <td>Sim, para transações de Cash In</td>
      <td>MCC do varejista subjacente (para transações de compra); MCC da carteira digital (para transações de abastecimento de crédito na carteira caso aplicável - no qual é necessária a marcação de cash in também vista nessa sessão)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim, para transações de Cash In</td>
      <td>Número do CPF ou CNPJ do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim, para transações de Cash In</td>
      <td>Tipo de documento de identificação do comprador (CPF/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Sim, para transações de Cash In</td>
      <td>Texto que será impresso na fatura bancária do portador.<br /> Não permite caracteres especiais.<br />Necessário preencher com <strong>Nome da carteira*nome do portador</strong>.</td>
    </tr>
  </tbody>
</table>

<h1 id="tokenização-de-cartões">Tokenização de cartões</h1>

<p><strong>O que é a <em>tokenização</em> de cartões?</strong></p>

<p>É uma criptografia que permite o armazenamento seguro de dados sensíveis de cartão de crédito. Estes dados são transformados em um código criptografado chamado de <em>token</em>, que poderá ser armazenado em banco de dados. Com a tokenização, a loja poderá oferecer recursos como “Compra com um clique” e compras com <strong>recorrência</strong>, sempre preservando a integridade e a confidencialidade das informações.</p>

<h2 id="criando-um-cartão-tokenizado-antes-da-autorização">Criando um cartão tokenizado antes da autorização</h2>

<p>Para salvar um cartão sem autorizar uma transação, basta realizar uma requisição de tokenização com os dados do cartão.</p>

<h3 id="requisição-15">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/card/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CustomerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste Cielo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532117080573700"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador T Cielo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/card/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"CustomerName"</span>: <span class="s2">"Comprador Teste Cielo"</span>,
    <span class="s2">"CardNumber"</span>:<span class="s2">"4532117080573700"</span>,
    <span class="s2">"Holder"</span>:<span class="s2">"Comprador T Cielo"</span>,
    <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
    <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do cartão do comprador.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impressa no cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-11">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"CardToken"</span>: <span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span>,
  <span class="s2">"Links"</span>: <span class="o">{</span>
    <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
    <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
    <span class="s2">"Href"</span>: <span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PCardtoken</code></td>
      <td>Token de identificação do cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-um-cartão-tokenizado-durante-uma-autorização">Criando um cartão tokenizado durante uma autorização</h2>

<p>Para salvar um cartão criando seu token durante a autorização da transação de crédito, envie a requisição padrão de <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%A3o-de-cr%C3%A9dito">transação de crédito</a> e no campo <code class="language-plaintext highlighter-rouge">SaveCard</code> informe o valor “true”.</p>

<p>A resposta da requisição retornará o token do cartão no campo <code class="language-plaintext highlighter-rouge">CardToken</code>.</p>

<h2 id="tokenização-de-bandeira">Tokenização de bandeira</h2>

<p>Algumas bandeiras de cartão possuem uma solução de tokenização que oferece o armazenamento de cartões em cofres na própria bandeira, de forma criptografada. Essa tokenização de bandeira tem o intuito de melhorar a segurança e qualidade das informações de cartão trafegadas, o que acarreta em possíveis aumentos na conversão de aprovação pelos bancos emissores.</p>

<p>Veja todos os benefícios:</p>

<ul>
  <li><strong>Maior segurança:</strong> além da criação de um código (token ou DPAN) para substituir a informação do cartão, as bandeiras também emitem os criptogramas, que funcionam como uma senha ou assinatura da bandeira, única para aquele cartão naquele estabelecimento;</li>
  <li><strong>Atualização automática de cartões:</strong> quando um novo cartão é emitido no lugar do cartão anterior, ou quando a data de expiração de um cartão muda, os bancos enviam essas informações para a base da bandeira, e a bandeira automaticamente atualiza os tokens com as novas informações. Ou seja, não tem necessidade de nenhuma ação por parte do estabelecimento;</li>
  <li><strong>Maior conversão de aprovação:</strong> Por conta da maior segurança com os tokens das bandeiras, os bancos emissores se sentem mais seguros em aprovar as transações. Além disso, com os dados de cartão atualizados automaticamente, mais vendas que poderiam ser negadas por dados de cartão desatualizados podem ser aprovadas.</li>
</ul>

<p><strong>Como funciona?</strong></p>

<p>As bandeiras participantes disponibilizam APIs para o recebimento e armazenamento do cartão de forma segura para adquirentes, gateways e parceiros, com a criação do token único e exclusivo para aquele cartão naquele estabelecimento.</p>

<p>A Cielo fornece esse serviço para os clientes de duas formas:</p>

<ul>
  <li>
    <p><strong>Integração facilitada:</strong> o estabelecimento se integra com a funcionalidade de tokenização convencional da Cielo, que por trás realiza a tokenização da bandeira, e relaciona esses dois tokens no cofre da Cielo. Dessa forma, os estabelecimentos sempre terão um único token para aquele cartão, mas a Cielo terá os tokens e criptogramas das bandeiras internamente. Para conferir como é a integração com a tokeniação convencional da Cielo, volte para o menu <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização de cartões</a>.
<strong>Bandeiras disponíveis:</strong> Visa.</p>

    <blockquote>
      <p>Para obter essa funcionalidade, entre em contato com nosso canal de suporte ecommerce solicitando a habilitação: <strong>cieloecommerce@cielo.com.br</strong></p>
    </blockquote>
  </li>
  <li>
    <p><strong>Integração por fora:</strong> se o estabelecimento usa um gateway ou outro parceiro que já oferece a solução de token de bandeira, a Cielo possui os campos para que sejam enviadas as informações do token na transação, para que no processamento a bandeira receba os dados do token. Veja mais detalhes na requisição a seguir.
<strong>Bandeiras disponíveis:</strong> Visa, Master e Elo.</p>
  </li>
</ul>

<p>Confira os campos a serem enviados na transação caso a opção escolhida seja a <strong>integração por fora</strong>:</p>

<h3 id="requisição-16">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cryptogram"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefghijklmnopqrstuvw=="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"Cryptogram"</span>:<span class="s2">"abcdefghijklmnopqrstuvw=="</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"true"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Token gerado pela bandeira (DPAN). A indicação de que o <code class="language-plaintext highlighter-rouge">CardNumber</code> deve ser preenchido com o DPAN para caso de tokenização de bandeira.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Cryptogram</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Condicional*</td>
      <td>Criptograma gerado pela bandeira. Deve ser enviado caso a tokenização seja feita na bandeira (integração por fora).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade do token gerado pela bandeira.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<p><em>*Deve ser enviado caso a tokenização seja feita na bandeira (integração por fora).</em></p>

<h3 id="resposta-12">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span>
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Cardtoken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-venda-com-cartão-tokenizado">Criando uma venda com cartão tokenizado</h2>

<p>Para criar uma venda de cartão de crédito tokenizado, envie uma requisição de transação de crédito com o <code class="language-plaintext highlighter-rouge">CardToken</code> conforme o exemplo a seguir.</p>

<h3 id="requisição-17">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardToken"</span>:<span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-13">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5036294"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0310025036294"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319285"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
        <span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"5036294"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0310025036294"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"319285"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação. Veja a tabela completa de <a href="https://developercielo.github.io/manual/cielo-ecommerce#status-transacional">Status transacional</a>.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h1 id="recorrência">Recorrência</h1>

<p>Pagamentos recorrentes são transações de cartão de crédito que devem se repetir após um determinado período de tempo.</p>

<p>São pagamentos normalmente encontrados em <strong>assinaturas</strong>, nas quais o comprador deseja ser cobrado automaticamente mas não quer informar novamente os dados do cartão de crédito.</p>

<h2 id="tipos-de-recorrências">Tipos de recorrências</h2>

<p>A API E-commerce Cielo funciona com dois tipos de recorrências que possuem comportamentos diferentes:</p>

<ul>
  <li><strong>Recorrência Própria</strong>: quando a <strong>loja</strong> cria a própria inteligência de repetição de compra e armazena os dados do cartão;</li>
  <li><strong>Recorrência Programada</strong>: quando a <strong>Cielo</strong> é responsável pela inteligência da repetição e armazenamento dos dados do cartão.</li>
</ul>

<h3 id="recorrência-própria">Recorrência Própria</h3>

<p>Nesse modelo, a loja é responsável por criar a inteligência necessária para:</p>

<table>
  <thead>
    <tr>
      <th>Inteligência</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Salvar os dados da transação</strong></td>
      <td>A loja precisará armazenar a transação e dados do pagamento.</td>
    </tr>
    <tr>
      <td><strong>Criar repetição transacional</strong></td>
      <td>A loja deverá enviar uma nova transação sempre que necessitar de uma autorização.</td>
    </tr>
    <tr>
      <td><strong>Comportamento para transação negada</strong></td>
      <td>Caso uma das transações seja negada, caberá a loja a decisão de <em>retentar</em> uma nova autorização.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>A recorrência própria é uma transação padrão para a Cielo; a única diferença é a necessidade de enviar um parâmetro adicional que a define como <strong>Recorrência Própria</strong>:<br /></p>

  <p><strong>Parâmetro:</strong> <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code>= “true”.</p>
</blockquote>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/recorrencia-cielo-rec-propria.png" alt="Fluxo recorrência própria" /></p>

<h4 id="caso-de-uso">Caso de uso</h4>

<p>Este é um exemplo de como a API E-commerce Cielo permite a utilização de sistemas externos de recorrência em suas transações.</p>

<p>A recorrência própria é uma configuração da API E-commerce Cielo que permite que uma loja use um sistema de recorrência interno específico às suas necessidades de negócio.</p>

<p>Nesse modelo, o sistema da loja é encarregado por definir o período, os dados transacionais e, quando necessário, nos enviar a transação de recorrência.</p>

<p><strong>Recorrência Própria + Cartão Tokenizado</strong></p>

<p>A academia <em>CleverFit</em> possui um sistema de cobrança diferenciado onde a matrícula é cobrada quinzenalmente, mas nunca nos fins de semana.</p>

<p>Por ser um modelo altamente customizado, a <em>CleverFit</em> possui um sistema de recorrência própria, utilizando a API E-commerce Cielo via dois mecanismos:</p>

<ol>
  <li><strong>Recorrência Própria</strong>: a <em>CleverFit</em> envia os dados da transação como uma venda normal, mas a API identifica que é uma recorrência e aplica regras de autorização diferenciada ao pedido;</li>
  <li><strong>Cartão Tokenizado</strong>: a <em>CleverFit</em> mantém os cartões salvos de forma tokenizada na Cielo, de acordo com as regras de segurança, evitando armazenar dados de cartões em seu sistema.</li>
</ol>

<p>A <em>CleverFit</em> envia a transação quinzenalmente para a API E-commerce Cielo, usando os tokens salvos na própria API e optando pela Recorrência Própria, que altera a regra de autorização para se adequar ao seu modelo de cobrança.</p>

<h3 id="recorrência-programada">Recorrência Programada</h3>

<p>Nesse modelo, a Cielo é a responsável por executar uma recorrência de maneira automática.</p>

<p>A <strong>Recorrência Programada</strong> permite que a loja crie uma transação base que, ao ser enviada para a API E-commerce Cielo, será salva e executada seguindo as regras definidas pela loja.</p>

<p>Nesse modelo, a API realiza e permite:</p>

<table>
  <thead>
    <tr>
      <th>Vantagens</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Salvar dados transacionais</strong></td>
      <td>Salva dados da transação, criando assim um modelo de como serão as próximas recorrências.</td>
    </tr>
    <tr>
      <td><strong>Automatizar a recorrência</strong></td>
      <td>Sem atuação da loja, a API cria as transações futuras de acordo com as definições da loja.</td>
    </tr>
    <tr>
      <td><strong>Atualizar dados</strong></td>
      <td>Caso necessário, a API permite modificações das informações da transação (como dados do comprador) ou do ciclo de recorrência (como data e intervalo).</td>
    </tr>
  </tbody>
</table>

<p>A Recorrência Programada possui dois fluxos de requisição; a diferença está no parâmetro <code class="language-plaintext highlighter-rouge">AuthorizeNow</code>.</p>

<p><strong>Quando a primeira transação deve ser autorizada no momento do agendamento, envie <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> como “true”.</strong></p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/recorrencia-cielo-rec-programada-primeiratransacao.png" alt="Fluxo recorrência programada" /></p>

<p>*Se o Post de Notificação estiver configurado pela loja.</p>

<p><strong>Quando a primeira transação deve ser autorizada em momento posterior ao agendamento, envie <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> como “false”; nesse caso, envie também o parâmetro <code class="language-plaintext highlighter-rouge">StartDate</code>.</strong></p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/recorrencia-cielo-rec-programada-agendamento.png" alt="Fluxo recorrência programada" /></p>

<p>*A transação de agendamento precisa do nó <code class="language-plaintext highlighter-rouge">RecurrentPayment</code>, da data da transação e do campo <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> = “false”.<br />
**Se o Post de Notificação estiver configurado pela loja.</p>

<p>Veja o exemplo do trecho com o nó <code class="language-plaintext highlighter-rouge">RecurrentPayment</code>, que deve ser inserido numa transação de crédito.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"False"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="s2">"2019-06-01"</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Podemos definir os dados como:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtros</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Define qual o momento que uma recorrência será criada. Se for enviado como “true”, ela é criada no momento da autorização; se “false”, a recorrência ficará suspensa até a data escolhida para ser iniciada (<code class="language-plaintext highlighter-rouge">StartDate</code>).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Define a data que transação da Recorrência Programada será autorizada.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Define a data que a Recorrência Programada será encerrada. Se não for enviada, a recorrência será executada até ser cancelada pela loja.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly - Mensal;<br />Bimonthly - Bimestral;<br />Quarterly - Trimestral;<br />SemiAnnual - Semestral;<br />Annual - Anual.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Quando uma transação é enviada à API E-commerce Cielo com o nó de Recorrência Programada (<code class="language-plaintext highlighter-rouge">RecurrentPayment</code>), o processo de recorrência passa a ser efetivo quando a transação é considerada <strong>AUTORIZADA</strong>. Desse ponto em diante, a transação passará a ocorrer dentro do intervalo definido pela loja.</p>
</blockquote>

<p>Características importantes da <strong>Recorrência Programada</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Criação</strong></td>
      <td>A primeira transação é chamada de <strong>“Transação de agendamento”</strong>. Todas as transações posteriores serão cópias dessa primeira transação. Ela não precisa ser capturada para que a recorrência seja criada, basta ser <strong>AUTORIZADA</strong>.</td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>Transações de Recorrência Programada não precisam ser capturadas. Após a primeira transação, todas as transações de recorrência são capturadas automaticamente pela API.</td>
    </tr>
    <tr>
      <td><strong>Identificação</strong></td>
      <td>Transações de Recorrência Programada geram dois tipos de identificação:<br /><strong><code class="language-plaintext highlighter-rouge">PaymentId</code></strong>: identifica uma transação. É o mesmo identificador das outras transações na API.<br /><strong><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong>: identifica pedido de recorrência. Um <code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code> possui inúmeros <code class="language-plaintext highlighter-rouge">PaymentId</code>s vinculados a ele. Essa é a variável usada para cancelar uma Recorrência Programada.</td>
    </tr>
    <tr>
      <td><strong>Consulta</strong></td>
      <td>Para consultar, basta usar um dos dois tipos de identificação:<br /><strong><code class="language-plaintext highlighter-rouge">PaymentId</code></strong>: Utilizada para consultar UMA TRANSAÇÃO DENTRO DA RECORRÊNCIA.<br /><strong><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong>: Utilizado para consultar A RECORRÊNCIA.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>Uma Recorrência Programada pode ser cancelada de duas maneiras: <br />_ <strong>Lojista</strong>: Solicita o cancelamento da recorrência. Não cancela transações ja finalizadas antes da ordem de cancelamento da recorrência. <br />_ <strong>Por cartão invalido</strong>: Caso a API identifique que um cartão salvo está inválido (ex.: expirado) a recorrência será cancelada e não se repetirá, até que a loja atualize o meio de pagamento. <br /> <strong>OBS:</strong> Cancelamento de transações dentro da recorrência não encerra o agendamento de transações futuras. Somente o Cancelamento usando o <strong><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong> encerra agendamentos futuros.</td>
    </tr>
  </tbody>
</table>

<p><strong>Estrutura de um <code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></strong></p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/recorrencia-cielo-rec-prog-identificacao.png" alt="Estrutura RecurrentPaymentId" /></p>

<h4 id="caso-de-uso-1">Caso de uso</h4>

<p>Este é um exemplo de como usar as recorrências da API E-commerce Cielo para elevar suas vendas.</p>

<p>A recorrência é o processo de salvar uma transação e repeti-la em um intervalo de tempo pré-definido. É ideal para modelo de assinaturas.</p>

<p>A Recorrência Programada Cielo tem as seguintes características:</p>

<ul>
  <li><strong>Intervalos programados:</strong> mensal, bimestral, trimestral, semestral e anual;</li>
  <li><strong>Data de validade:</strong> permite definir se a recorrência tem data para acabar;</li>
  <li><strong>Retentativa:</strong> se uma transação for negada, vamos retentar a transação até quatro vezes;</li>
  <li><strong>Atualização:</strong> permite alterar dados da recorrência, como valor e intervalo.</li>
</ul>

<p><strong>Recorrência mensal e anual</strong></p>

<p>A empresa <em>Musicfy</em> oferece um serviço de assinatura online no qual seus clientes pagam para poderem acessar uma biblioteca de músicas e ouví-las via streaming.</p>

<p>Para captar o máximo de clientes, eles oferecem duas maneiras de pagamento:</p>

<ul>
  <li>Mensal, por R$19,90;</li>
  <li>Anual (com desconto); por R$180,00.</li>
</ul>

<p>Como eles executam a cobrança mensal ou anual de seus clientes?</p>

<p>A <em>MusicFy</em> utiliza a Recorrência Programada da API E-commerce Cielo.</p>

<p>Ao criar uma transação, o <em>Musicfy</em> informa que o pedido em questão deve se repetir mensalmente ou anualmente e que não há data de término para a cobrança.</p>

<p>Quais as vantagens de usar a recorrência programada para o <em>MusicFy</em>?</p>

<ol>
  <li><strong>Facilidade:</strong> a cobrança de mensalidade é automática, logo o <em>MusicFy</em> não precisa se preocupar em construir um sistema de cobrança;</li>
  <li><strong>Usabilidade:</strong> o valor das assinaturas pode ser atualizado sem a necessidade de refazer a transação. Um mês pode ser cancelado ou a recorrência pode ter um <em>delay</em> (o modelo de 30 dias gratuito) com apenas uma configuração;</li>
  <li><strong>Segurança:</strong> a <em>MusicFy</em> não precisa armazenar dados sensíveis do cartão e do comprador;</li>
  <li><strong>Conversão:</strong> a Recorrência Programada Cielo possui um sistema de retentativa automática. Caso uma das transações seja negada, ela será retentada até quatro vezes, buscando atingir a autorização.</li>
</ol>

<h2 id="criando-recorrências">Criando Recorrências</h2>

<h3 id="criando-uma-recorrência-própria">Criando uma Recorrência Própria</h3>

<p>Para criar uma venda recorrente cuja o processo de recorrência e intervalo serão executados pela própria loja, basta fazer um POST conforme o exemplo.</p>

<p>A requisição segue a estrutura de uma transação de crédito padrão, mas o paramêtro <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> deve ser <code class="language-plaintext highlighter-rouge">true</code>; caso contrário, a transação será negada.</p>

<h4 id="requisição-18">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec propria"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec propria"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Pública para Autenticação Dupla na API E-commerce Cielo.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Indica que uma transação é de recorrência própria.</td>
      <td>boolean</td>
      <td>5</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-14">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec propria"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec propria"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API E-commerce Cielo.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API E-commerce Cielo.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Recurrent</code></td>
      <td>Indica que uma transação é de recorrência própria.</td>
      <td>boolean</td>
      <td>5</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="criando-uma-recorrência-programada">Criando uma Recorrência Programada</h3>

<p>Para criar uma venda recorrente cuja a primeira recorrência é autorizada com a forma de pagamento cartão de crédito, basta fazer um POST conforme o exemplo.</p>

<aside class="warning">Atenção: Nessa modalidade de recorrência, a primeira transação deve ser capturada (`AuthorizeNow` = "true"). Todas as transações posteriores serão capturadas automaticamente.</aside>

<h4 id="requisição-19">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Data para termino da recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrência já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-15">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-04"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-11-04"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrências.</td>
      <td>Número</td>
      <td>10</td>
      <td><br />Monthly = 1 <br />Bimonthly = 2<br />Quarterly = 3<br />SemiAnnual = 6<br />Annual = 12<br /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrência já vai ser autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true</td>
    </tr>
  </tbody>
</table>

<h3 id="agendando-uma-recorrência-programada">Agendando uma Recorrência Programada</h3>

<p>Para criar uma venda recorrente cuja a primeira recorrência não será autorizada na mesma data com a forma de pagamento cartão de crédito, basta fazer um POST conforme o exemplo.</p>

<p>Diferente da recorrência anterior, este exemplo não autoriza imediatamente, mas agenda uma autorização futura. Para programar a primeira transação da série de recorrências, passe o parâmetro <code class="language-plaintext highlighter-rouge">AuthorizeNow</code> como “false” e adicione o parâmetro <code class="language-plaintext highlighter-rouge">StartDate</code>.</p>

<h4 id="requisição-20">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"false"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>,
       <span class="s2">"StartDate"</span>:<span class="s2">"2015-06-01"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Email do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador.</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-16">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 20,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"StartDate"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">false</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Data do incio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrências.</td>
      <td>Número</td>
      <td>10</td>
      <td><br />Monthly = 1 <br />Bimonthly = 2<br />Quarterly = 3<br />SemiAnnual = 6<br />Annual = 12<br /></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrência já vai ser autorizada ou se será apenas agendada.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>false</td>
    </tr>
  </tbody>
</table>

<h2 id="modificando-recorrências">Modificando Recorrências</h2>

<h3 id="modificando-dados-do-comprador">Modificando dados do comprador</h3>

<p>Altera dados do comprador da recorrência.</p>

<h4 id="requisição-21">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer@teste.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1999-12-12"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22658954236"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"174"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outra Rua Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21241111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Qualquer Lugar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Customer"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Customer"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"customer@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1999-12-12"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"22658954236"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>
         <span class="s2">"Street"</span>:<span class="s2">"Outra Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 111"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241111"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Qualquer Lugar"</span>,
         <span class="s2">"State"</span>:<span class="s2">"QL"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>:<span class="s2">"Teste"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Email</code></td>
      <td>Email do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador.</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-17">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-data-final-da-recorrência">Modificando data final da recorrência</h3>

<p>Altera a data final da recorrência.</p>

<h4 id="requisição-22">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"2021-01-09"</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/EndDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2021-01-09"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Data para termino da recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-18">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-intevalo-da-recorrência">Modificando intevalo da Recorrência</h3>

<p>Altera o intervalo da Recorrência.</p>

<h4 id="requisição-23">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">6</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Interval"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
6
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly = 1 <br />Bimonthly = 2<br />Quarterly = 3<br />SemiAnnual = 6<br />Annual = 12<br /></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-19">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificar-dia-da-recorrência">Modificar dia da recorrência</h3>

<p>Altera o dia da recorrência.</p>

<p>Ao efetuar a alteração do dia da recorrência, considere as seguintes regras para execução da atualização na API:</p>

<ol>
  <li>
    <p>Se o novo dia informado for depois do dia atual, iremos atualizar o dia da recorrência com efeito na próxima recorrência.
Ex.: Hoje é dia 05/05 e a próxima recorrência é dia 25/05. Quando atualizado para o dia 10, a data da próxima recorrência será dia 10/05.</p>
  </li>
  <li>
    <p>Se o novo dia informado for antes do dia atual, iremos atualizar o dia da recorrência, mas este só terá efeito depois que a próxima recorrência for executada com sucesso.
Ex.: Hoje é dia 05/05 e a próxima recorrência é dia 25/05. Quando atualizado para o dia 03, a data da próxima recorrência permanecerá dia 25/05. Após sua execução, a recorrência seguinte será agendada para o dia 03/06.</p>
  </li>
  <li>
    <p>Se o novo dia informado for antes do dia atual, mas a próxima recorrência for em outro mês, iremos atualizar o dia da recorrência com efeito na próxima recorrência.
Ex.: Hoje é dia 05/05 e a próxima recorrência é dia 25/09. Quando atualizado para o dia 03, a data da próxima recorrência será 03/09.</p>
  </li>
</ol>

<h4 id="requisição-24">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">16</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
16
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrencyDay</code></td>
      <td>Dia da Recorrência.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-20">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-o-valor-da-recorrência">Modificando o valor da recorrência</h3>

<p>Altera o valor da recorrência.</p>

<h4 id="requsição">Requsição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Amount</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">156</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Amount"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
156
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido em centavos: 156 equivale a R$ 1,56</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Essa alteração só afeta a data de pagamento da próxima recorrência.</aside>

<h4 id="resposta-21">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-data-do-próximo-pagamento">Modificando data do próximo pagamento</h3>

<p>Altera a data do próximo pagamento.</p>

<h4 id="requisição-25">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"2016-06-15"</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2016-06-15"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextPaymentDate</code></td>
      <td>Data de pagamento da próxima recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-22">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-dados-do-pagamento-da-recorrência">Modificando dados do pagamento da recorrência</h3>

<p>Alterar os dados de pagamento da recorrência.</p>

<aside class="notice">Atenção: Essa alteração afeta a todos os dados do nó Payment. Então para manter os dados anteriores você deve informar os campos que não vão sofre alterações com os mesmos valores que já estavam salvos.</aside>

<h4 id="requisição-26">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teset card"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341232"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Payment"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
   <span class="s2">"Amount"</span>:<span class="s2">"123"</span>,
   <span class="s2">"Installments"</span>:3,
   <span class="s2">"Country"</span>:<span class="s2">"USA"</span>,
   <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
   <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
   <span class="s2">"CreditCard"</span>:<span class="o">{</span>
      <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>,
      <span class="s2">"Holder"</span>:<span class="s2">"Teset card"</span>,
      <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341232"</span>,
      <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Installments</code></td>
      <td>Número de parcelas. Se a transação for uma recorrência, o número de parcelas será 1. Para transações parceladas, o número de parcelas será sempre maior que 1.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-23">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="desabilitando-um-pedido-recorrente">Desabilitando um pedido recorrente</h3>

<p>Para desabilitar um pedido recorrente, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-27">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-24">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="reabilitando-um-pedido-recorrente">Reabilitando um pedido recorrente</h3>

<p>Reabilita um pedido recorrente.</p>

<h4 id="requisição-28">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-25">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h2 id="transação-com-renova-fácil">Transação com Renova Fácil</h2>

<p>O Renova Fácil é um serviço desenvolvido pela Cielo em conjunto com os emissores, cujo objetivo é aumentar a taxa de conversão de vendas recorrentes com cartão de crédito.</p>

<p>O uso desta funcionalidade permite a substituição automática de um cartão de crédito que foi substituído pelo banco emissor por algum motivo (vencimento atingido, troca etc). Dessa forma, quando uma transação com marcação de recorrência for submetida para a API e a Cielo identificar que o cartão enviado foi substituído, sua autorização será negada e a API retornará os dados do novo cartão no nó <code class="language-plaintext highlighter-rouge">NewCard</code>.</p>

<aside class="notice">Para usar o Renova Fácil, é necessário habilitar o serviço na Cielo. Nenhuma informação extra é enviada na requisição de autorização, porém a resposta terá o nó `NewCard`.</aside>

<p>Veja a seguir o exemplo de resposta de uma transação de crédito com o nó <code class="language-plaintext highlighter-rouge">NewCard</code>.</p>

<h3 id="resposta-26">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador  Renova facil"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480685P4611AQ9B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NewCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10/2020"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-26 14:14:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denied"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Comprador  Renova facil"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: 0,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"Tid"</span>: <span class="s2">"10447480685P4611AQ9B"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"087001"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"123456789ABCD"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"Eci"</span>: <span class="s2">"0"</span>,
    <span class="s2">"NewCard"</span>: <span class="o">{</span>
       <span class="s2">"CardNumber"</span>: <span class="s2">"40000000000000000"</span>,
       <span class="s2">"ExpirationDate"</span>: <span class="s2">"10/2020"</span>,
       <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
        <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 1500,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2016-12-26 14:14:21"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"KA"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Autorizacao negada"</span>,
    <span class="s2">"Status"</span>: 3,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
      <span class="s2">"ReasonCode"</span>: 7,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Denied"</span>,
      <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
      <span class="s2">"Interval"</span>: 6,
      <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly / Quarterly / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.CardNumber</code></td>
      <td>Novo número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.ExpirationDate</code></td>
      <td>nova data de validade do cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NewCard.SaveCard</code></td>
      <td>Identifica se o cartão gerou Cardtoken durante a transação. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="bandeiras-e-emissores-habilitados">Bandeiras e emissores habilitados</h3>

<p>Bandeiras e emissores que já habilitaram o Renova Fácil:</p>

<table>
  <thead>
    <tr>
      <th>Emissores</th>
      <th>VISA</th>
      <th>MASTER</th>
      <th>ELO</th>
      <th>Amex</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BRADESCO</code></td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BANCO DO BRASIL</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SANTANDER</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CITI</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BANCO PAN</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h1 id="consulta-captura-e-cancelamento">Consulta, Captura e Cancelamento</h1>

<h2 id="consulta-de-transações">Consulta de transações</h2>

<h3 id="consulta-por-paymentid">Consulta por PaymentId</h3>

<p>Para consultar uma venda de cartão de crédito via PaymentId, siga a requisição de exemplo a seguir.</p>

<aside class="notice">São elegíveis para a consulta apenas transações dentro dos últimos três meses.</aside>

<h4 id="requisição-29">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API e-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para Autenticação Dupla na API e-commerce Cielo.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-27">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="w">
</span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="err">,</span><span class="w">
</span><span class="nl">"AcquirerOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202202231037440D1BD0"</span><span class="err">,</span><span class="w">
</span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0223103744208"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"FraudAlert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uso Ind Numeração"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IncomingChargeback"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-15 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"AcquirerOrderId"</span>: <span class="s2">"202202231037440D1BD0"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0223103744208"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-07-29 17:16:21"</span>,
        <span class="s2">"CapturedAmount"</span>: 9000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-07-29 17:16:22"</span>,
        <span class="s2">"VoidedAmount"</span>: 1000,
        <span class="s2">"VoidedDate"</span>: <span class="s2">"2022-05-15 16:25:38"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Número de identificação do pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Id da transação enviado ao autorizador, caso o MerchantOrderId seja maior que 20 caracteres ou tenha símbolos.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto alfanumérico</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Tid</code></td>
      <td>Id da transação no provedor do meio de pagamento.</td>
      <td>Texto alfanumérico</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Data em que a transação foi recebida.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedAmount</code></td>
      <td>Valor capturado.</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedDate</code></td>
      <td>Data da captura.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedAmount</code></td>
      <td>Valor cancelado/estornado, em centavos.</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedDate</code></td>
      <td>Data do cancelamento/estorno.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
      <td>Texto</td>
      <td>10</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>O PAR(payment account reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado. Se for pra transação de débito, colocar o campo dentro do nó de DebitCard</td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>Alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta-por-tid">Consulta por TId</h3>

<p>Para consultar uma venda através do número de referência único da transação na adquirente (TId), execute um GET conforme descrito a seguir.</p>

<aside class="notice">São elegíveis para a consulta apenas transações dentro dos últimos três meses.</aside>

<h4 id="requisição-30">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/acquirerTid/{TID}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/acquirerTid/{TID}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API e-commerce Cielo.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para Autenticação Dupla na API e-commerce Cielo.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Id da transação enviado ao autorizador, caso o MerchantOrderId seja maior que 20 caracteres ou tenha símbolos.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Numero de identificação do pagamento na adquirente.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-28">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="w">
</span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="err">,</span><span class="w">
</span><span class="nl">"AcquirerOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202202231037440D1BD0"</span><span class="err">,</span><span class="w">
</span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0223103744208"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-06-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"FraudAlert"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uso Ind Numeração"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IncomingChargeback"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CapturedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-29 17:16:22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VoidedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-05-15 16:25:38"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"AcquirerOrderId"</span>: <span class="s2">"202202231037440D1BD0"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0223103744208"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 10000,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2022-07-29 17:16:21"</span>,
        <span class="s2">"CapturedAmount"</span>: 9000,
        <span class="s2">"CapturedDate"</span>: <span class="s2">"2022-07-29 17:16:22"</span>,
        <span class="s2">"VoidedAmount"</span>: 1000,
        <span class="s2">"VoidedDate"</span>: <span class="s2">"2022-05-15 16:25:38"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Número de identificação do pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AcquirerOrderId</code></td>
      <td>Id da transação enviado ao autorizador, caso o MerchantOrderId seja maior que 20 caracteres ou tenha símbolos.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto alfanumérico</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Tid</code></td>
      <td>Id da transação no provedor do meio de pagamento.</td>
      <td>Texto alfanumérico</td>
      <td>40</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.ReceivedDate</code></td>
      <td>Data em que a transação foi recebida.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedAmount</code></td>
      <td>Valor capturado.</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.CapturedDate</code></td>
      <td>Data da captura.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedAmount</code></td>
      <td>Valor cancelado/estornado, em centavos.</td>
      <td>Número</td>
      <td>15</td>
      <td>10000</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.VoidedDate</code></td>
      <td>Data do cancelamento/estorno.</td>
      <td>Texto</td>
      <td>19</td>
      <td>AAAA-MM-DD HH:mm:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Payment.Provider</code></td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>MM/AAAA</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
      <td>Texto</td>
      <td>10</td>
      <td>Texto</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>O PAR(payment account reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado. Se for pra transação de débito, colocar o campo dentro do nó de DebitCard</td>
      <td>Alfanumérico</td>
      <td>29</td>
      <td>Alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta-por-merchantorderid">Consulta por MerchantOrderId</h3>

<p>Para alguns estabelecimentos, o <code class="language-plaintext highlighter-rouge">MerchantOrderId</code> pode ter várias transações. A consulta por <code class="language-plaintext highlighter-rouge">MerchantOrderId</code> retorna o <code class="language-plaintext highlighter-rouge">PaymentId</code> de todas as transações associadas a um <code class="language-plaintext highlighter-rouge">MerchantOrderId</code>.</p>

<p>A partir disso, é possível consultar detalhes de cada transação pela <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-por-paymentid">consulta por <code class="language-plaintext highlighter-rouge">PaymentId</code></a>.</p>

<h4 id="requisição-31">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales?merchantOrderId={merchantOrderId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curls
<span class="nt">--request</span> GET <span class="s2">" https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales?merchantOrderId={merchantOrderId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantOrderId</code></td>
      <td>Campo identificador do pedido na loja.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-29">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Payment"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta-de-recorrência">Consulta de Recorrência</h3>

<p>A Consulta de Recorrência traz dados sobre o agendamento e sobre o processo de transações que se repetem. A Consulta de Recorrência não retorna dados sobre as transações em si.</p>

<p>Para obter informações sobre cada transação, faça a <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-por-paymentid">Consulta por PaymentId</a>.</p>

<h4 id="requisição-32">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da Recorrência.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-30">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano da Silva"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-27"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bimonthly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07T00:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CurrentRecurrencyTry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrencyDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SuccessfulRecurrences"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"RecurrentTransactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TryNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Fulano da Silva"</span>
    <span class="o">}</span>,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
        <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>,
        <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-06-07"</span>,
        <span class="s2">"StartDate"</span>: <span class="s2">"2017-04-07"</span>,
        <span class="s2">"EndDate"</span>: <span class="s2">"2017-02-27"</span>,
        <span class="s2">"Interval"</span>: <span class="s2">"Bimonthly"</span>,
        <span class="s2">"Amount"</span>: 15000,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"CreateDate"</span>: <span class="s2">"2017-04-07T00:00:00"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"CurrentRecurrencyTry"</span>: 1,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"RecurrencyDay"</span>: 7,
        <span class="s2">"SuccessfulRecurrences"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"RecurrentTransactions"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"PaymentId"</span>: <span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span>,
                <span class="s2">"PaymentNumber"</span>: 0,
                <span class="s2">"TryNumber"</span>: 1
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"Status"</span>: 1
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">StartDate</code></td>
      <td>Data do inicio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly / Quarterly / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CurrentRecurrencyTry </code></td>
      <td>Indica o número de tentativa da recorrência atual</td>
      <td>Número</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">OrderNumber</code></td>
      <td>Identificado do Pedido na loja</td>
      <td>Texto</td>
      <td>50</td>
      <td>2017051101</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status do pedido recorrente</td>
      <td>Número</td>
      <td>1</td>
      <td><br /><em>1</em> - Ativo <br /><em>2</em> - Finalizado <br /><em>3</em>- Desativada pelo Lojista <br /> <em>4</em> - Desativada por numero de retentativas <br /> <em>5</em> - Desativada por cartão de crédito vencido</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrencyDay</code></td>
      <td>O dia da recorrência</td>
      <td>Número</td>
      <td>2</td>
      <td>22</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SuccessfulRecurrences</code></td>
      <td>Quantidade de recorrência realizada com sucesso</td>
      <td>Número</td>
      <td>2</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.PaymentId</code></td>
      <td>Número de identificação do pagamento (que faz parte da recorrência).</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.TransactionId</code></td>
      <td>Payment ID da transação gerada na recorrência</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.PaymentNumber</code></td>
      <td>Número da Recorrência. A primeira é zero</td>
      <td>Número</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentTransactions.TryNumber</code></td>
      <td>Número da tentativa atual na recorrência específica</td>
      <td>Número</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="captura">Captura</h2>

<p>A <strong>captura</strong> é procedimento exclusivo para transações de cartões de crédito. Há dois tipos de captura:</p>

<ul>
  <li>Captura automática: é solicitada na mesma <a href="">requisição de autorização da transação de crédito</a> enviando o <code class="language-plaintext highlighter-rouge">Payment.Capture</code> como “true”.</li>
  <li>Captura posterior: é solicitada depois do envio da requisição de autorização da transação de crédito.
<br />
<br />
<strong>Nesta seção, apresentamos as orientações para fazer a <em>captura posterior</em></strong>.</li>
</ul>

<p>Ao realizar uma captura, o lojista confirma que o valor autorizado no cartão poderá ser cobrado pela instituição financeira emissora do cartão.</p>

<p><strong>Importante</strong>:</p>

<ul>
  <li>A captura executa a cobrança do cartão;</li>
  <li>A captura inclui o valor da venda na fatura do comprador;</li>
  <li>O lojista paga à Cielo somente as transações capturadas.</li>
</ul>

<aside class="notice">Atenção: A captura é um processo com prazo de execução padrão de 15 dias. Verifique seu cadastro Cielo para confirmar o limite habilitado para a sua afiliação. Após esse periodo, não é possivel realiza a captura da transação. Se a transação não for capturada, a autorização vai expirar e assim não haverá cobrança no cartão do portador e o limite será liberado.</aside>

<h3 id="captura-parcial-ou-total">Captura parcial ou total</h3>

<p>É possível capturar um valor parcial ou o valor total da transação.</p>

<p>A <strong>captura parcial</strong> é o ato de capturar um valor menor que o valor autorizado. Esse modelo de captura pode ocorrer apenas uma vez por transação.</p>

<p><strong>Após a captura, não é possível realizar capturas adicionais no mesmo pedido.</strong></p>

<h4 id="requisição-33">Requisição</h4>

<ul>
  <li>Para <strong>captura parcial</strong>, envie o campo <code class="language-plaintext highlighter-rouge">Amount</code>na requisição de captura com o valor desejado a capturar;</li>
  <li>Para <strong>captura total</strong>, não envie o campo <code class="language-plaintext highlighter-rouge">Amount</code>. Será considerado o valor total da autorização.</li>
</ul>

<aside class="warning">O campo `ServiceTaxAmount` é exclusivo para empresas aéreas.</aside>
<p><br /></p>
<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount={Valor}"</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">https://api.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/sales/</span><span class="p">{</span><span class="err">PaymentId</span><span class="p">}</span><span class="err">/capture</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para Autenticação Dupla na API Cielo E-commerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor a ser capturado, em centavos. Se essa campo não for preenchido, o valor da captura será o valor total da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Exclusivo para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-31">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Captura de Taxa de embarque Para realizar a captura da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser capturado</aside>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount=xxx</span></aside>

<h2 id="cancelamento">Cancelamento</h2>

<p>O cancelamento é uma funcionalidade que permite ao lojista estornar um pedido de compra. O cancelamento pode ocorrer por insuficiência de estoque ou por desistência da compra pelo consumidor, entre outros motivos.</p>

<p>Na API Cielo E-commerce é possível realizar a requisição de cancelamento para <strong>cartões de débito e crédito</strong>.</p>

<ul>
  <li>
    <p>Para <strong>transações autorizadas e não capturadas</strong> (status transacional = 1), o cancelamento pode ser solicitado antes de ocorrer o desfazimento automático da transação.</p>
  </li>
  <li>
    <p>Para <strong>transações capturadas</strong> (status transacional = 2), o cancelamento pode ser solicitado 1 dia após a captura e em um prazo de até 360 dias após a autorização da venda. A aprovação dessa ordem de cancelamento é suscetível à avalição de saldo na agenda financeira do lojista no momento da requisição e à aprovação do banco emissor do cartão usado na transação.</p>
  </li>
</ul>

<p>Para as solicitações de cancelamento da mesma transação, é necessário aguardar um período de 5 segundos entre uma solicitação e outra, para que sejam realizadas a consulta de saldo, reserva do valor na agenda financeira e sensibilização do saldo, evitando assim duplicidade de cancelamento. Esta regra vale para cancelamentos totais e/ou parciais. Para identificar que as solicitações de cancelamento são da mesma transação, consideramos o número do EC, número da autorização de cancelamento, data da venda, valor da venda e NSU.</p>

<blockquote>
  <p>É importante salientar que, para realizar qualquer solicitação de cancelamento, é necessário que o estabelecimento possua saldo suficiente na transação e na agenda.</p>
</blockquote>

<h3 id="cancelamento-total">Cancelamento total</h3>

<p>É possível cancelar uma venda via PaymentID ou MerchantOrderId (numero do pedido).</p>

<aside class="notice">Atenção: O cancelamento por MerchantOrderId afeta sempre a transação mais nova, ou seja, caso haja pedidos com o número do pedido duplicado, somente o pedido mais atual será cancelado. O pedido anterior não poderá ser cancelado por esse método.</aside>

<h4 id="requisição-34">Requisição</h4>

<p><strong>Cancelamento via PaymentId</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=xxx</span></aside>

<p>ou</p>

<p><strong>Cancelamento via MerchantOrderId</strong></p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/OrderId/{MerchantOrderId}/void?amount=xxx</span></aside>

<p>O exemplo a seguir exibe a requisição de cancelamento via <code class="language-plaintext highlighter-rouge">PaymentId</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo E-commerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para Autenticação Dupla na API Cielo E-commerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-32">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelamento-parcial">Cancelamento parcial</h3>

<p>O <strong>cancelamento parcial</strong> é o ato de cancelar um valor menor do que o valor total que foi autorizado e capturado. Esse modelo de cancelamento pode ocorrer inúmeras vezes, até que o valor total da transação seja cancelado.</p>

<blockquote>
  <p>O <strong>cancelamento parcial</strong> está disponível apenas para <strong>transações capturadas</strong>.</p>
</blockquote>

<aside class="notice">Atenção: A API retorna a soma do total de cancelamentos parciais, ou seja, se você fizer três cancelamentos parciais de R$10,00, a API apresentará na resposta um total de R$30,00 cancelados.</aside>

<h4 id="requisição-35">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=XXX </span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void?amount=XXX"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo E-commerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantKey</code></td>
      <td>Chave pública para Autenticação Dupla na API Cielo E-commerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento, necessário para operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-33">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Cancelamento de Taxa de embarque Para realizar o cancelamento da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser cancelado</aside>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{paymentId}/void?amount={Valor}&amp;serviceTaxAmount=xxx
</code></pre></div></div>

<h3 id="códigos-de-retorno-de-cancelamento">Códigos de Retorno de Cancelamento</h3>

<table>
  <thead>
    <tr>
      <th>RETURN CODE</th>
      <th>DESCRIÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>6</td>
      <td>Solicitação de cancelamento parcial aprovada com sucesso.</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Solicitação de cancelamento total aprovada com sucesso.</td>
    </tr>
    <tr>
      <td>72</td>
      <td>Erro: Saldo do lojista insuficiente para cancelamento de venda.</td>
    </tr>
    <tr>
      <td>77</td>
      <td>Erro: Venda original não encontrada para cancelamento.</td>
    </tr>
    <tr>
      <td>100</td>
      <td>Erro: Forma de pagamento e/ou Bandeira não permitem cancelamento.</td>
    </tr>
    <tr>
      <td>101</td>
      <td>Erro: Valor de cancelamento solicitado acima do prazo permitido para cancelar.</td>
    </tr>
    <tr>
      <td>102</td>
      <td>Erro: Cancelamento solicitado acima do valor da transação original.</td>
    </tr>
    <tr>
      <td>103</td>
      <td>Restrição Cadastral. Cancelamento não permitido. Entre em contato com a Central de Cancelamento.</td>
    </tr>
    <tr>
      <td>104</td>
      <td>Restrição Cadastral. Cancelamento não permitido. Entre em contato com a Central de Cancelamento.</td>
    </tr>
    <tr>
      <td>105</td>
      <td>Restrição Cadastral. Cancelamento não permitido. Entre em contato com a Central de Cancelamento.</td>
    </tr>
    <tr>
      <td>106</td>
      <td>Restrição Cadastral. Cancelamento não permitido. Entre em contato com a Central de Cancelamento.</td>
    </tr>
    <tr>
      <td>107</td>
      <td>Restrição Cadastral. Cancelamento não permitido. Entre em contato com a Central de Cancelamento.</td>
    </tr>
    <tr>
      <td>108</td>
      <td>Erro: Número do Estabelecimento (EC) não encontrado. Por favor, verifique o número enviado.</td>
    </tr>
    <tr>
      <td>475</td>
      <td>Falha no processamento. Por favor, tente novamente.</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelamento-via-site-cielo">Cancelamento via site Cielo</h3>

<p>É possivel realizar tanto o cancelamento total quanto o cancelamento parcial via site Cielo.</p>

<h1 id="post-de-notificação">Post de Notificação</h1>

<p>O <strong>Post de Notificação</strong> é um <strong>webhook</strong> que envia notificações sobre mudanças no status da transação ou sobre criação de pedido recorrente.</p>

<p>Durante seu cadastro na Cielo, você deve configurar um endpoint para que a Cielo envie as notificações e pode também configurar os eventos para os quais deseja receber notificações.</p>

<h3 id="eventos-notificados">Eventos Notificados</h3>

<p>Os eventos passíveis de notificação por meio de pagamento são:</p>

<table>
  <thead>
    <tr>
      <th>Meio de Pagamento</th>
      <th>Eventos que podem ser notificados</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Cartão de Crédito</strong></td>
      <td>Captura;<br />Cancelamento;<br />Sondagem.</td>
    </tr>
    <tr>
      <td><strong>Cartão de débito</strong></td>
      <td>Captura;<br />Sondagem.</td>
    </tr>
    <tr>
      <td><strong>Boleto</strong></td>
      <td>Conciliação;<br />Cancelamento manual</td>
    </tr>
    <tr>
      <td><strong>Transferência eletrônica</strong></td>
      <td>Confirmadas</td>
    </tr>
  </tbody>
</table>

<p>A notificação ocorre também ocorre em eventos relacionados a <strong>Recorrência Programada Cielo</strong></p>

<table>
  <thead>
    <tr>
      <th>Eventos da Recorrência</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Desabilitado ao atingir número máximo de tentativas (transações negadas)</td>
    </tr>
    <tr>
      <td>Reabilitação</td>
    </tr>
    <tr>
      <td>Finalizado / Data de finalização atingida</td>
    </tr>
    <tr>
      <td>Desativação</td>
    </tr>
    <tr>
      <td>Criação da transação de recorrência do pedido recorrente.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Os eventos só são notificados quando se você solicitar o recebimento desse tipo de notificação ao Suporte Cielo.</p>
</blockquote>

<h3 id="endpoint-de-notificação">Endpoint de Notificação</h3>

<p>Você deve informar um endpoint (<code class="language-plaintext highlighter-rouge">URL Status Pagamento</code>) ao Suporte Cielo, para que o Post de Notificação seja executado.</p>

<p>Características da <code class="language-plaintext highlighter-rouge">URL Status Pagamento</code></p>

<ul>
  <li>Deve ser <strong>estática</strong>;</li>
  <li>Limite de 255 caracteres.</li>
</ul>

<p>Características do <strong>Post de notificação</strong></p>

<ul>
  <li>É disparado a cada 30 minutos;</li>
  <li>Em caso de falha, são realizadas três novas tentativas.</li>
</ul>

<blockquote>
  <p>Para aumentar a segurança, é possível cadastrar uma informação para retorno do header para o seu endpoint. Com isso, seu endpoint só vai aceitar a notificação se a Cielo enviar o header.</p>
</blockquote>

<p>Para configurar as informações do header, informe ao Suporte Cielo os itens a seguir:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">KEY</code> - Nome do parâmetro</li>
  <li><code class="language-plaintext highlighter-rouge">VALUE</code> - Valor estático a ser retornado</li>
</ul>

<p>Você pode cadastrar até 3 tipos de informação de retorno no header.</p>

<blockquote>
  <p>A <strong>loja deverá retornar</strong> como resposta à notificação: <strong>HTTP Status Code 200 OK</strong>.</p>
</blockquote>

<p>O conteúdo da notificação será formado por três campos:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code>: identificador que representa um conjunto de transações recorrentes;</li>
  <li><code class="language-plaintext highlighter-rouge">PaymentId</code>: número de identificação do pagamento;</li>
  <li><code class="language-plaintext highlighter-rouge">ChangeType</code>: especifica o tipo de notificação.</li>
</ul>

<p>Com os dados acima, você poderá identificar a transação via <code class="language-plaintext highlighter-rouge">PaymentId</code> ou <code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code> e a mudança ocorrida. A partir da notificação, você pode consultar mais detalhes sobre a transação na <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-por-paymentid">Consulta por PaymentId</a> ou na <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-de-recorr%C3%AAncia">Consulta de Recorrência</a>.</p>

<p>Veja o exemplo do conteúdo do Post de Notificação:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ChangeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--header</span> <span class="s2">"key: value"</span>
<span class="o">{</span>
   <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"PaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"ChangeType"</span>: <span class="s2">"2"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Identificador que representa o pedido Recorrente (aplicável somente para ChangeType 2 ou 4).</td>
      <td>GUID</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentId</code></td>
      <td>Número de identificação do pagamento.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ChangeType</code></td>
      <td>Especifica o tipo de notificação. Veja a <a href="https://developercielo.github.io/manual/cielo-ecommerce#tabela-de-changetype">tabela de Changetype</a>.</td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="tabela-de-changetype">Tabela de ChangeType</h3>

<table>
  <thead>
    <tr>
      <th>ChangeType</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Mudança de status do pagamento</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Recorrência criada</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Mudança de status do Antifraude. Exclusivo para clientes integrados ao Antifraude.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Mudança de status do pagamento recorrente (Ex. desativação automática)</td>
    </tr>
    <tr>
      <td>5</td>
      <td>cancelamento negado</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Notificação de chargeback. Exclusivo para clientes integrados à <a href="https://braspag.github.io//manual/risknotification" target="\_blank">Risk Notification API</a>.</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Alerta de fraude</td>
    </tr>
  </tbody>
</table>

<h1 id="consulta-bin">Consulta BIN</h1>

<p>A <strong>Consulta BIN</strong> é um serviço de <strong>pesquisa de dados do cartão</strong>, seja ele de crédito ou débito, que identifica características do cartão com base nos primeiros dígitos e retorna informações que permitem validar os dados preenchidos na tela de pagamento.</p>

<p>A Consulta BIN retorna os seguintes dados sobre o cartão:</p>

<ul>
  <li><strong>Bandeira do cartão:</strong> nome da bandeira;</li>
  <li><strong>Tipo de cartão:</strong> crédito, débito ou múltiplo (crédito e débito);</li>
  <li><strong>Nacionalidade do cartão:</strong> estrangeiro ou nacional;</li>
  <li><strong>Cartão Corporativo:</strong> se o cartão é ou não é corporativo;</li>
  <li><strong>Banco Emissor:</strong> código e nome do emissor;</li>
  <li><strong>Cartão pré-pago:</strong> se o cartão é ou não é pré-pago.
<br />
<br />
Essas informações permitem tomar ações no momento do pagamento para melhorar a conversão da loja.</li>
</ul>

<aside class="warning">Para habilitar a Consulta Bin, entre em contato com a equipe de suporte da Cielo.</aside>

<h2 id="casos-de-uso">Casos de Uso</h2>

<p>Com base no resultado da Consulta BIN você pode desenvolver funcionalidades no seu checkout para melhorar a usabilidade para quem está comprando e, assim, ajudar na recuperação de carrinhos e na melhor conversão da sua loja.</p>

<p><strong>1. Evitar erros referentes à bandeira ou ao tipo de cartão</strong>:</p>

<ul>
  <li>
    <p>A consulta BIN retorna a <strong>bandeira correta</strong> do cartão uma vez que está associada à base de BINS das bandeiras; esse é um método muito mais seguro do que se basear em algoritmos no formulário;</p>
  </li>
  <li>
    <p>No checkout da sua loja, você pode criar uma mensagem para avisar ao consumidor se ele está usando um cartão de débito quando na verdade deveria usar um de crédito.</p>
  </li>
</ul>

<p><strong>2. Oferecer recuperação de carrinhos online</strong></p>

<p>Você pode desenvolver um fluxo no seu checkout para que, caso um cartão informado na tela de pagamento seja múltiplo (crédito e débito), a sua loja pode reter os dados do cartão e, caso a transação de crédito falhe, oferecer automaticamente ao consumidor uma transação de débito com o mesmo cartão.</p>

<p><strong>3. Alertar sobre cartões internacionais ou pré-pagos</strong></p>

<p>A Consulta BIN no carrinho pode indicar a tentativa de uso de um cartão internacional ou pré-pago. Se a sua loja não deseja receber pagamentos internacionais ou de cartões pré-pagos, você pode configurar o seu checkout para informar ao consumidor que a loja não aceita o cartão informado.</p>

<h2 id="integração">Integração</h2>

<h3 id="requisição-36">Requisição</h3>

<p>Basta realizar um <code class="language-plaintext highlighter-rouge">GET</code> enviando o BIN à nossa URL de consulta:</p>

<aside class="request"><span class="method get">GET</span><span class="endpoint">/1/cardBin/`BIN`</span></aside>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">BIN</code></td>
      <td>São os seis ou nove primeiros dígitos do cartão.</td>
    </tr>
  </tbody>
</table>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">https://apiquerysandbox.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/cardBin/</span><span class="mi">420020</span><span class="w">
</span></code></pre></div></div>

<h3 id="resposta-34">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crédito"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ForeignCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CorporateCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IssuerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="w">
    </span><span class="nl">"Prepaid"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Status</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Status da requisição de análise de Bins: <br /> 00 – Análise autorizada <br /> 01 – Bandeira não suportada <br /> 02 – Cartão não suportado na consulta de bin <br /> 73 – Afiliação bloqueada</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Provider</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Bandeira do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardType</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Tipo do cartão em uso : <br /> Crédito <br /> Débito <br />Multiplo</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ForeingCard</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Se o cartão é emitido no exterior (False/True).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CorporateCard</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Se o cartão é corporativo (False/True).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issuer</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Nome do emissor do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IssuerCode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Código do emissor do cartão.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Prepaid</code></td>
      <td>Boolean</td>
      <td>True ou False</td>
      <td>Retornará “True” caso o cartão seja do tipo pré pago.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Atenção</strong>: Em <a href="https://developercielo.github.io/manual/cielo-ecommerce#consulta-bin-sandbox"><strong>sandbox</strong></a> os valores retornados são simulações e não validações reais de BINS. Considere apenas o retorno da requisição e o seu formato. Para identificação real dos bins, use o ambiente de produção.</p>
</blockquote>

<h1 id="zero-auth">Zero Auth</h1>

<p>O <strong>Zero Auth</strong> é uma ferramenta da Cielo que permite verificar se um cartão está válido para realizar uma compra antes que o pedido seja finalizado. O Zero Auth simula uma autorização sem afetar o limite de crédito ou alertar o portador do cartão sobre o teste.</p>

<blockquote>
  <p>O Zero Auth não informa o limite ou características do cartão ou do portador, apenas simula uma autorização Cielo.</p>
</blockquote>

<p>O Zero Auth é a forma correta de validar cartões de acordo com as recomendações das bandeiras e bancos. Antes da criação do Zero Auth, as lojas costumavam criar transações de valores baixos, como um real ou um dólar, e fazer o cancelamento em seguida; é importante saber que essa prática hoje é penalizada pelas bandeiras.</p>

<blockquote>
  <p><strong>Atenção:</strong> Na ocorrência de transações com valor diferente de <em>zero</em> e inferior a <em>um dólar</em>, seguidas do cancelamento da transação, as bandeiras aplicarão tarifas à Cielo, que serão repassadas aos estabelecimentos que estiverem em inconformidade. A bandeira Mastercard por exemplo, está cobrando uma tarifa no valor de R$ 0,21 centavos por transação.</p>
</blockquote>

<p>O <strong>ZeroAuth</strong> faz a validação de <strong>cartões abertos ou tokenizados</strong> (envio do <code class="language-plaintext highlighter-rouge">CardToken</code> criado na API Cielo E-commerce).</p>

<p><strong>Bandeiras suportadas</strong></p>

<p>O Zero Auth suporta as bandeiras <strong>Visa, Master</strong> e <strong>Elo</strong> tanto para cartões de crédito quanto de débito.</p>

<p>Caso outras bandeiras sejam enviadas, haverá um erro com o retorno “<strong>57-Bandeira inválida</strong>”.</p>

<aside class="warning">Para habilitar o Zero Auth, entre em contato com a equipe de suporte da Cielo.</aside>

<h2 id="integração-1">Integração</h2>

<p>Para realizar a consulta ao Zero Auth, o lojista deverá enviar uma requisição <code class="language-plaintext highlighter-rouge">POST</code> para a API Cielo Ecommerce, simulando uma transação.</p>

<h3 id="requisição-37">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/zeroauth</span></aside>

<p>A validação de um cartão aberto necessita de um contrato técnico diferente da validação de um cartão tokenizado. Confira os exemplos de requisição a seguir:</p>

<h4 id="cartão-aberto">Cartão aberto</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexsander Rosa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CardOnFile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Recurring"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>A seguir, a listagem de campos da Requisição:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardType</code></td>
      <td><em>Creditcard ou DebitCard</em></td>
      <td>Texto</td>
      <td>255</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardNumber</code></td>
      <td>Número do Cartão do Comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpirationDate</code></td>
      <td>Data de e validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SaveCard</code></td>
      <td>Booleano que identifica se o cartão será salvo para gerar o <code class="language-plaintext highlighter-rouge">CardToken</code>. Saiba mais sobre <a href="https://developercielo.github.io/manual/cielo-ecommerce#tokeniza%C3%A7%C3%A3o-de-cart%C3%B5es">Tokenização</a>.</td>
      <td>Boolean</td>
      <td>—</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Bandeira do cartão: <br />Visa<br />Master<br />Elo</td>
      <td>Texto</td>
      <td>10</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Token do cartão na 3.0.</td>
      <td>GUID</td>
      <td>36</td>
      <td style="text-align: center">Condicional</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Usage</code></td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação.</td>
      <td>Texto</td>
      <td>—</td>
      <td style="text-align: center">Não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Reason</code></td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas). Se for transação recorrente, usar <code class="language-plaintext highlighter-rouge">Payment.Recurrent</code> = true (recorrência própria) ou <code class="language-plaintext highlighter-rouge">Recurrent.Payment</code> = true (recorrência programada).<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência<br /><a href="https://developercielo.github.io/faq/faq-api-3-0#pagamento-com-credenciais-armazenadas">Veja Mais</a>.</td>
      <td>Texto</td>
      <td>—</td>
      <td style="text-align: center">Condicional</td>
    </tr>
  </tbody>
</table>

<h4 id="cartão-tokenizado">Cartão tokenizado</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23712c39-bb08-4030-86b3-490a223a8cc9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>A seguir, a listagem de campos da Requisição:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Brand</code></td>
      <td>Bandeira do cartão: <br />Visa<br />Master<br /></td>
      <td>Texto</td>
      <td>10</td>
      <td style="text-align: center">não</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Token do cartão na 3.0</td>
      <td>GUID</td>
      <td>36</td>
      <td style="text-align: center">Condicional</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-35">Resposta</h3>

<p>A resposta sempre retorna se o cartão pode ser autorizado no momento. Essa informação apenas significa que o <em>cartão está válido para transacionar</em>, mas não indica que um determinado valor será autorizado.</p>

<p>Os campos retornados na resposta dependem do resultado da validação. A tabela a seguir apresenta todos os campos possíveis; depois da tabela, confira os exemplos de cada tipo de resposta.</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Valid</code></td>
      <td>Situação do cartão:<br /> <strong>True</strong> – Cartão válido<br /><strong>False</strong> – Cartão Inválido</td>
      <td>Boolean</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno</td>
      <td>Texto</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno</td>
      <td>Texto</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">IssuerTransactionId</code></td>
      <td>Identificador de autenticação do emissor para transações de débito recorrentes. Este campo deve ser enviado nas transações subsequentes da primeira transação no modelo de recorrência própria. Já no modelo de recorrência programada, a Cielo será a responsável por enviar o campo nas transações subsequentes.</td>
      <td>Texto</td>
      <td>15</td>
    </tr>
  </tbody>
</table>

<h4 id="positiva---cartão-válido">POSITIVA - Cartão válido</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transacao autorizada"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>Consulte  para visualizar a descrição dos códigos de retorno.
O código de retorno <strong>00 representa sucesso no Zero Auth</strong>, os demais códigos são definidos de acordo com a documentação acima.</p>
</blockquote>

<h4 id="negativa---cartão-inválido">NEGATIVA - Cartão inválido</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negativa---bandeira-inválida">NEGATIVA - Bandeira inválida</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bandeira inválida"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negativa---restrição-cadastral">NEGATIVA - Restrição cadastral</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Restrição Cadastral"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Caso ocorra algum erro no fluxo e não seja possível validar o cartão, o serviço irá retornar os erros:</p>

<ul>
  <li><em>500 – Internal Server Error</em></li>
  <li><em>400 – Bad Request</em></li>
</ul>

<blockquote>
  <p>São cobradas multas por excesso de tentativas negativas, leia mais sobre em <a href="https://developercielo.github.io/tutorial/programa-retentativa-bandeiras" target="\_blank">Programa de Retentativa das Bandeiras</a>.</p>
</blockquote>

<h1 id="silent-order-post">Silent Order Post</h1>

<p>Com o Silent Order Post, os dados de pagamentos são trafegados de forma segura, mantendo o controle total sobre a experiência de checkout.</p>

<p>Esse método possibilita o envio dos dados do pagamento do comprador de forma segura diretamente em nosso sistema. Os campos de pagamento são armazenados pela Cielo, que conta com a certificação PCI DSS 3.2.</p>

<p>É ideal para lojistas que exigem um alto nível de segurança, sem perder a identidade de sua página.</p>

<h2 id="características">Características</h2>

<ul>
  <li>Captura de dados de pagamento diretamente para os sistemas da Cielo por meio dos campos hospedados na sua página através de um script (JavaScript);</li>
  <li>Compatibilidade com todos os meios de pagamentos disponibilizados ao Gateway (Nacional e Internacional);</li>
  <li>Redução do escopo de PCI DSS;</li>
  <li>Controle total sobre a experiência de checkout e elementos de gestão da sua marca.</li>
</ul>

<blockquote>
  <p>O <strong>PCI Data Security Standard</strong> (PCI DSS) é um padrão global de segurança de dados de cartões, e compreende um conjunto mínimo de requisitos para
proteger os dados do titular do cartão.</p>
</blockquote>

<h2 id="fluxo-de-autorização">Fluxo de Autorização</h2>

<p>A seguir, apresentamos como funciona um fluxo de autorização padrão e um fluxo de autorização com o Silent Order Post.</p>

<h3 id="fluxo-de-autorização-padrão">Fluxo de Autorização Padrão</h3>

<p>No fluxo de autorização padrão, a loja virtual recebe os dados de pagamento do comprador e, por isso, precisa estar em conformidade com o PCI DSS.</p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo-padrao-de-autorizacao.jpg" alt="Fluxo Padrão" /></p>

<h3 id="fluxo-de-autorização-com-silent-order-post">Fluxo de Autorização com Silent Order POST</h3>

<p>Com o Silent Order Post, o servidor da loja virtual <strong>não trafega os dados do cartão</strong> abertamente.</p>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo-de-autorizacao-com-sop.jpg" alt="Fluxo Padrão" /></p>

<ol>
  <li>A loja configura o JavaScript na tela de checkout. Na finalização da compra, o script envia os dados de pagamento diretamente para a API E-Commerce Cielo, sem passar pelo seu servidor;</li>
  <li>A API armazena os dados do cartão para aquela compra e cria um código criptografado (<code class="language-plaintext highlighter-rouge">PaymentToken</code>, válido apenas para uma compra) ou armazena os dados do cartão e cria um código criptografado para o cartão (<code class="language-plaintext highlighter-rouge">CardToken</code>, que pode ser usado em outras compras);</li>
  <li>A loja envia o token do script para o próprio servidor;</li>
  <li>A loja, por meio do seu servidor, envia a requisição de autorização com o token e os demais campos obrigatórios para uma transação.</li>
</ol>

<h2 id="integração-2">Integração</h2>

<h3 id="passo-1-obtendo-dos-tokens-de-acesso">Passo 1. Obtendo dos tokens de acesso</h3>

<p>Para que possa usar o Silent Order Post, você vai precisar de dois tokens:</p>

<ul>
  <li>Token de autenticação OAuth2 (<code class="language-plaintext highlighter-rouge">access_token</code>);</li>
  <li>Token de autenticação do Silent Order Post (<code class="language-plaintext highlighter-rouge">AccessToken</code>).</li>
</ul>

<h4 id="token-de-autenticação-oauth2">Token de autenticação OAuth2</h4>

<p>Obtenha o <code class="language-plaintext highlighter-rouge">access_token</code> a partir da API de autenticação da Cielo (<strong>OAuth2</strong>). Em caso de sucesso, a API retornará um <code class="language-plaintext highlighter-rouge">access_token</code> que deverá ser utilizado na próxima camada de autenticação da ferramenta.</p>

<p>Para obter o <code class="language-plaintext highlighter-rouge">access_token</code> no padrão <a href="https://oauth.net/2/" target="\_blank">OAuth 2.0</a>, envie uma requisição utilizando o VERBO HTTP <strong>POST</strong> para a URL da tabela a seguir, formada pela “URL base do ambiente + endpoint”, conforme o ambiente desejado:</p>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>URL base + endpoint</th>
      <th>Authorization</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SANDBOX</strong></td>
      <td>https://authsandbox.braspag.com.br/oauth2/token</td>
      <td>“Basic <em>{base64}</em>”</td>
    </tr>
    <tr>
      <td><strong>PRODUÇÃO</strong></td>
      <td>https://auth.braspag.com.br/oauth2/token</td>
      <td>“Basic <em>{base64}</em>”</td>
    </tr>
  </tbody>
</table>

<p><strong>Nota:</strong> O valor “<em>{base64}</em>” para a autorização do tipo “Basic” deve ser obtido da seguinte forma:</p>

<ol>
  <li>Concatene o “ClientId” e o “ClientSecret” (<code class="language-plaintext highlighter-rouge">ClientId:ClientSecret</code>);</li>
  <li>Codifique o resultado da concatenação em base64;</li>
  <li>Realize uma requisição ao servidor de autorização utilizando o código alfanumérico gerado.</li>
</ol>

<blockquote>
  <p>Para obter o “ClientID” e o “ClientSecret”, envie um e-mail para <em>cieloecommerce@cielo.com.br</em> contendo o <code class="language-plaintext highlighter-rouge">MerchantId</code> e informando que deseja obter as credenciais “ClientID” e “ClientSecret” para o Silent Order Post.</p>
</blockquote>

<p><strong>Requisição</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">oauth2/token</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://authsandbox.braspag.com.br/oauth2/token"</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Basic {base64}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>
<span class="nt">--data-binary</span> <span class="s2">"grant_type=client_credentials"</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Parâmetros</th>
      <th>Formato</th>
      <th>Envio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Authorization</code></td>
      <td>“Basic <em>{base64}</em>”</td>
      <td>Envio no header.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Content-Type</code></td>
      <td>“application/x-www-form-urlencoded”</td>
      <td>Envio no header.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">grant_type</code></td>
      <td>“client_credentials”</td>
      <td>Envio no body.</td>
    </tr>
  </tbody>
</table>

<p><strong>Resposta</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">599</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"access_token"</span>: <span class="s2">"faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span>,
  <span class="s2">"token_type"</span>: <span class="s2">"bearer"</span>,
  <span class="s2">"expires_in"</span>: 599
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedades da Resposta</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>O token de autenticação solicitado. Ele será utilizado no próximo passo.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">token_type</code></td>
      <td>Indica o valor do tipo de token.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">expires_in</code></td>
      <td>Expiração do token de acesso, em segundos. Quando o token expira, é necessário obter um novo.</td>
    </tr>
  </tbody>
</table>

<h4 id="token-de-autenticação-do-silent-order-post">Token de autenticação do Silent Order Post</h4>

<p>Após a obtenção do token de autenticação OAuth2, envie uma requisição utilizando o VERBO HTTP <strong>POST</strong> para a URL da tabela a seguir conforme o ambiente desejado:</p>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>URL base + endpoint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sandbox</td>
      <td>https://transactionsandbox.pagador.com.br/post/api/public/v2/accesstoken</td>
    </tr>
    <tr>
      <td>Produção</td>
      <td>https://transaction.pagador.com.br/post/api/public/v2/accesstoken</td>
    </tr>
  </tbody>
</table>

<p><strong>Requisição</strong></p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">api/public/v2/accesstoken</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--request</span> POST <span class="s2">"https://transactionsandbox.pagador.com.br/post/api/public/v2/accesstoken"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer faSYkjfiod8ddJxFTU3vti_ ... _xD0i0jqcw"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo E-commerce.</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Authorization</code></td>
      <td>Bearer [AccessToken OAuth2]</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<p><strong>Resposta</strong></p>

<p>Como resposta, a loja receberá um json (“HTTP 201 Created”) contendo, entre outras informações, o <code class="language-plaintext highlighter-rouge">AccessToken</code> do Silent Order Post.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccessToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MzA5YWIxNmQtYWIzZi00YmM2LWEwN2QtYTg2OTZjZjQxN2NkMDIzODk5MjI3Mg=="</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Issued"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-05T08:50:04"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ExpiresIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-05T09:10:04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"MzA5YWIxNmQtYWIzZi00YmM2LWEwN2QtYTg2OTZjZjQxN2NkMDIzODk5MjI3Mg=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2021-05-05T08:50:04"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2021-05-05T09:10:04"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo E-commerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AccessToken</code></td>
      <td>Token de acesso (<code class="language-plaintext highlighter-rouge">AccessToken</code> do Silent Order Post). O <code class="language-plaintext highlighter-rouge">AccessToken</code> obtido permitirá a realização de uma tentativa de autorização no período de 20 minutos.</td>
      <td>Texto</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issued</code></td>
      <td>Data e hora da geração.</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpiresIn</code></td>
      <td>Data e hora da expiração.</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<h3 id="passo-2-implementando-o-script">Passo 2. Implementando o script</h3>

<p>Faça o download do script fornecido pela Cielo, e anexe o script à sua página de checkout. Esse script permitirá à Cielo processar todas as informações de cartão sem intervenção do estabelecimento.</p>

<p>Faça o download do script correspondente ao ambiente desejado, sandbox ou produção:</p>

<table>
  <thead>
    <tr>
      <th>AMBIENTE</th>
      <th>URL do script</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SANDBOX</strong></td>
      <td><a href="https://transactionsandbox.pagador.com.br/post/scripts/silentorderpost-1.0.min.js" target="\_blank">https://transactionsandbox.pagador.com.br/post/scripts/silentorderpost-1.0.min.js</a></td>
    </tr>
    <tr>
      <td><strong>PRODUÇÃO</strong></td>
      <td><a href="https://transaction.cieloecommerce.cielo.com.br/post/scripts/silentorderpost-1.0.min.js" target="\_blank">https://transaction.cieloecommerce.cielo.com.br/post/scripts/silentorderpost-1.0.min.js</a></td>
    </tr>
  </tbody>
</table>

<p>Em seguida, faça a configuração do formulário com as seguintes classes:</p>

<ul>
  <li>Para o portador do cartão de crédito/débito: <strong>bp-sop-cardholdername</strong></li>
  <li>Para o número do cartão de crédito/débito: <strong>bp-sop-cardnumber</strong></li>
  <li>Para a validade do cartão de crédito/débito: <strong>bp-sop-cardexpirationdate</strong></li>
  <li>Para o código de segurança do cartão de crédito/débito: <strong>bp-sop-cardcvvc</strong></li>
</ul>

<p>Além disso, defina os parâmetros a seguir:</p>

<p><strong>Parâmetros do Script</strong></p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">accessToken</code></td>
      <td>Token de acesso obtido via API de autenticação da Braspag (AccessToken SOP).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">environment</code></td>
      <td>Tipo de ambiente: “sandbox” / “production”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">language</code></td>
      <td>Idioma: “pt” / “en” / “es”.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">enableTokenize</code></td>
      <td>“true” (salva o cartão diretamente no Cartão Protegido, retornando um <em>cardToken</em> ao invés de um <em>paymentToken</em>) / “false” (caso contrário).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">cvvRequired</code></td>
      <td>“false” (desliga a obrigatoriedade de envio do CVV) / “true” (caso contrário).</td>
    </tr>
  </tbody>
</table>

<p>Exemplo de setup a ser realizado pela loja virtual na página de checkout:</p>

<p><img src="https://developercielo.github.io/images/html-silent-order-post.jpg" alt="Pagina Checkout" /></p>

<p><strong>Retornos do Script</strong></p>

<p>O script fornecido pela Cielo fornece três eventos para manipulação e tratamento por parte do estabelecimento. São eles:</p>

<ul>
  <li><strong>onSuccess</strong>, retorna o <strong>“PaymentToken”</strong> após processar os dados do cartão;</li>
  <li><strong>onError</strong>, caso haja algum erro no consumo dos serviços da Cielo;</li>
  <li><strong>onInvalid</strong>, retorna o resultado da validação dos inputs.</li>
</ul>

<p>Na validação dos inputs, o estabelecimento poderá utilizar toda a camada de validação sobre os dados de cartão realizada pela Cielo e assim simplificar o tratamento no seu formulário de checkout. As mensagens retornadas no resultado da validação são disponibilizadas nos idiomas português (padrão), inglês e espanhol.</p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Condição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PaymentToken</code></td>
      <td>Token efêmero utilizado para pagamento no formato de um GUID (36).</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">CardToken</code></td>
      <td>Token permanente utilizado para pagamento no formato de um GUID (36).</td>
      <td>Quando <em>enableTokenize</em> for “true”.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <ul>
    <li>O <code class="language-plaintext highlighter-rouge">PaymentToken</code> ou o <code class="language-plaintext highlighter-rouge">CardToken</code> representarão todos os dados de cartão fornecido pelo comprador. O token será usado pelo estabelecimento para que não precise tratar e processar dados de cartão em seu servidor.<br /></li>
    <li>Por questões de segurança o <code class="language-plaintext highlighter-rouge">PaymentToken</code> poderá ser usado apenas para uma autorização na API E-commerce Cielo. Após o processamento do token, ele será invalidado.</li>
  </ul>
</blockquote>

<h3 id="passo-3-requisição-de-autorização-com-o-token">Passo 3. Requisição de autorização com o token</h3>

<h4 id="requisição-com-paymenttoken">Requisição com PaymentToken</h4>

<p>Envie a requisição de autorização com o <code class="language-plaintext highlighter-rouge">PaymentToken</code> no nó <code class="language-plaintext highlighter-rouge">CreditCard</code> (para transação com cartão de crédito) ou no nó <code class="language-plaintext highlighter-rouge">DebitCard</code> (para transação cmo cartão de débito).</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Master"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Para consultar os campos obrigatórios da requisição e a resposta, veja as requisições padrão das transações de <a href="https://developercielo.github.io/manual/cielo-ecommerce#criando-uma-transa%C3%A7%C3%A3o-de-cr%C3%A9dito">crédito</a> ou <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%A3o-de-d%C3%A9bito">débito</a>.</p>

<p><strong>Por questões de segurança o <code class="language-plaintext highlighter-rouge">PaymentToken</code> poderá ser usado apenas para uma autorização na API E-commerce Cielo. O token será processado e, em seguida, invalidado.</strong></p>

<h4 id="requisição-com-cardtoken">Requisição com CardToken</h4>

<p>Envie a requisição de autorização com o <code class="language-plaintext highlighter-rouge">CardToken</code> no nó <code class="language-plaintext highlighter-rouge">CreditCard</code> (para transação com cartão de crédito) ou no nó <code class="language-plaintext highlighter-rouge">DebitCard</code> (para transação cmo cartão de débito).</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"262"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Para consultar os campos obrigatórios da requisição e a resposta, veja as requisições padrão das transações de <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%A3o-de-cr%C3%A9dito">crédito</a> ou <a href="https://developercielo.github.io/manual/cielo-ecommerce#cart%C3%A3o-de-d%C3%A9bito">débito</a>.</p>

<h2 id="autenticação-legada-do-sop">Autenticação legada do SOP</h2>

<blockquote>
  <p>Não recomendamos essa forma de autenticação, pois será descontinuada.</p>
</blockquote>

<p><strong>PASSO 1</strong></p>

<p>a) A loja deverá solicitar um ticket (server to server) enviando um POST para a seguinte URL:</p>

<p><strong>SANDBOX:</strong>
<strong>https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid={mid_loja}</strong></p>

<p><strong>PRODUÇÃO:</strong>
<strong>https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid={mid}</strong></p>

<p>Exemplo: https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000</p>

<h3 id="requisição-38">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v1/accesstoken?merchantid={mid_loja}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">mid_loja</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-36">Resposta</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2018-07-23T11:09:32"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2018-07-23T11:29:32"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">AccessToken</code></td>
      <td>Token de Acesso</td>
      <td>Texto</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Issued</code></td>
      <td>Data e hora da geração</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ExpiresIn</code></td>
      <td>Data e hora da expiração</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<p>b) Para uso este recurso, por questões de segurança, obrigatoriamente a Cielo irá solicitar, no mínimo, <strong>um IP válido do estabelecimento</strong>. Caso contrário a requisição não será autorizada (<strong>HTTP 401 NotAuthorized</strong>).</p>

<p><strong>PASSO 2</strong></p>

<p>a) Como resposta, a loja receberá um JSON (HTTP 201 Created) contendo, entre outras, informações o ticket (AccessToken), como por exemplo:</p>

<p><img src="https://developercielo.github.io/images/response-ticket-silent-order-post-cielo.jpg" alt="Response Ticket" /></p>

<p>Por questões de segurança, este ticket dará permissão para a loja salvar apenas <strong>um cartão</strong> dentro de um prazo de já estipulado na resposta, através do atributo <code class="language-plaintext highlighter-rouge">ExpiresIn</code> (por padrão, 20 minutos). O que acontecer primeiro invalidará o ticket para um uso futuro.</p>

<h1 id="velocity">Velocity</h1>

<p>O <strong>Velocity</strong> é um tipo de mecanismo de prevenção a tentativas de fraude, que analisa a frequência que determinados dados são utilizados numa transação e se esse dados estão inscritos em uma lista de comportamentos passíveis de ações de segurança.</p>

<p>O Velocity é um aliado na avaliação de comportamentos de compra suspeitos, pois os cálculos são baseados em <strong>elementos de rastreabilidade</strong>.</p>

<blockquote>
  <p>Para que suas transações sejam analisadas pelo Velocity, solicite a inclusão desse serviço ao Suporte Cielo.</p>
</blockquote>

<p>O Velocity funciona analisando dados enviados na integração padrão da API Cielo E-commerce. Assim, não é necessário incluir nenhum nó adicional na requisição de criação de transação.</p>

<p>Quando o Velocity está ativo, a resposta da transação trará um nó específico chamado <code class="language-plaintext highlighter-rouge">Velocity</code>, com os detalhes da análise.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051202"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2027"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reject"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"RejectReasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"RuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3. HitsTimeRangeInSeconds: 1440. ExpirationBlockTimeInSeconds: 1440"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbortedByFraud"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP171"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected by fraud risk (velocity)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.Id</code></td>
      <td>Identificador da análise efetuada</td>
      <td>GUID</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.ResultMessage</code></td>
      <td>Accept ou Reject</td>
      <td>Texto</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.Score</code></td>
      <td>100</td>
      <td>Número</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.RejectReasons.RuleId</code></td>
      <td>Código da Regra que rejeitou</td>
      <td>Número</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">VelocityAnalysis.RejectReasons.Message</code></td>
      <td>Descrição da Regra que rejeitou</td>
      <td>Texto</td>
      <td>512</td>
    </tr>
  </tbody>
</table>

<h1 id="códigos-da-api">Códigos da API</h1>

<h2 id="sobre-os-códigos">Sobre os códigos</h2>

<p>A Api Cielo e-commerce possui 4 tipos de códigos retornados que representam diferentes momentos da transação.
Abaixo vamos explica-los na ordem em que podem ocorrer:</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>HTTP Status Code</strong></td>
      <td>São códigos do padrão HTTP. Eles informam se as informações enviadas a API estão de <strong>fato obtendo sucesso ao atingir nossos ENDPOINTs</strong>. Se valores diferentes de 200 ou 201 estejam aparecendo, há algum empecilho com a comunicação com a API<br /> <em>Retornado no momento da requisição a API</em></td>
    </tr>
    <tr>
      <td><strong>Erros da API</strong></td>
      <td>Esses códigos são respostas a <strong>validação do conteúdo dos dados enviados</strong>. Se eles estão sendo exibidos, as chamadas a nossa API foram identificadas e estão sendo validadas. Se esse código for exibido, a requisição contem erros (EX: tamanho/condições/erros de cadastro) que impedem a criação da transação<br /><em>Retornado no momento da requisição a API</em></td>
    </tr>
    <tr>
      <td><strong>Status</strong></td>
      <td>Depois de criada a transação, esses códigos serão retornados, informando como se encontra a transação no momento (EX: <code class="language-plaintext highlighter-rouge">Autorizada</code> &gt; <code class="language-plaintext highlighter-rouge">Capturada</code> &gt; <code class="language-plaintext highlighter-rouge">Cancelada</code>)<br />_Retornado no campo <code class="language-plaintext highlighter-rouge">Status</code> _</td>
    </tr>
    <tr>
      <td><strong>Retorno das Vendas</strong></td>
      <td>Formado por um <strong>código de Retorno</strong> e uma <strong>mensagem</strong>, esses códigos indicam o <strong>motivo</strong> de um determinado <code class="language-plaintext highlighter-rouge">Status</code> dentro de uma transação. Eles indicam, por exemplo, se uma transação com <code class="language-plaintext highlighter-rouge">status</code> negada não foi autorizada devido saldo negativo no banco emissor. <br /><em>Retornados nos campos <code class="language-plaintext highlighter-rouge">ReturnCode</code> e <code class="language-plaintext highlighter-rouge">ReturnMessage</code></em><br /> <em>Ocorrem somente em Cartões de crédito e Débito</em></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>OBS</strong>: No antigo <strong>Webservice 1.5 Cielo</strong>, o <code class="language-plaintext highlighter-rouge">ReturnCode</code> era considerado como <em>Status da transação</em>. Na <strong>API CIELO ECOMMERCE</strong>, o campo <code class="language-plaintext highlighter-rouge">Status</code> possui códigos próprios, sendo assim, o <strong>campo a ser considerado como base de identificação do status de uma transação</strong></p>
</blockquote>

<h2 id="http-status-code">HTTP Status Code</h2>

<table>
  <thead>
    <tr>
      <th>HTTP Status Code</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK (Capture/Void/Get)</td>
    </tr>
    <tr>
      <td>201</td>
      <td>OK (Authorization)</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

<h2 id="programa-de-retentativa-das-bandeiras">Programa de Retentativa das Bandeiras</h2>

<p>Quando uma pessoa tenta fazer uma compra com cartão no e-commerce a transação pode ser negada devido a uma série de fatores. As <strong>tentativas seguintes de concluir a transação</strong> usando o <strong>mesmo cartão</strong> são o que chamamos de <strong>retentativa</strong>.</p>

<p><strong>Como funciona?</strong></p>

<p>As transações negadas são classificadas como:</p>

<ul>
  <li><strong>Irreversíveis</strong>: quando a retentativa não é permitida;</li>
  <li><strong>Reversíveis</strong>: quando a retentativa é permitida mediante as regras de cada bandeira.</li>
</ul>

<p><br />
As retentativas podem ser cobradas pela bandeira e a quantidade de vezes que uma transação pode ser retentada antes da cobrança também varia de acordo com a bandeira.</p>

<blockquote>
  <p>Para ver as regras de retentativa de cada bandeira, acesse o manual <a href="https://developercielo.github.io/tutorial/programa-retentativa-bandeiras" target="_blank">Programa de Retentativa das Bandeiras</a></p>
</blockquote>

<h2 id="códigos-de-retorno-abecs">Códigos de retorno ABECS</h2>

<p>A Associação Brasileira das Empresas de Cartão de Crédito e Serviços (ABECS) é responsável pela padronização do <strong>código de retorno das autorizações de vendas negadas</strong> tanto para as soluções pagamento do mundo físico quanto de e-commerce do mercado brasileiro.</p>

<blockquote>
  <p>Para ver a relação completa dos códigos de retorno das transações negadas, acesse a tabela <a href="https://developercielo.github.io/tutorial/abecs-e-outros-codigos" target="_blank">Códigos de retorno ABECS</a></p>
</blockquote>

<h2 id="status-transacional">Status transacional</h2>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Status</th>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td><strong>NotFinished</strong></td>
      <td>Todos</td>
      <td>Aguardando atualização de status.</td>
    </tr>
    <tr>
      <td>1</td>
      <td><strong>Authorized</strong></td>
      <td>Todos</td>
      <td>Pagamento apto a ser capturado ou definido como pago.</td>
    </tr>
    <tr>
      <td>2</td>
      <td><strong>PaymentConfirmed</strong></td>
      <td>Todos</td>
      <td>Pagamento confirmado e finalizado.</td>
    </tr>
    <tr>
      <td>3</td>
      <td><strong>Denied</strong></td>
      <td>Cartões de crédito e débito (transferência eletrônica) e e-wallets.</td>
      <td>Pagamento negado por Autorizador.</td>
    </tr>
    <tr>
      <td>10</td>
      <td><strong>Voided</strong></td>
      <td>Todos, exceto boleto</td>
      <td>Pagamento cancelado.</td>
    </tr>
    <tr>
      <td>11</td>
      <td><strong>Refunded</strong></td>
      <td>Cartões de crédito e débito e e-wallets.</td>
      <td>Pagamento cancelado após 23h59 do dia de autorização.</td>
    </tr>
    <tr>
      <td>12</td>
      <td><strong>Pending</strong></td>
      <td>Cartões de crédito e débito (transferência eletrônica), e-wallets e pix.</td>
      <td>Aguardando retorno da instituição financeira.</td>
    </tr>
    <tr>
      <td>13</td>
      <td><strong>Aborted</strong></td>
      <td>Todos</td>
      <td>Pagamento cancelado por falha no processamento ou por ação do Antifraude.</td>
    </tr>
    <tr>
      <td>20</td>
      <td><strong>Scheduled</strong></td>
      <td>Cartão de crédito e e-wallets.</td>
      <td>Recorrência agendada.</td>
    </tr>
  </tbody>
</table>

<h2 id="erros-de-integração">Erros de integração</h2>

<blockquote>
  <p><strong>Erros da API</strong> - Esses códigos são respostas à <strong>validação do conteúdo dos dados enviados no momento da requisição à API</strong>. <br />
Se um código de erro for exibido, a requisição contém erros (como tamanho, condições ou erros de cadastro etc.) que impedem a criação da transação<br /></p>
</blockquote>

<p><strong>Exemplo</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">126</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit Card Expiration Date is invalid"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Code</code></td>
      <td>Código de Erro da API. <a href="https://developercielo.github.io/manual/cielo-ecommerce#c%C3%B3digos-de-erros-da-api">Veja a lista de códigos</a></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Message</code></td>
      <td>Descrição do erro. <a href="https://developercielo.github.io/manual/cielo-ecommerce#c%C3%B3digos-de-erros-da-api">Veja a lista de códigos</a></td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-de-erros-da-api">Códigos de Erros da API</h3>

<p>Códigos retornados em caso de erro, identificando o motivo do erro e suas respectivas mensagens.</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Mensagem</th>
      <th>Descrição</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Internal error</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>100</td>
      <td>RequestId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>101</td>
      <td>MerchantId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>102</td>
      <td>Payment Type is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>103</td>
      <td>Payment Type can only contain letters</td>
      <td>Caracteres especiais não permitidos</td>
      <td> </td>
    </tr>
    <tr>
      <td>104</td>
      <td>Customer Identity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>105</td>
      <td>Customer Name is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>106</td>
      <td>Transaction ID is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>107</td>
      <td>OrderId is invalid or does not exists</td>
      <td>Campo enviado excede o tamanho ou contem caracteres especiais</td>
      <td> </td>
    </tr>
    <tr>
      <td>108</td>
      <td>Amount must be greater or equal to zero</td>
      <td>Valor da transação deve ser maior que “0”</td>
      <td> </td>
    </tr>
    <tr>
      <td>109</td>
      <td>Payment Currency is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>110</td>
      <td>Invalid Payment Currency</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>111</td>
      <td>Payment Country is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>112</td>
      <td>Invalid Payment Country</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>113</td>
      <td>Invalid Payment Code</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>114</td>
      <td>The provided MerchantId is not in correct format</td>
      <td>O MerchantId enviado não é um GUID</td>
      <td> </td>
    </tr>
    <tr>
      <td>115</td>
      <td>The provided MerchantId was not found</td>
      <td>O MerchantID não existe ou pertence a outro ambiente (EX: Sandbox)</td>
      <td> </td>
    </tr>
    <tr>
      <td>116</td>
      <td>The provided MerchantId is blocked</td>
      <td>Loja bloqueada, entre em contato com o suporte Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>117</td>
      <td>Credit Card Holder is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>118</td>
      <td>Credit Card Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>119</td>
      <td>At least one Payment is required</td>
      <td>Nó “Payment” não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>120</td>
      <td>Request IP not allowed. Check your IP White List</td>
      <td>IP bloqueado por questões de segurança</td>
      <td> </td>
    </tr>
    <tr>
      <td>121</td>
      <td>Customer is required</td>
      <td>Nó “Customer” não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>122</td>
      <td>MerchantOrderId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>123</td>
      <td>Installments must be greater or equal to one</td>
      <td>Numero de parcelas deve ser superior a 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>124</td>
      <td>Credit Card is Required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>125</td>
      <td>Credit Card Expiration Date is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>126</td>
      <td>Credit Card Expiration Date is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>127</td>
      <td>You must provide CreditCard Number</td>
      <td>Numero do cartão de crédito é obrigatório</td>
      <td> </td>
    </tr>
    <tr>
      <td>128</td>
      <td>Card Number length exceeded</td>
      <td>Numero do cartão superiro a 16 digitos</td>
      <td> </td>
    </tr>
    <tr>
      <td>129</td>
      <td>Affiliation not found</td>
      <td>Meio de pagamento não vinculado a loja ou Provider inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>130</td>
      <td>Could not get Credit Card</td>
      <td>—</td>
      <td> </td>
    </tr>
    <tr>
      <td>131</td>
      <td>MerchantKey is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>132</td>
      <td>MerchantKey is invalid</td>
      <td>O Merchantkey enviado não é um válido</td>
      <td> </td>
    </tr>
    <tr>
      <td>133</td>
      <td>Provider is not supported for this Payment Type</td>
      <td>Provider enviado não existe</td>
      <td> </td>
    </tr>
    <tr>
      <td>134</td>
      <td>FingerPrint length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>135</td>
      <td>MerchantDefinedFieldValue length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>136</td>
      <td>ItemDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>137</td>
      <td>ItemDataSKU length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>138</td>
      <td>PassengerDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>139</td>
      <td>PassengerDataStatus length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>140</td>
      <td>PassengerDataEmail length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>141</td>
      <td>PassengerDataPhone length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>142</td>
      <td>TravelDataRoute length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>143</td>
      <td>TravelDataJourneyType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>144</td>
      <td>TravelLegDataDestination length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>145</td>
      <td>TravelLegDataOrigin length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>146</td>
      <td>SecurityCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>147</td>
      <td>Address Street length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>148</td>
      <td>Address Number length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>149</td>
      <td>Address Complement length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>150</td>
      <td>Address ZipCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>151</td>
      <td>Address City length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>152</td>
      <td>Address State length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>153</td>
      <td>Address Country length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>154</td>
      <td>Address District length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>155</td>
      <td>Customer Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>156</td>
      <td>Customer Identity length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>157</td>
      <td>Customer IdentityType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>158</td>
      <td>Customer Email length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>159</td>
      <td>ExtraData Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>160</td>
      <td>ExtraData Value length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>161</td>
      <td>Boleto Instructions length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>162</td>
      <td>Boleto Demostrative length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>163</td>
      <td>Return Url is required</td>
      <td>URL de retorno não é valida - Não é aceito paginação ou extenções (EX .PHP) na URL de retorno</td>
      <td> </td>
    </tr>
    <tr>
      <td>166</td>
      <td>AuthorizeNow is required</td>
      <td>—</td>
      <td> </td>
    </tr>
    <tr>
      <td>167</td>
      <td>Antifraud not configured</td>
      <td>Antifraude não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>168</td>
      <td>Recurrent Payment not found</td>
      <td>Recorrência não encontrada</td>
      <td> </td>
    </tr>
    <tr>
      <td>169</td>
      <td>Recurrent Payment is not active</td>
      <td>Recorrência não está ativa. Execução paralizada</td>
      <td> </td>
    </tr>
    <tr>
      <td>170</td>
      <td>Cartão Protegido not configured</td>
      <td>Token não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>171</td>
      <td>Affiliation data not sent</td>
      <td>Falha no processamento do pedido - Entre em contato com o suporte Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>172</td>
      <td>Credential Code is required</td>
      <td>Falha na validação das credenciadas enviadas</td>
      <td> </td>
    </tr>
    <tr>
      <td>173</td>
      <td>Payment method is not enabled</td>
      <td>Meio de pagamento não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>174</td>
      <td>Card Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>175</td>
      <td>EAN is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>176</td>
      <td>Payment Currency is not supported</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>177</td>
      <td>Card Number is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>178</td>
      <td>EAN is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>179</td>
      <td>The max number of installments allowed for recurring payment is 1</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>180</td>
      <td>The provided Card PaymentToken was not found</td>
      <td>Token não encontrado</td>
      <td> </td>
    </tr>
    <tr>
      <td>181</td>
      <td>The MerchantIdJustClick is not configured</td>
      <td>Token bloqueado</td>
      <td> </td>
    </tr>
    <tr>
      <td>182</td>
      <td>Brand is required</td>
      <td>Bandeira do cartão não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>183</td>
      <td>Invalid customer bithdate</td>
      <td>Data de nascimento inválida ou futura</td>
      <td> </td>
    </tr>
    <tr>
      <td>184</td>
      <td>Request could not be empty</td>
      <td>Falha no formado da requisição. Verifique o código enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>185</td>
      <td>Brand is not supported by selected provider</td>
      <td>Bandeira não suportada pela API Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>186</td>
      <td>The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)</td>
      <td>Meio de pagamento não suporta o comando enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>187</td>
      <td>ExtraData Collection contains one or more duplicated names</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>188</td>
      <td>Avs with CPF invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>189</td>
      <td>Avs with length of street exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>190</td>
      <td>Avs with length of number exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>191</td>
      <td>Avs with length of district exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>192</td>
      <td>Avs with zip code invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>193</td>
      <td>Split Amount must be greater than zero</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>194</td>
      <td>Split Establishment is Required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>195</td>
      <td>The PlataformId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>196</td>
      <td>DeliveryAddress is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>197</td>
      <td>Street is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>198</td>
      <td>Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>199</td>
      <td>ZipCode is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>200</td>
      <td>City is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>201</td>
      <td>State is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>202</td>
      <td>District is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>203</td>
      <td>Cart item Name is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>204</td>
      <td>Cart item Quantity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>205</td>
      <td>Cart item type is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>206</td>
      <td>Cart item name length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>207</td>
      <td>Cart item description length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>208</td>
      <td>Cart item sku length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>209</td>
      <td>Shipping addressee sku length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>210</td>
      <td>Shipping data cannot be null</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>211</td>
      <td>WalletKey is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>212</td>
      <td>Merchant Wallet Configuration not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>213</td>
      <td>Credit Card Number is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>214</td>
      <td>Credit Card Holder Must Have Only Letters</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>215</td>
      <td>Agency is required in Boleto Credential</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>216</td>
      <td>Customer IP address is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>300</td>
      <td>MerchantId was not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>301</td>
      <td>Request IP is not allowed</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>302</td>
      <td>Sent MerchantOrderId is duplicated</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>303</td>
      <td>Sent OrderId does not exist</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>304</td>
      <td>Customer Identity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>306</td>
      <td>Merchant is blocked</td>
      <td>Merchant está bloqueado</td>
      <td> </td>
    </tr>
    <tr>
      <td>307</td>
      <td>Transaction not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>308</td>
      <td>Transaction not available to capture</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>309</td>
      <td>Transaction not available to void</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>310</td>
      <td>Payment method doest not support this operation</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>311</td>
      <td>Refund is not enabled for this merchant</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>312</td>
      <td>Transaction not available to refund</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>313</td>
      <td>Recurrent Payment not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>314</td>
      <td>Invalid Integration</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>315</td>
      <td>Cannot change NextRecurrency with pending payment</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>316</td>
      <td>Cannot set NextRecurrency to past date</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>317</td>
      <td>Invalid Recurrency Day</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>318</td>
      <td>No transaction found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>319</td>
      <td>Smart recurrency is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>320</td>
      <td>Can not Update Affiliation Because this Recurrency not Affiliation saved</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>321</td>
      <td>Can not set EndDate to before next recurrency</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>322</td>
      <td>Zero Dollar Auth is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>323</td>
      <td>Bin Query is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-de-motivo-de-retorno">Códigos de Motivo de Retorno</h3>

<table>
  <thead>
    <tr>
      <th>Reason Code</th>
      <th>Reason Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Successful</td>
    </tr>
    <tr>
      <td>1</td>
      <td>AffiliationNotFound</td>
    </tr>
    <tr>
      <td>2</td>
      <td>IssuficientFunds</td>
    </tr>
    <tr>
      <td>3</td>
      <td>CouldNotGetCreditCard</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ConnectionWithAcquirerFailed</td>
    </tr>
    <tr>
      <td>5</td>
      <td>InvalidTransactionType</td>
    </tr>
    <tr>
      <td>6</td>
      <td>InvalidPaymentPlan</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Denied</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Scheduled</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Waiting</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Authenticated</td>
    </tr>
    <tr>
      <td>11</td>
      <td>NotAuthenticated</td>
    </tr>
    <tr>
      <td>12</td>
      <td>ProblemsWithCreditCard</td>
    </tr>
    <tr>
      <td>13</td>
      <td>CardCanceled</td>
    </tr>
    <tr>
      <td>14</td>
      <td>BlockedCreditCard</td>
    </tr>
    <tr>
      <td>15</td>
      <td>CardExpired</td>
    </tr>
    <tr>
      <td>16</td>
      <td>AbortedByFraud</td>
    </tr>
    <tr>
      <td>17</td>
      <td>CouldNotAntifraud</td>
    </tr>
    <tr>
      <td>18</td>
      <td>TryAgain</td>
    </tr>
    <tr>
      <td>19</td>
      <td>InvalidAmount</td>
    </tr>
    <tr>
      <td>20</td>
      <td>ProblemsWithIssuer</td>
    </tr>
    <tr>
      <td>21</td>
      <td>InvalidCardNumber</td>
    </tr>
    <tr>
      <td>22</td>
      <td>TimeOut</td>
    </tr>
    <tr>
      <td>23</td>
      <td>CartaoProtegidoIsNotEnabled</td>
    </tr>
    <tr>
      <td>24</td>
      <td>PaymentMethodIsNotEnabled</td>
    </tr>
    <tr>
      <td>98</td>
      <td>InvalidRequest</td>
    </tr>
    <tr>
      <td>99</td>
      <td>InternalError</td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-e-mensagens-de-erro---pix">Códigos e Mensagens de Erro - Pix</h3>

<table>
  <thead>
    <tr>
      <th>CÓDIGO</th>
      <th>EVENTO</th>
      <th>MENSAGEM</th>
      <th>DESCRIÇÃO/AÇÃO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>422</td>
      <td>Autorização</td>
      <td>Error on Merchant Integration</td>
      <td>Verifique se o Pix consta habilitado em seu cadastro</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Autorização</td>
      <td>Error on bki service integration for charge</td>
      <td>Erro Transação Pix Bancos, entre em contato com Suporte E-commerce</td>
    </tr>
    <tr>
      <td>BP904</td>
      <td>Autorização</td>
      <td>O json informado não é válido</td>
      <td>Entre em contato com Suporte E-commerce para avaliar o motivo.</td>
    </tr>
    <tr>
      <td>BP901</td>
      <td>Autorização</td>
      <td>Falha na operação</td>
      <td>Refaça o pagamento, caso persista entre em contato com suporte e-commerce</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Cancelamento</td>
      <td>Error on pix service integration for moneyback</td>
      <td>Não é possível cancelar a transação, A devolução ocorrerá somente se houver saldo.</td>
    </tr>
    <tr>
      <td>422</td>
      <td>Cancelamento</td>
      <td>Merchant bank for moneyback is not Cielo</td>
      <td>Transação Pix Banco não permite operações de cancelamento</td>
    </tr>
  </tbody>
</table>
</div>


            <div class="footer-conteudo">
  <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
    <img
      src="https://developercielo.github.io/assets/images/icon-doubt.svg"
      width="55px"
      height="53px"
      alt="Precisa de ajuda?"
    />
  </div>

  <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
    <h2>Precisa de ajuda?</h2>
    <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
  </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a
        title="Comutar a coluna da esquerda"
        class="hamburger"
      >
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img
          src="https://developercielo.github.io/assets/images/logo.png"
          alt="Documentações e tutoriais"
          style="width: 60%; margin-left: 20%"
        />
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
      
      <div class="toc-footer">
        <h2 class="no-toc toc-footer-title">Materiais complementares</h2>
           

        <ul class="toc-footer">
              
          <li>
            <a
              href="https://developercielo.github.io/manual/3ds"
              title="Manual integração técnica do 3DS 2.0"
              
              >Autenticação 3DS 2.0</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/manual/e-wallets-ecommercecielo"
              title="Manual integração técnica via API"
              
              >Manual E-Wallets (Carteiras Digitais)</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/manual/integracao-vtex"
              title="Integração VTEX"
              
              >Integração VTEX</a
            >
          </li>
             
          <li>
            <a
              href="https://developercielo.github.io/tutorial/tutoriais-3-0"
              title="O objetivo deste documento é orientar o lojista sobre como acessar Backoffice da API Cielo Ecommerce. Descrevendo as funcionalidades, os métodos a serem utilizados, listando informações necessárias e provendo exemplos."
              
              >Tutoriais</a
            >
          </li>
                   
        </ul>
      </div>
      

      <div class="toc-contact">
        <div class="contact">
          <a
            title="Contato"
            href="https://devcielo.zendesk.com/"
          >
            <i class="fa fa-envelope-o" aria-hidden="true"></i>
            <span>Contato</span>
          </a>
        </div>
        <div class="github">
          <a title="GitHub" href="https://github.com/developercielo">
            <i class="fa fa-github" aria-hidden="true"></i>
            <span>GitHub</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        
        <script>
            let langs = '';
            let langsArray = [];

            
            langs += "<a data-language-name='json'>JSON</a>";
            langsArray.push('json');
            
            langs += "<a data-language-name='shell'>cURL</a>";
            langsArray.push('shell');
            

            var toggleCode = 'Comutar';
        </script>

        <script src='https://developercielo.github.io/assets/bundles/js/language_buttons.min.js'></script>
        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj =
      h.hj ||
      function () {
        (h.hj.q = h.hj.q || []).push(arguments);
      };
    h._hjSettings = { hjid: 674586, hjsv: 6 };
    a = o.getElementsByTagName("head")[0];
    r = o.createElement("script");
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
</script>

    </body>
</html>
