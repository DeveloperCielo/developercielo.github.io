<!DOCTYPE html>
<html lang="pt">
    <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="theme-color" content="#00aeef">
    <meta http-equiv="Content-Language" content="pt">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Manual de Integração eCommerce Cielo &middot; Documentações e tutoriais
        
    </title>

    <link rel="shortcut icon" href="https://developercielo.github.io/assets/favicon.ico">

    <!-- CSS -->
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,500" rel="stylesheet" media="none" onload="if(media!='all')media='all'">
    <script async src="https://use.fontawesome.com/3ae06f1030.js"></script>

    <link rel="stylesheet" href="https://developercielo.github.io/assets/bundles/css/bundle.min.css">

    
        
            <link rel="alternate" hreflang="pt" href="https://developercielo.github.io/manual/cielo-ecommerce" />
        
    
        
            <link rel="alternate" hreflang="en" href="https://developercielo.github.io/en/manual/cielo-ecommerce" />
        
    

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://developercielo.github.io/atom.xml">
</head>

    <body>
        
        <div class="content-container">
            <div class="language-tabs">
                <a class='hide-btn' id="hide-button" title="Comutar"><i class="fa fa-bars" aria-hidden="true"></i></a>
                <ul class="language-buttons">
                    
                    <li><a data-language-name='json'>JSON</a></li>
                    
                    <li><a data-language-name='shell'>cURL</a></li>
                    
                </ul>
            </div>
            <div class="dark-box"></div>
            <div class="overlay"></div>
        
            <div id="submenu">
                <div class="submenu-container">
                    <div class="submenu-row sub-items">
                        <div class="submenu-itens">
                            <a href="https://devcielo.zendesk.com/hc/pt-br#suporte" class="help">Ajuda</a>

                            
                            <div class="lang">
                                <span>Idiomas</span>

                                
                                    
                                    <a href="https://developercielo.github.io/manual/cielo-ecommerce">
                                    

                                        <img alt="Português" src="https://developercielo.github.io/assets/images/pt.png"/>
                                    </a>
                                
                                    
                                    <a href="https://developercielo.github.io/en/manual/cielo-ecommerce">
                                    

                                        <img alt="English" src="https://developercielo.github.io/assets/images/en.png"/>
                                    </a>
                                
                            </div>
                            
                        </div>

                        
                        <div class="search">
                            <input type="text" class="search" id="input-search">
                        </div>
                    </div>
                    <div class="submenu-row results">
                        <div class="search-results-container">
                            <ul class="search-results"></ul>
                        </div>
                    </div>
                        

                    <div class="submenu-row breads">
                        <ol class="breadcrumb">
                            
                            <li><a href="/">Início</a></li>
                            
                            
                            
                            
                                
                                    
                                    
                                    
                                    
                                    
                                        
                                    
                                        
                                    
                                        
                                    
                                
                            
                                
                                    
                                    <li class="active">&gt; <a href="https://developercielo.github.io/manual/cielo-ecommerce">Manual de Integração eCommerce Cielo</a></li>
                                    
                                
                            
                        </ol>
                    </div>
                </div>
            </div>

            <div class="post">
  <h1 id="visão-geral---api-cielo-ecommerce">Visão geral - API Cielo eCommerce</h1>

<p>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com a <strong>API Cielo eCommerce da Cielo</strong>, descrevendo as funcionalidades, os métodos a serem utilizados, listando informações a serem enviadas e recebidas, e provendo exemplos.</p>

<p>O mecanismo de integração com o Cielo eCommerce é simples, de modo que apenas conhecimentos intermediários em linguagem de programação para Web, requisições HTTP/HTTPS e manipulação de arquivos JSON, são necessários para implantar a solução Cielo eCommerce com sucesso.</p>

<p>Nesse manual você encontrará a referência sobre todas as operações disponíveis na API REST da API Cielo eCommerce. Estas operações devem ser executadas utilizando sua chave específica (Merchant ID e Merchant Key) nos respectivos endpoints dos ambientes:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: center">SandBox</th>
      <th style="text-align: center">Produção</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Requisições</strong></td>
      <td style="text-align: center">https://apisandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://api.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Consultas</strong></td>
      <td style="text-align: center">https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
      <td style="text-align: center">https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<p>Para executar uma operação, combine a URL base do ambiente com a URL da operação desejada e envie utilizando o verbo HTTP conforme descrito na operação.</p>

<h2 id="características-da-solução">Características da solução</h2>

<p>A solução <strong>API Cielo eCommerce</strong> da plataforma Cielo eCommerce foi desenvolvida com a tecnologia REST, que é padrão de mercado e independe da tecnologia utilizada por nossos clientes. Dessa forma, é possível integrar-se utilizando as mais variadas linguagens de programação, tais como:</p>

<ul>
  <li>ASP</li>
  <li>Net</li>
  <li>Java</li>
  <li>PHP</li>
  <li>Ruby</li>
  <li>Python</li>
</ul>

<blockquote>
  <p>Para Obter exemplos dessas linguagens, veja nosso tutorial de conversão via nosso <a href="https://developercielo.github.io/tutorial/postman"><strong>Tutorial Postman</strong></a></p>
</blockquote>

<p>Entre outras características, os atributos que mais se destacam na plataforma Cielo eCommerce:</p>

<ul>
  <li><strong>Ausência de aplicativos proprietários</strong>: não é necessário instalar aplicativos no ambiente da loja virtual em nenhuma hipótese.</li>
  <li><strong>Simplicidade</strong>: o protocolo utilizado é puramente o HTTPS.</li>
  <li><strong>Facilidade de testes</strong>: a plataforma Cielo oferece um ambiente Sandbox publicamente acessível, que permite ao desenvolvedor a criação de uma conta de testes sem a necessidade de credenciamento, facilitando e agilizando o início da integração.</li>
  <li><strong>Credenciais</strong>: o tratamento das credenciais do cliente (número de afiliação e chave de acesso) trafega no cabeçalho da requisição HTTP da mensagem.</li>
  <li><strong>Segurança</strong>: a troca de informações se dá sempre entre o Servidor da Loja e da Cielo, ou seja, sem o browser do comprador.</li>
  <li><strong>Multiplataforma</strong>: a integração é realizada através de Web Service REST.</li>
</ul>

<h2 id="arquitetura">Arquitetura</h2>

<p>A integração é realizada através de serviços disponibilizados como Web Services. O modelo empregado é bastante simples: Existem duas URLs (endpoint), uma específica operações que causam efeitos colaterais - como autorização, captura e cancelamento de transações, e uma URL específica para operações que não causam efeitos colaterais, como pesquisa de transações. Essas duas URLs receberão as mensagens HTTP através dos métodos POST, GET ou PUT. Cada tipo de mensagem deve ser enviada para um recurso identificado através do path.</p>

<table>
  <thead>
    <tr>
      <th>Método</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>POST</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">POST</code> é utilizado na criação dos recursos ou no envio de informações que serão processadas. Por exemplo, criação de uma transação.</td>
    </tr>
    <tr>
      <td><strong>PUT</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">PUT</code> é utilizado para atualização de um recurso já existente. Por exemplo, captura ou cancelamento de uma transação previamente autorizada.</td>
    </tr>
    <tr>
      <td><strong>GET</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">GET</code> é utilizado para consultas de recursos já existentes. Por exemplo, consulta de transações.</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Métodos</th>
      <th>SandBox</th>
      <th>Produção</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Requisição de transação</strong></td>
      <td><strong>POST</strong> / <strong>PUT</strong></td>
      <td>https://apisandbox.cieloecommerce.cielo.com.br</td>
      <td>https://api.cieloecommerce.cielo.com.br/</td>
    </tr>
    <tr>
      <td><strong>Consultas</strong></td>
      <td><strong>GET</strong></td>
      <td>https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
      <td>https://apiquery.cieloecommerce.cielo.com.br/</td>
    </tr>
  </tbody>
</table>

<h2 id="glossário">Glossário</h2>

<p>Para facilitar o entendimento, listamos abaixo um pequeno glossário com os principais termos relacionados ao eCommerce, ao mercado de cartões e adquirencia:</p>

<table>
  <thead>
    <tr>
      <th>Termo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Autenticação</strong></td>
      <td>processo para assegurar que o comprador é realmente aquele quem diz ser (portador legítimo), geralmente ocorre no banco emissor com uso de um token digital ou cartão com chaves de segurança.</td>
    </tr>
    <tr>
      <td><strong>Autorização</strong></td>
      <td>processo para verificar se uma compra pode ou não ser realizada com um cartão. Nesse momento, são feitas diversas verificações com o cartão e com o portador (ex.: adimplência, bloqueios, etc.) É também neste momento que o limite do cartão é sensibilizado com o valor da transação.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>processo para cancelar uma compra realizada com cartão.</td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>processo que confirma uma autorização que foi realizada previamente. Somente após a captura, é que o portador do cartão poderá visualizá-la em seu extrato ou fatura.</td>
    </tr>
    <tr>
      <td><strong>Chave de acesso</strong></td>
      <td>é um código de segurança específico de cada loja, gerado pela Cielo, usada para realizar a autenticação e comunicação em todas as mensagens trocadas com a Cielo. Também conhecido como chave de produção e key data.</td>
    </tr>
    <tr>
      <td><strong>Comprador</strong></td>
      <td>é o aquele que efetua compra na loja virtual.</td>
    </tr>
    <tr>
      <td><strong>Emissor (ou banco emissor)</strong></td>
      <td>É a instituição financeira que emite o cartão de crédito, débito ou voucher.</td>
    </tr>
    <tr>
      <td><strong>Estabelecimento comercial ou EC</strong></td>
      <td>Entidade que responde pela loja virtual.</td>
    </tr>
    <tr>
      <td><strong>Gateway de pagamentos</strong></td>
      <td>Empresa responsável pelo integração técnica e processamento das transações.</td>
    </tr>
    <tr>
      <td><strong>Número de credenciamento</strong></td>
      <td>é um número identificador que o lojista recebe após seu credenciamento junto à Cielo.</td>
    </tr>
    <tr>
      <td><strong>Portador</strong></td>
      <td>é a pessoa que tem o porte do cartão no momento da venda.</td>
    </tr>
    <tr>
      <td><strong>SecureCode</strong></td>
      <td>programa internacional da Mastercard para possibilitar a autenticação do comprador no momento de uma compra em ambiente eCommerce.</td>
    </tr>
    <tr>
      <td><strong>TID (Transaction Identifier)</strong></td>
      <td>código composto por 20 caracteres que identificada unicamente uma transação Cielo eCommerce.</td>
    </tr>
    <tr>
      <td><strong>Transação</strong></td>
      <td>é o pedido de compra do portador do cartão na Cielo.</td>
    </tr>
    <tr>
      <td><strong>VBV (Verified by Visa)</strong></td>
      <td>Programa internacional da Visa que possibilita a autenticação do comprador no momento de uma compra em ambiente eCommerce.</td>
    </tr>
  </tbody>
</table>

<h2 id="produtos-e-bandeiras-suportadas">Produtos e Bandeiras suportadas</h2>

<p>A versão atual do Webservice Cielo possui suporte às seguintes bandeiras e produtos:</p>

<table>
  <thead>
    <tr>
      <th>Bandeira</th>
      <th>Crédito à vista</th>
      <th>Crédito parcelado Loja</th>
      <th>Débito</th>
      <th>Voucher</th>
      <th>Internacional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Visa</td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Master Card</td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>American Express</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Elo</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Discover</td>
      <td>Sim</td>
      <td>Não</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>JCB</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Aura</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Hipercard</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Hiper</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Cartões emitidos no exterior não possuem permissão de parcelamento.</p>
</blockquote>

<h2 id="Últimas-implementações">Últimas Implementações</h2>

<h3 id="facilitadores-de-pagamento">Facilitadores de Pagamento</h3>

<p>Todos os clientes de E-Commerce que são <strong>Facilitadores de Pagamento, por obrigatoriedade das bandeiras e do Banco Central</strong> deverão enviar novos campos na <strong>mensageria transacional</strong>.  A Cielo transmitirá as informações para as bandeiras por meio da mensageria transacional no momento da autorização.</p>

<p>Os novos campos estão contidos dentro do nó Payment Facilitator. Além dos campos deste novo nó, os facilitadores terão também de enviar obrigatoriamente o campo softdescriptor do nó payment. Segue abaixo exemplo do envio e da resposta.</p>

<aside class="warning">Atenção: Reforçamos que as informações não devem ser enviadas antes de 20 de fevereiro de 2020, havendo risco de perda de transações.</aside>

<h4 id="requisição">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2222222222"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">157000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4024007197692931"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PaymentFacilitator"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SubEstablishment"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="s2">"1155855585"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="resposta">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interest"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Tid"</span><span class="p">:</span><span class="s2">"1223092935684"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="s2">"2935684"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="s2">"065158"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IsQrCode"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentFacilitator"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SubEstablishment"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"EstablishmentCode"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Mcc"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Address"</span><span class="p">:</span><span class="s2">"Alameda Grajau, 512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Barueri"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PostalCode"</span><span class="p">:</span><span class="s2">"06455914"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PhoneNumber"</span><span class="p">:</span><span class="s2">"1155855585"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">157000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="s2">"2019-12-23 09:29:34"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="s2">"365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Links"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/capture"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/365c3a0d-fd86-480b-9279-4ba3da21333c/void"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PaymentFacilitator.EstablishmentCode</td>
      <td>Numérico</td>
      <td>11</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do Facilitador. “Facilitator ID” (Cadastro do facilitador com as bandeiras)</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.EstablishmentCode</td>
      <td>Numérico</td>
      <td>15</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código do estabelecimento do sub Merchant. “Sub-Merchant ID” (Cadastro do subcredenciado com o facilitador)</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.Mcc</td>
      <td>Numérico</td>
      <td>4</td>
      <td>Obrigatório para facilitadores</td>
      <td>MCC do sub Merchant.</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.Address</td>
      <td>Alfanumérico</td>
      <td>22</td>
      <td>Obrigatório para facilitadores</td>
      <td>Endereço do sub Merchant.</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.City</td>
      <td>Alfanumérico</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Cidade do sub Merchant.</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.State</td>
      <td>Alfanumérico</td>
      <td>2</td>
      <td>Obrigatório para facilitadores</td>
      <td>Estado do sub Merchant.</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.PostalCode</td>
      <td>Numérico</td>
      <td>9</td>
      <td>Obrigatório para facilitadores</td>
      <td>Código postal do sub Merchant.</td>
    </tr>
    <tr>
      <td>PaymentFacilitator.SubEstablishment.PhoneNumber</td>
      <td>Numérico</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Número de telefone do sub Merchant.</td>
    </tr>
    <tr>
      <td>Payment.Softdescriptor</td>
      <td>Texto</td>
      <td>13</td>
      <td>Obrigatório para facilitadores</td>
      <td>Texto impresso na fatura bancaria comprador. Deve ser preenchido de acordo com os dados do sub Merchant.</td>
    </tr>
  </tbody>
</table>

<h1 id="certificados-e-segurança">Certificados e segurança</h1>

<h2 id="o-que-é-certificado-ssl">O que é Certificado SSL?</h2>

<p>O Certificado SSL para servidor web oferece autenticidade e integridade dos dados de um web site, proporcionando aos clientes das lojas virtuais a garantia de que estão realmente acessando o site que desejam, e não uma um site fraudador.</p>

<p>Empresas especializadas são responsáveis por fazer a validação do domínio e, dependendo do tipo de certificado, também da entidade detentora do domínio.</p>

<h3 id="internet-explorer">Internet Explorer:</h3>

<p><img src="https://developercielo.github.io/images/certificado-ie.jpg" alt="Certificado EV Internet Explorer" /></p>

<h3 id="firefox">Firefox</h3>

<p><img src="https://developercielo.github.io/images/certificado-firefox.jpg" alt="Certificado EV Firefox" /></p>

<h3 id="google-chrome">Google Chrome</h3>

<p><img src="https://developercielo.github.io/images/certificado-chrome.jpg" alt="Certificado EV Google Chrome" /></p>

<h2 id="o-que-é-certificado-ev-ssl">O que é Certificado EV SSL?</h2>

<p>O Certificado EV foi lançado no mercado recentemente e garante um nível de segurança maior para os clientes das lojas virtuais.</p>

<p>Trata-se de um certificado de maior confiança e quando o https for acessado a barra de endereço ficará verde, dando mais confiabilidade aos visitantes do site.</p>

<h2 id="como-instalar-o-certificado-extended-validation-no-servidor-da-loja">Como instalar o <strong>Certificado Extended Validation</strong> no servidor da Loja?</h2>

<p>Basta instalar os três arquivos a seguir na Trustedstore do servidor. A Cielo não oferece suporte para a instalação do Certificado. Caso não esteja seguro sobre como realizar a instalação do Certificado EV, então você deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.crt">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/Intermediate1.crt">Certificado Intermediária</a></li>
  <li><a href="https://developercielo.github.io/attachment/intermediate2.cer">Certificado E-Commerce Cielo</a></li>
</ul>

<h2 id="passo-a-passo-para-a-instalação">Passo a Passo para a Instalação</h2>

<h3 id="instalação-no-servidor-da-loja-virtual">Instalação no Servidor da Loja Virtual</h3>

<p>O passo a passo para a instalação do Certificado EV deverá ser contatado o suporte do fornecedor do seu servidor.</p>

<aside class="warning">A Cielo não oferece suporte para a instalação do Certificado.</aside>

<h3 id="acesso-do-cliente-à-loja-virtual">Acesso do Cliente à Loja Virtual</h3>

<p>Normalmente, o browser faz a atualização do Certificado automaticamente, caso não o faça e o cliente entre em contato deverá ser informado os seguintes passos:</p>

<p><strong>1o Passo:</strong></p>

<p>Salvar os três arquivos abaixo em uma pasta nova, ou que relembre facilmente, pois será utilizada posteriormente:</p>

<ul>
  <li><a href="https://developercielo.github.io/attachment/Root.crt">Certificado Raiz</a></li>
  <li><a href="https://developercielo.github.io/attachment/intermediate1.crt">Certificado Intermediária</a></li>
  <li><a href="https://developercielo.github.io/attachment/intermediate2.cer">Certificado E-Commerce Cielo</a></li>
</ul>

<p><strong>2o Passo:</strong></p>

<p>No “Internet Explorer”, clique no menu “Ferramentas” e acesse as “Opções da Internet”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-1.jpg" alt="Instalar IE" /></p>

<p>No “Firefox”, clique no menu “Abrir Menu” e acesse “Avançado” e “Opções”:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-1.jpg" alt="Instalar FF" /></p>

<p>No “Chrome”, clique no “Personalizar e Controlar o Google Chrome” e acesse “Configurações” e “Mostrar configurações avançadas… “Alterar Configurações de Proxy e “Conteúdo” e Certificados:</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-1.jpg" alt="Instalar GC" /></p>

<p><strong>3o Passo:</strong></p>

<p>No Internet Explorer, em “Certificados”, clique em “Importar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-2.jpg" alt="Instalar IE" /></p>

<p>No Firefox clique em “Ver Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-2.jpg" alt="Instalar FF" /></p>

<p>No Chrome clique em “Gerenciar Certificados”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-gc-2.jpg" alt="Instalar GC" /></p>

<p><strong>4o Passo:</strong></p>

<p>No Internet Explorer e Chrome “Assistente para Importação de Certificados”, clique em “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-3.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-4.jpg" alt="Instalar IE e GC" /></p>

<p>No Firefox “Aba Servidores ”, clique em “Importar”</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ff-3.jpg" alt="Instalar FF" /></p>

<p><strong>5o Passo:</strong></p>

<p>No Chrome e Internet Explorer “Assistente para Importação de Certificados”, clique em “Procurar”, procure a pasta onde estão os arquivos e selecione o arquivo “cieloecommerce.cielo.com.br.crt, clique em “Abrir” e em seguida “Avançar”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-5.jpg" alt="Instalar IE e GC" /></p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-6.jpg" alt="Instalar IE e GC" /></p>

<p><strong>6o Passo:</strong></p>

<p>Selecionar a opção desejada: adicionar o Certificado em uma pasta padrão ou procurar a pasta de sua escolha.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-7.jpg" alt="Instalar IE e GC" /></p>

<p><strong>7o Passo:</strong></p>

<p>Clique em “Concluir”.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-8.jpg" alt="Instalar IE e GC" /></p>

<p><strong>8o Passo:</strong></p>

<p>Clique em “Ok” para concluir a importação.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-9.jpg" alt="Instalar IE e GC" /></p>

<aside class="notice">No Firefox não consta a mensagem de Importação com Êxito, apenas conclui a importação.</aside>

<p>O Certificado poderá ser visualizado na aba padrão “Outras Pessoas” ou na escolhida pelo cliente.</p>

<p><img src="https://developercielo.github.io/images/certificado-instalar-ie-gc-10.jpg" alt="Instalar IE e GC" /></p>

<p><strong>9o Passo:</strong></p>

<p>Repita o mesmo procedimento para os 3 arquivos enviados.</p>

<h1 id="sandbox-e-ferramentas">Sandbox e Ferramentas</h1>

<h2 id="sobre-o-sandbox">Sobre o Sandbox</h2>

<p>Para facilitar os testes durante a integração, a Cielo oferece um ambiente Sandbox que é composto por duas áreas:</p>

<ol>
  <li>Cadastro de conta de testes</li>
  <li>Endpoints transacionais</li>
</ol>

<table>
  <tbody>
    <tr>
      <td><strong>Requisição</strong></td>
      <td>https://apisandbox.cieloecommerce.cielo.com.br</td>
    </tr>
    <tr>
      <td><strong>Consulta</strong></td>
      <td>https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
    </tr>
  </tbody>
</table>

<p><strong>Vantagens de utilizar o Sandbox</strong></p>

<ul>
  <li>Não é necessário uma afiliação para utilizar o Sandbox Cielo.</li>
  <li>Basta acessar o <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/"><strong>Cadastro do Sandbox</strong></a> criar uma conta.</li>
  <li>com o cadastro você receberá um <code class="highlighter-rouge">MerchantId</code> e um <code class="highlighter-rouge">MerchantKey</code>,que são as credenciais necessarias para os métodos da API</li>
</ul>

<h2 id="ferramenta-para-integração-postman">Ferramenta para Integração: POSTMAN</h2>

<p>O <strong>Postman</strong> é um API Client que facilita aos desenvolvedores criar, compartilhar, testar e documentar APIs. Isso é feito, permitindo aos usuários criar e salvar solicitações HTTPs simples e complexas, bem como ler suas respostas.</p>

<p>A Cielo oferece coleções completas de suas integrações via Postamn, o que facilita o processo de integração com a API Cielo.</p>

<p>Sugerimos que desenvolvedores acessem nosso <a href="https://developercielo.github.io/tutorial/postman"><strong>Tutorial</strong></a> sobre a ferramenta para compreender melhor todas as vantagens que ela oferece.</p>

<h2 id="cartão-de-crédito---sandbox">Cartão de crédito - Sandbox</h2>

<p>No sandbox, é necessario utilizar o <code class="highlighter-rouge">Provider</code> seja utilizado como <code class="highlighter-rouge">SIMULADO</code></p>

<p>O Simulado é uma configuração que emula a utilização de pagamentos com Cartão de Crédito. 
Com esse meio de pagamento é possível simular os fluxos de:</p>

<ul>
  <li>Autorização</li>
  <li>Captura</li>
  <li>Cancelamento.</li>
</ul>

<p>Para melhor utilização do Meio de Pagamento Simulado, estamos disponibilizando <strong>cartões de testes</strong> na tabela abaixo.</p>

<aside class="notice">Os status das transações são definidos pelos FINAIS de cada cartão, assim como o ReturnCode.</aside>

<table>
  <thead>
    <tr>
      <th>Status da Transação</th>
      <th>Final do Cartão</th>
      <th>Código de Retorno</th>
      <th>Mensagem de Retorno</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autorizado</td>
      <td>0000.0000.0000.0001<br />0000.0000.0000.0004</td>
      <td>4/6</td>
      <td>Operação realizada com sucesso</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0002</td>
      <td>05</td>
      <td>Não Autorizada</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0003</td>
      <td>57</td>
      <td>Cartão Expirado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0005</td>
      <td>78</td>
      <td>Cartão Bloqueado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0006</td>
      <td>99</td>
      <td>Time Out</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0007</td>
      <td>77</td>
      <td>Cartão Cancelado</td>
    </tr>
    <tr>
      <td>Não Autorizado</td>
      <td>0000.0000.0000.0008</td>
      <td>70</td>
      <td>Problemas com o Cartão de Crédito</td>
    </tr>
    <tr>
      <td>Autorização Aleatória</td>
      <td>0000.0000.0000.0009</td>
      <td>99</td>
      <td>Operation Successful / Time Out</td>
    </tr>
  </tbody>
</table>

<p>Exemplo de um Cartão de teste - 4024.0071.5376.3191</p>

<p>As informações de <strong>Cód.Segurança (CVV)</strong> e validade podem ser aleatórias, mantendo o formato - CVV (3 dígitos) Validade (MM/YYYY).</p>

<aside class="notice">Atenção: O ambiente de **sandbox** avalia o formato e o final do cartão, caso um cartão real seja enviado, o resultado da operação será idêntico ao descrito na tabela de cartões de teste.</aside>

<aside class="notice">Tokenização: transações no ambiente de simulação envolvendo tokenização não funcionaram com base em cartões de teste. Cada cartão salvo na tokenização é tratado como um cartão real, com isso não é usado no processo de simulação.</aside>

<aside class="Warning">Atenção: Os Códigos de retorno em Sandbox não são os mesmos disponiveis em produção.</aside>

<h2 id="cartão-de-débito---sandbox">Cartão de débito - Sandbox</h2>

<p>Cartões de débito não possuem cartões ou dados específicos simulados, como no caso do cartão de crédito.</p>

<p>O fluxo transacional do cartão de Débito funciona com o Response da transação retornando uma <strong>URL DE AUTENTICAÇÃO</strong> . Na tela de autenticação a opção escolhida define o status da transação.</p>

<table>
  <thead>
    <tr>
      <th>Opção</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autenticado</td>
      <td>Autorizado</td>
    </tr>
    <tr>
      <td>Não Autenticado</td>
      <td>Negado</td>
    </tr>
    <tr>
      <td>Não usar a URL</td>
      <td>Não Finalizado</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Transferência Online: O mesmo comportamento do Cartão de débito em Sanbox é valido para cartão de débito</aside>

<h2 id="outros-meios-de-pagamento---sandbox">Outros meios de pagamento - Sandbox</h2>

<p>Outros meios de pagamento não possuem cartões ou dados específicos simulados, como no caso do cartão de crédito.
Abaixo especificamos qualquer diferença existente:</p>

<table>
  <thead>
    <tr>
      <th>Meio de pagamento</th>
      <th>Diferenças</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Boleto</td>
      <td>Não há validação bancaria. O boleto se comporta como um boleto sem registro</td>
    </tr>
    <tr>
      <td>Cartão de débito</td>
      <td>O <code class="highlighter-rouge">provider</code> utilizado deve ser <strong>SIMULADO</strong> <br /> A URL de redirecionamento para o ambiente do banco será na verdade uma tela para escolher o estado da autenticação</td>
    </tr>
    <tr>
      <td>Transferência online</td>
      <td>O <code class="highlighter-rouge">provider</code> utilizado deve ser <strong>SIMULADO</strong> <br /> A URL de redirecionamento para o ambiente do banco será na verdade uma tela para escolher o estado da autenticação</td>
    </tr>
  </tbody>
</table>

<h1 id="meios-de-pagamento">Meios de Pagamento</h1>

<h2 id="cartão-de-crédito">Cartão de Crédito</h2>

<p>Para que você possa disfrutar de todos os recursos disponíveis em nossa API, é importante que antes você conheça os conceitos envolvidos no processamento de uma transação de cartão de crédito.</p>

<table>
  <thead>
    <tr>
      <th>Conceito</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Autorização</strong></td>
      <td>A autorização (ou pré-autorização) é a principal operação no eCommerce, pois através dela é que uma venda pode ser concretizada. A pré-autorização apenas sensibiliza o limite do cliente, mas ainda não gera cobrança para o consumidor.</td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>Ao realizar uma pré-autorização, é necessário a confirmação desta para que a cobrança seja efetivada ao portador do cartão. Através desta operação que se efetiva uma pré-autorização, podendo esta ser executada, em normalmente, em até 5 dias após a data da pré-autorização.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>O cancelamento é necessário quando, por algum motivo, não se quer mais efetivar uma venda.</td>
    </tr>
    <tr>
      <td><strong>Autenticação</strong></td>
      <td>O processo de autenticação possibilita realizar uma venda a qual passará pelo processo de autenticação do banco emissor do cartão, assim trazendo mais segurança para a venda e transferindo para o banco, o risco de fraude.</td>
    </tr>
    <tr>
      <td><strong>Cartão protegido</strong></td>
      <td>É uma plataforma que permite o armazenamento seguro de dados sensíveis de cartão de crédito. Estes dados são transformados em um código criptografrado chamado de “token”, que poderá ser armazenado em banco de dados. Com a plataforma, a loja poderá oferecer recursos como “Compra com 1 clique” e “Retentativa de envio de transação”, sempre preservando a integridade e a confidencialidade das informações.</td>
    </tr>
    <tr>
      <td><strong>Antifraude</strong></td>
      <td>É uma plataforma de prevenção à fraude que fornece uma análise de risco detalhada das compras on-line. Cada transação é submetida a mais de 260 regras, além das regras específicas de cada segmento, e geram uma recomendação de risco em aproximadamente dois segundos. Este processo é totalmente transparente para o portador do cartão. De acordo com os critérios preestabelecidos, o pedido pode ser automaticamente aceito, recusado ou encaminhado para análise manual.</td>
    </tr>
    <tr>
      <td><strong>Recorrente</strong></td>
      <td>A Recorrência Inteligente é um recurso indispensável para estabelicimentos que precisam cobrar regularmente por seus produtos/serviços. É muito utilizado para assinaturas de revistas, mensalidades, licenças de software, entre outros. Os lojistas contarão com recursos diferenciados para modelar sua cobrança de acordo com o seu negócio, pois toda parametrização é configurável, tais como: periodicidade, data de início e fim, quantidade de tentativas, intervalo entre elas, entre outros.</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-simples">Transação Simples</h3>

<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment, conforme o exemplo. Esse exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<aside class="notice">Atenção: Não é possivel realizar uma transação com valor (`Amount`) 0.</aside>

<h4 id="requisição-1">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito simples"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111703"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito simples"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto impresso na fatura bancaria comprador - Exclusivo para VISA/MASTER - não permite caracteres especiais - Ver Anexo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas)<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência<br /><a href="https://developercielo.github.io/faq/faq-api-3-0#pagamento-com-credenciais-armazenadas">Veja Mais</a></td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-1">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito simples"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tryautomaticcancellation"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305023644309"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito simples"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
               <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
               <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"tryautomaticcancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305023644309"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto impresso na fatura bancaria comprador - Exclusivo para VISA/MASTER - não permite caracteres especiais - Ver Anexo</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tryautomaticcancellation</code></td>
      <td>Caso ocorra algum erro durante a autorização (status Não Finalizada - “0”), a resposta incluirá o campo “tryautomaticcancellation” como true. Neste caso, a transação será sondada automaticamente, e caso tenha sido autorizada será cancelada automaticamente. Esta funcionalidade deverá estar habilitada para loja. Para habilitar, entre em contato com o nosso suporte técnico.</td>
      <td>Booleano</td>
      <td>-</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-completa">Transação completa</h3>

<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment conforme o exemplo. Esse exemplo contempla todos os campos possíveis que podem ser enviados.</p>

<h4 id="requisição-2">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"AirlineData"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="s2">"AR988983"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito completo"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"AirlineData"</span>:<span class="o">{</span>
         <span class="s2">"TicketNumber"</span>:<span class="s2">"AR988983"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.br</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Pais na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto impresso na fatura bancaria comprador - Exclusivo para VISA/MASTER - não permite caracteres especiais - Ver Anexo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.AirlineData.TicketNumber</code></td>
      <td>alfanumérico</td>
      <td>13</td>
      <td>Não</td>
      <td>Informar o número do principal bilhete aéreo da transação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas)<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência<br /><a href="https://developercielo.github.io/faq/faq-api-3-0#pagamento-com-credenciais-armazenadas">Veja Mais</a></td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-2">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador crédito completo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
         </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tryautomaticcancellation"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AirlineData"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AR988983"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador crédito completo"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"tryautomaticcancellation"</span>:true,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tryautomaticcancellation</code></td>
      <td>Caso ocorra algum erro durante a autorização (status Não Finalizada - “0”), a resposta incluirá o campo “tryautomaticcancellation” como true. Neste caso, a transação será sondada automaticamente, e caso tenha sido autorizada será cancelada automaticamente. Esta funcionalidade deverá estar habilitada para loja. Para habilitar, entre em contato com o nosso suporte técnico.</td>
      <td>Booleano</td>
      <td>-</td>
      <td>true ou false</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.PaymentAccountReference</code></td>
      <td>O PAR(payment account reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado.</td>
      <td>Numérico</td>
      <td>29</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Atenção: Os retornos de autorização estão sujeitos a inserção de novos campos advindos das bandeiras/emissores. Faça sua integração de forma a prever este tipo de comportamento utilizando adequadamente as técnicas de serialização e deserialização de objetos.</aside>

<h3 id="transação-autenticada">Transação Autenticada</h3>

<p>Para criar uma transação com autenticação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment conforme o exemplo.</p>

<aside class="notice">Autenticação: Nesta modalidade o portador do cartão é direcionado para o ambiente de autenticação do banco emissor do cartão onde será solicitada a inclusão da senha do cartão.</aside>

<h4 id="requisição-3">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito autenticação"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="s2">"https://www.cielo.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito autenticação"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:15700,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
         <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
            <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
            <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
         <span class="o">}</span>
      <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Usage</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardOnFile.Reason</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Condicional</td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas)<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência<br /><a href="https://developercielo.github.io/faq/faq-api-3-0#pagamento-com-credenciais-armazenadas">Veja Mais</a></td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-3">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito autenticação"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"123412******1112"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"Usage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Unscheduled"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069257E521001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{Paymentid}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito autenticação"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>:0,
        <span class="s2">"Installments"</span>:1,
        <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>:false,
        <span class="s2">"Authenticate"</span>:true,
        <span class="s2">"CreditCard"</span>:
        <span class="o">{</span>
            <span class="s2">"CardNumber"</span>:<span class="s2">"123412******1112"</span>,
            <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>:false,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>,
            <span class="s2">"CardOnFile"</span>:<span class="o">{</span>
               <span class="s2">"Usage"</span>: <span class="s2">"Used"</span>,
               <span class="s2">"Reason"</span>:<span class="s2">"Unscheduled"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"AuthenticationUrl"</span>:<span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"1006993069257E521001"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>:<span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>:[],
        <span class="s2">"Status"</span>:0,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
        <span class="s2">"Links"</span>:
        <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>:<span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>:<span class="s2">"self"</span>,
                <span class="s2">"Href"</span>:<span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{Paymentid}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="cartão-de-débito">Cartão de Débito</h2>

<p>Esse meio de pagamento é liberado automaticamente junto a afiliação de Cielo, podendo ser utilizado com as seguintes bandeiras e bancos:</p>

<table>
  <thead>
    <tr>
      <th>MASTERCARD</th>
      <th>VISA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bradesco</td>
      <td>Bradesco</td>
    </tr>
    <tr>
      <td>Banco do Brasil</td>
      <td>Banco do Brasil</td>
    </tr>
    <tr>
      <td>Santander</td>
      <td>Santander</td>
    </tr>
    <tr>
      <td>Itaú</td>
      <td>Itaú</td>
    </tr>
    <tr>
      <td>CitiBank</td>
      <td>CitiBank</td>
    </tr>
    <tr>
      <td>BRB</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>Caixa</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td>BancooB</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h3 id="autenticação-débito---3ds-10">Autenticação Débito - 3DS 1.0</h3>

<p>Por regra de mercado, todas as transações online realizadas com cartão de débito devem ser autenticadas através de um protocolo chamado 3DS, obrigatoriamente. Atualmente existem 2 versões: 3DS 1.0 e 3DS 2.0.</p>

<p>Na versão 1, o portador será direcionado para o ambiente bancário, onde será desafiado pelo emissor do cartão, digitando a sua senha e concluindo a autenticação. Essa versão não é compatível com dispositivos mobile e ocorrerá desafio em 100% dos casos. Existe a possibilidade de não autenticar transações de débito no e-Commerce, o que é conhecido como “Débito sem Senha”, porém, cabe aos Bancos Emissores do cartão aprovarem tal modelo, pois <strong>não é uma permissão concedida pela Cielo.</strong></p>

<p>A autenticação é um processo que é mandatório para transações de débito no eCommerce, porém, é possível utilizá-la também para transações de crédito. Fica à critério do lojista autenticar transações de crédito no e-Commerce.</p>

<p>Recentemente, houve o lançamento da nova versão do 3DS 2.0 pelas bandeiras no mercado, permitindo a Cielo e emissores o desenvolvimento dessa solução, que já está disponível para integração. A tendência é que cada vez mais seja utilizada, considerando as suas diversas melhorias e benefícios. Para conhecer o 3DS 2.0, acesse <a href="https://developercielo.github.io/manual/emv3ds">https://developercielo.github.io/manual/emv3ds</a>.</p>

<h4 id="mpi--merchant-plug-in">MPI – Merchant Plug-in</h4>

<p>O Merchant plug-in, conhecido por MPI, é um serviço que permite a realização da chamada de autenticação, integrado e certificado com bandeiras para processamento de autenticação de 3DS. A Cielo permite ao lojista a integração do 3DS 1.0 ou 2.0 através do MPI Interno ou do MPI Externo.</p>

<ul>
  <li>
    <p>MPI Interno: serviço já integrado a solução de 3DS Cielo, sem necessidade de integração e/ou contratação adicional. Em caso de utilização de MPI Interno para o 3DS 1.0 siga para a etapa “<a href="https://developercielo.github.io/manual/cielo-ecommerce#transa%C3%A7%C3%A3o-padr%C3%A3o">Transação Padrão</a>”</p>
  </li>
  <li>
    <p>MPI Externo: serviço contratado pelo lojista, sem interferência da Cielo. Muito utilizado quando o lojista já possui um fornecedor de MPI contratado. Em caso de utilização de MPI Externo para o 3DS 1.0, siga a próxima etapa “Autenticação Externa 3DS 1.0”</p>
  </li>
</ul>

<h4 id="autenticação-externa--mpi-3ds-10">Autenticação Externa – MPI 3DS 1.0</h4>

<p>Considerando a escolha por autenticar com 3DS 1.0 utilizando um serviço/fornecedor de MPI contratado (MPI Externo), a Cielo está preparada para receber essas informações na autorização.</p>

<h5 id="criando-uma-venda-com-autenticação-externa">Criando uma venda com autenticação externa</h5>

<p>Para criar uma venda com cartão de crédito ou débito contendo dados de autenticação externa, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment conforme o exemplo.</p>

<h6 id="requisição-4">Requisição</h6>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito autenticação"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678912"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"cpf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="s2">"https://www.cielo.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Xid"</span><span class="p">:</span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito autenticação"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"12345678912"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"cpf"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
      <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
      <span class="s2">"Amount"</span>:15700,
      <span class="s2">"Installments"</span>:1,
      <span class="s2">"Authenticate"</span>:true,
      <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>,
      <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
      <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
      <span class="o">}</span>,
      <span class="s2">"ExternalAuthentication"</span>:<span class="o">{</span>
         <span class="s2">"Cavv"</span>:<span class="s2">"123456789"</span>,
         <span class="s2">"Xid"</span>:<span class="s2">"987654321"</span>,
         <span class="s2">"Eci"</span>:<span class="s2">"5"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Indica se a transação deve ser autenticada (true) ou não (false). Mesmo para transações autenticadas externamente (fornecedor de autenticação de sua escolha), este campo deve ser enviado com valor “True”, e no nó ExternalAuthentication deve-se enviar os dados retornados pelo mecanismo de autenticação externa escolhido (XID, CAVV e ECI).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Cavv</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Sim</td>
      <td>O valor Cavv é retornado pelo mecanismo de autenticação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Xid</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Sim</td>
      <td>O valor Xid é retornado pelo mecanismo de autenticação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExternalAuthentication.Eci</code></td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
      <td>O valor Eci é retornado pelo mecanismo de autenticação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<h6 id="resposta-4">Resposta</h6>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111903"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito autenticação"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678912"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"cpf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"123412******1112"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069257E521001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="s2">"Transacao autorizada"</span><span class="w">
        </span><span class="nl">"ExternalAuthentication"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">  
            </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Xid"</span><span class="p">:</span><span class="s2">"987654321"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{Paymentid}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111903"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Comprador crédito autenticação"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"12345678912"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"cpf"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>:0,
        <span class="s2">"Installments"</span>:1,
        <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>:false,
        <span class="s2">"Authenticate"</span>:true,
        <span class="s2">"CreditCard"</span>:
        <span class="o">{</span>
            <span class="s2">"CardNumber"</span>:<span class="s2">"123412******1112"</span>,
            <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>:false,
            <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"AuthenticationUrl"</span>:<span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?id=c5158c1c7b475fdb91a7ad7cc094e7fe"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"1006993069257E521001"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>:<span class="s2">"f2dbd5df-c2ee-482f-ab1b-7fee039108c0"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>:[],
        <span class="s2">"Status"</span>:0,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
        <span class="s2">"ReturnMessage"</span>:<span class="s2">"Transacao autorizada"</span>,
        <span class="s2">"ExternalAuthentication"</span>:
        <span class="o">{</span>  
            <span class="s2">"Cavv"</span>:<span class="s2">"123456789"</span>,
            <span class="s2">"Xid"</span>:<span class="s2">"987654321"</span>,
            <span class="s2">"Eci"</span>:<span class="s2">"5"</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>:
        <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>:<span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>:<span class="s2">"self"</span>,
                <span class="s2">"Href"</span>:<span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{Paymentid}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="transação-padrão">Transação padrão</h3>

<p>Para criar uma venda que utilizará cartão de débito, é necessário fazer um POST para o recurso Payment conforme o exemplo.</p>

<blockquote>
  <p>Para realizar uma transação sem autenticação, basta enviar <code class="highlighter-rouge">Authenticate = FALSE</code></p>
</blockquote>

<p>O exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<h4 id="requisição-5">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.cielo.com.br"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"DebitCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4551870000000183"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014121201"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Cartão de débito"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"DebitCard"</span>,
     <span class="s2">"Authenticate"</span>: <span class="nb">true</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>,
     <span class="s2">"DebitCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>,
     <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim (Default TRUE)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URI para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.IsCryptocurrencyNegotiation</code></td>
      <td>Deve ser enviado com valor “true” caso se trate de uma transação de compra ou venda de Criptomoeda</td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não (default false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DebitCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Cartões de Débito, por padrão, devem possuir `Authenticate` como TRUE </aside>

<h4 id="resposta-5">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014121201"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Cartão de débito"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"DebitCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******3703"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"IsCryptoCurrencyNegotiation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthenticationUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1006993069207A31A001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DebitCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014121201"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Cartão de débito"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"DebitCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"453211******3703"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"IsCryptoCurrencyNegotiation"</span>: <span class="nb">true</span>,
        <span class="s2">"AuthenticationUrl"</span>: <span class="s2">"https://xxxxxxxxxxxx.xxxxx.xxx.xx/xxx/xxxxx.xxxx?{PaymentId}"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"1006993069207A31A001"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"0309f44f-fe5a-4de1-ba39-984f456130bd"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"DebitCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 0,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AuthenticationUrl</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de Débito.</td>
      <td>Texto</td>
      <td>56</td>
      <td>Url de Autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnUrl</code></td>
      <td>Url de retorno do lojista. URL para onde o lojista vai ser redirecionado no final do fluxo.</td>
      <td>Texto</td>
      <td>1024</td>
      <td>http://www.urllogista.com.br</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>0</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="transferência-eletrônica">Transferência Eletrônica</h2>

<h3 id="transação-simples-1">Transação Simples</h3>

<p>Para criar uma venda de transferência eletronica, é necessário fazer um POST para o recurso Payment conforme o exemplo. Esse exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<h4 id="requisição-6">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2017051109"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@cielo.com.br"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
             </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"512"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
         </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnUrl"</span><span class="p">:</span><span class="s2">"http://www.cielo.com.br"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2017051109"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Nome do Comprador"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"12345678909"</span>,
        <span class="s2">"IdentityType"</span>: <span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"comprador@cielo.com.br"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
             <span class="s2">"Street"</span>:<span class="s2">"Alameda Xingu"</span>,
             <span class="s2">"Number"</span>:<span class="s2">"512"</span>,
             <span class="s2">"Complement"</span>:<span class="s2">"27 andar"</span>,
             <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
             <span class="s2">"City"</span>:<span class="s2">"São Paulo"</span>,
             <span class="s2">"State"</span>:<span class="s2">"SP"</span>,
             <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
             <span class="s2">"District"</span>:<span class="s2">"Alphaville"</span>
         <span class="o">}</span>
  <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Provider"</span>:<span class="s2">"Bradesco"</span>,
        <span class="s2">"Type"</span>:<span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>:10000,
        <span class="s2">"ReturnUrl"</span>:<span class="s2">"http://www.cielo.com.br"</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente</td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ)</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço de contato do comprador</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número endereço de contato do comprador</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço de contato do Comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do endereço de contato do comprador</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Define comportamento do meio de pagamento (<a href="https://developercielo.github.io/Webservice-3.0/#anexos">Veja Anexo</a>)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-6">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Transferência Eletronica"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EletronicTransfer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Transferência Eletronica"</span>,
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"Url"</span>: <span class="s2">"https://xxx.xxxxxxx.xxx.xx/post/EletronicTransfer/Redirect/{PaymentId}"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"765548b6-c4b8-4e2c-b9b9-6458dbd5da0a"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"EletronicTransfer"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Url</code></td>
      <td>URL para qual o Lojista deve redirecionar o Cliente para o fluxo de Transferência Eletronica.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Url de Autenticação</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<h2 id="boleto">Boleto</h2>

<h3 id="transação-de-boletos">Transação de Boletos</h3>

<p>Para criar uma venda cuja a forma de pagamento é boleto, basta fazer um POST conforme o exemplo.</p>

<p><strong>OBS:</strong> A API suporta boletos registrados e não registrados, sendo o provider o diferenciador entre eles. Sugerimos que valide com seu banco qual o tipo de boleto suportado por sua carteira. A API Aceita apenas boletos <strong>Bradesco</strong> e <strong>Banco do Brasil</strong></p>

<h4 id="requisição-7">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avenida Marechal Câmara"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">    
          </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sala 934"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ZipCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"State"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">  
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"INCLUIR PROVIDER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BoletoNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Demonstrative"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Desmonstrative Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-31"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
    <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>  
        <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste Boleto"</span>,
        <span class="s2">"Identity"</span>: <span class="s2">"1234567890"</span>,
        <span class="s2">"Address"</span>:
        <span class="o">{</span>
          <span class="s2">"Street"</span>: <span class="s2">"Avenida Marechal Câmara"</span>,
          <span class="s2">"Number"</span>: <span class="s2">"160"</span>,    
          <span class="s2">"Complement"</span>: <span class="s2">"Sala 934"</span>,
          <span class="s2">"ZipCode"</span> : <span class="s2">"22750012"</span>,
          <span class="s2">"District"</span>: <span class="s2">"Centro"</span>,
          <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
          <span class="s2">"State"</span> : <span class="s2">"RJ"</span>,
          <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>  
        <span class="s2">"Type"</span>:<span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>:15700,
        <span class="s2">"Provider"</span>:<span class="s2">"INCLUIR PROVIDER"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"BoletoNumber"</span>: <span class="s2">"123"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Demonstrative"</span>: <span class="s2">"Desmonstrative Teste"</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2020-12-31"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>Bradesco: 27<br />Banco do Brasil: 50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>Bradesco: 34<br />Banco do Brasil: 60</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja(NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>Bradesco: 50<br />Banco do Brasil: 18</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Adress</code></td>
      <td>Endereço do Cedente.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>Número do Boleto enviado pelo lojista. Usado para contar boletos emitidos (“NossoNumero”).</td>
      <td>Texto</td>
      <td>Bradesco: 11<br />Banco do Brasil: 9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Assignor</code></td>
      <td>Nome do Cedente.</td>
      <td>Texto</td>
      <td>200</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Demonstrative</code></td>
      <td>Texto de Demonstrativo.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ExpirationDate</code></td>
      <td>Data de expiração do Boleto. Ex. 2020-12-31</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Identification</code></td>
      <td>Documento de identificação do Cedente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Instructions</code></td>
      <td>Instruções do Boleto.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-7">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Boleto Completo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av Marechal Camara"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22750012"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"District"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Centro"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-05"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BarCodeNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00096629900000157000494250000000012300656560"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DigitableLine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Assignor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empresa Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11884926754"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boleto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>:
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Boleto Completo"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>:
    <span class="o">{</span>
        <span class="s2">"Instructions"</span>: <span class="s2">"Aceitar somente até a data de vencimento, após essa data juros de 1% dia."</span>,
        <span class="s2">"ExpirationDate"</span>: <span class="s2">"2015-01-05"</span>,
        <span class="s2">"Url"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/post/pagador/reenvia.asp/a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Number"</span>: <span class="s2">"123-2"</span>,
        <span class="s2">"BarCodeNumber"</span>: <span class="s2">"00096629900000157000494250000000012300656560"</span>,
        <span class="s2">"DigitableLine"</span>: <span class="s2">"00090.49420 50000.000013 23006.565602 6 62990000015700"</span>,
        <span class="s2">"Assignor"</span>: <span class="s2">"Empresa Teste"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Rua Teste"</span>,
        <span class="s2">"Identification"</span>: <span class="s2">"11884926754"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"a5f3181d-c2e2-4df9-a5b4-d8f6edf6bd51"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Boleto"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Bradesco"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Instructions</code></td>
      <td>Instruções do Boleto.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ex: Aceitar somente até a data de vencimento, após essa data juros de 1% dia.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpirationDate</code></td>
      <td>Data de expiração.</td>
      <td>Texto</td>
      <td>10</td>
      <td>2014-12-25</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Url</code></td>
      <td>Url do Boleto gerado.</td>
      <td>string</td>
      <td>256</td>
      <td>Ex:https://…/pagador/reenvia.asp/8464a692-b4bd-41e7-8003-1611a2b8ef2d</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Number</code></td>
      <td>“NossoNumero” gerado.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Ex: 1000000012-8</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BarCodeNumber</code></td>
      <td>Representação numérica do código de barras.</td>
      <td>Texto</td>
      <td>44</td>
      <td>Ex: 00091628800000157000494250100000001200656560</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DigitableLine</code></td>
      <td>Linha digitável.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: 00090.49420 50100.000004 12006.565605 1 62880000015700</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Assignor</code></td>
      <td>Nome do Cedente.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: Loja Teste</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Address</code></td>
      <td>Endereço do Cedente.</td>
      <td>Texto</td>
      <td>256</td>
      <td>Ex: Av. Teste, 160</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Identification</code></td>
      <td>Documento de identificação do Cedente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>CPF ou CNPJ do Cedente sem os caracteres especiais (., /, -)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h3 id="regras-adicionais">Regras Adicionais</h3>

<p>Quantidade de caracteres por campo e Provider:</p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Observações</th>
      <th>Bradesco</th>
      <th>Banco do Brasil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Provider</code></td>
      <td>N/A</td>
      <td>Bradesco2</td>
      <td>BancoDoBrasil2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>OBS 1</td>
      <td>27</td>
      <td>50</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.BoletoNumber</code></td>
      <td>OBS 2</td>
      <td>11</td>
      <td>9</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>OBS 3</td>
      <td>34</td>
      <td>60</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>OBS 4</td>
      <td>70</td>
      <td>OBS 3 / Ver comentário</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>OBS 4</td>
      <td>10</td>
      <td>OBS 3 / Ver comentário</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>OBS 4</td>
      <td>20</td>
      <td>OBS 3 / Ver comentário</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>OBS 4</td>
      <td>50</td>
      <td>OBS 3 / Ver comentário</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>N/A</td>
      <td>50 - OBS 4</td>
      <td>18 - OBS 3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Instructions</code></td>
      <td>N/A</td>
      <td>255</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Demonstrative</code></td>
      <td>N/A</td>
      <td>255</td>
      <td>Não é enviado ao banco do Brasil</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Comentário Banco Do Brasil</strong>: Os campos <code class="highlighter-rouge">Customer.Address.Street</code>; <code class="highlighter-rouge">Customer.Address.Number</code>; <code class="highlighter-rouge">Customer.Address.Complement</code>; <code class="highlighter-rouge">Customer.Address.District</code> devem totalizar até 60 caracteres.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Observações</th>
      <th>Bradesco</th>
      <th>Banco do Brasil</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>OBS 1:</strong></td>
      <td>Apenas Letras, números e caracteres como “_” e “$”</td>
      <td>Não é enviado ao banco</td>
    </tr>
    <tr>
      <td><strong>OBS 2:</strong></td>
      <td>O dado é validado pelo banco</td>
      <td>Quando enviado acima de 9 posições, a API Cielo trunca automaticamente, considerando os últimos 9 dígitos</td>
    </tr>
    <tr>
      <td><strong>OBS 3:</strong></td>
      <td>A API Cielo trunca automaticamente</td>
      <td><strong>Caracteres válidos:</strong> <br /> Letras de A a Z - MAIÚSCULAS <br /> <strong>Caracteres especiais:</strong> hífen (-) e apóstrofo (‘) <br /> Quando utilizados, não pode conter espaços entre as letras; <br /> <strong>Exemplos corretos</strong>: D’EL-REI, D’ALCORTIVO, SANT’ANA.<br /> <strong>Exemplos incorretos</strong>: D’EL - REI; até um espaço em branco entre palavras</td>
    </tr>
    <tr>
      <td><strong>OBS 4:</strong></td>
      <td>O dado é validado pela API Cielo</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h2 id="api-qr-code-via-api-e-commerce">API QR Code via API E-Commerce</h2>

<p>O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com a API E-Commerce da Cielo para gerar o QRCode de Pagamento, descrevendo as funcionalidades, os métodos a serem utilizados, listando informações a serem enviadas e recebidas, e provendo exemplos.</p>

<p>O mecanismo de integração com o Cielo eCommerce é simples, de modo que apenas conhecimentos intermediários em linguagem de programação para Web, requisições HTTP/HTTPS e manipulação de arquivos JSON, são necessários para implantar a solução Cielo eCommerce com sucesso.</p>

<p>Nesse manual você encontrará a referência sobre todas as operações disponíveis na API REST da API Cielo eCommerce. Estas operações devem ser executadas utilizando sua chave específica (Merchant ID e Merchant Key) nos respectivos endpoints dos ambientes:</p>

<p>Ambiente Produção</p>

<ul>
  <li><strong>Requisição de transação</strong>: https://api.cieloecommerce.cielo.com.br/</li>
  <li><strong>Consulta transação</strong>: https://apiquery.cieloecommerce.cielo.com.br/</li>
</ul>

<p>Ambiente Sandbox</p>

<ul>
  <li><strong>Requisição de transação</strong>: https://apisandbox.cieloecommerce.cielo.com.br</li>
  <li><strong>Consulta transação</strong>: https://apiquerysandbox.cieloecommerce.cielo.com.br</li>
</ul>

<p>Para executar uma operação, combine a URL base do ambiente com a URL da operação desejada e envie utilizando o verbo HTTP conforme descrito na operação.</p>

<h3 id="arquitetura-1">Arquitetura</h3>

<p>A integração é realizada através de serviços disponibilizados como Web Services. O modelo empregado é bastante simples: Existem duas URLs (endpoint), uma específica operações que causam efeitos colaterais - como autorização, captura e cancelamento de transações, e uma URL específica para operações que não causam efeitos colaterais, como pesquisa de transações. Essas duas URLs receberão as mensagens HTTP através dos métodos POST, GET ou PUT. Cada tipo de mensagem deve ser enviada para um recurso identificado através do path.</p>

<table>
  <thead>
    <tr>
      <th>Método</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>POST</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">POST</code> é utilizado na criação dos recursos ou no envio de informações que serão processadas. Por exemplo, criação de uma transação.</td>
    </tr>
    <tr>
      <td><strong>PUT</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">PUT</code> é utilizado para atualização de um recurso já existente. Por exemplo, captura ou cancelamento de uma transação previamente autorizada.</td>
    </tr>
    <tr>
      <td><strong>GET</strong></td>
      <td>O método HTTP <code class="highlighter-rouge">GET</code> é utilizado para consultas de recursos já existentes. Por exemplo, consulta de transações.</td>
    </tr>
  </tbody>
</table>

<h3 id="produtos-e-bandeiras-suportadas-1">Produtos e Bandeiras suportadas</h3>

<p>QR Code de Pagamento possui suporte às seguintes bandeiras e produtos:</p>

<table>
  <thead>
    <tr>
      <th>Bandeira</th>
      <th>Crédito à vista</th>
      <th>Crédito parcelado Loja</th>
      <th>Débito</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Visa</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Master Card</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>American Express</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Elo</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Diners Club</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Discover</td>
      <td>Sim</td>
      <td><em>Não</em></td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>JCB</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Aura</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Hipercard</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
    <tr>
      <td>Hiper</td>
      <td>Sim</td>
      <td>Sim</td>
      <td><em>Não</em></td>
    </tr>
  </tbody>
</table>

<h3 id="sandbox-e-ferramentas-1">Sandbox e Ferramentas</h3>

<h4 id="sobre-o-sandbox-1">Sobre o Sandbox</h4>

<p>Para facilitar os testes durante a integração, a Cielo oferece um ambiente Sandbox que é composto por duas áreas:</p>

<ol>
  <li>Cadastro de conta de testes</li>
  <li>Endpoints transacionais</li>
</ol>

<table>
  <tbody>
    <tr>
      <td><strong>Requisição</strong></td>
      <td>https://apisandbox.cieloecommerce.cielo.com.br</td>
    </tr>
    <tr>
      <td><strong>Consulta</strong></td>
      <td>https://apiquerysandbox.cieloecommerce.cielo.com.br</td>
    </tr>
  </tbody>
</table>

<p><strong>Vantagens de utilizar o Sandbox</strong></p>

<ul>
  <li>Não é necessário uma afiliação para utilizar o Sandbox Cielo.</li>
  <li>Basta acessar o <a href="https://cadastrosandbox.cieloecommerce.cielo.com.br/"><strong>Cadastro do Sandbox</strong></a> criar uma conta.</li>
  <li>com o cadastro você receberá um <code class="highlighter-rouge">MerchantId</code> e um <code class="highlighter-rouge">MerchantKey</code>,que são as credenciais necessarias para os métodos da API</li>
</ul>

<h4 id="ferramenta-para-integração-postman-1">Ferramenta para Integração: POSTMAN</h4>

<p>O <strong>Postman</strong> é um API Client que facilita aos desenvolvedores criar, compartilhar, testar e documentar APIs. Isso é feito, permitindo aos usuários criar e salvar solicitações HTTPs simples e complexas, bem como ler suas respostas.</p>

<p>A Cielo oferece coleções completas de suas integrações via Postamn, o que facilita o processo de integração com a API Cielo.</p>

<p>Sugerimos que desenvolvedores acessem nosso <a href="https://developercielo.github.io/tutorial/postman"><strong>Tutorial</strong></a> sobre a ferramenta para compreender melhor todas as vantagens que ela oferece.</p>

<h4 id="cartão-de-crédito---sandbox-1">Cartão de crédito - Sandbox</h4>

<p>Para testar o cenário de autorização com sucesso via QRCode, utilize o cartão 4551.8700.0000.0183</p>

<p>As informações de <strong>Cód.Segurança (CVV)</strong> e validade podem ser aleatórias, mantendo o formato - CVV (3 dígitos) Validade (MM/YYYY).</p>

<h3 id="gerando-um-qrcode-via-api">Gerando um QRCode via API</h3>

<p>Para criar uma transação que utilizará cartão de crédito, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment, conforme o exemplo. Esse exemplo contempla o mínimo de campos necessários a serem enviados para a autorização.</p>

<aside class="notice">Atenção: Não é possivel realizar uma transação com valor (`Amount`) 0.</aside>

<h4 id="requisição-8">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"QRCode Test"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2019010101"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"QRCode Test"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>
     <span class="s2">"Type"</span>:<span class="s2">"qrcode"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Capture"</span>:false
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento. Enviar <strong>qrcode</strong> para uma transação de QRCode.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Não</td>
      <td>Enviar <strong>true</strong> para uma trasação de captura automática.</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-8">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019010101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode Test"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-02 10:14:29"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"QrCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QRCode gerado com sucesso"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2019010101"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"QRCode Test"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: 0,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"ReceivedDate"</span>: <span class="s2">"2019-01-02 10:14:29"</span>,
        <span class="s2">"Status"</span>: 12,
        <span class="s2">"IsSplitted"</span>: <span class="nb">false</span>,
        <span class="s2">"QrCodeBase64Image"</span>: <span class="s2">"iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAQ1klEQVR42u3de6hlVR(...)"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"QRCode gerado com sucesso"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"qrcode"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/5d7e8fd3-70b6-4a88-9660-e064d72fdcdd"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">QrCodeBase64Image</code></td>
      <td>QRCode codificado na base 64. Por exemplo, a imagem poderá ser apresentada na página utilizando o código HTML como este:<br />&lt;img src="data:image/png;base64, código_da_imagem_na_base_64"&gt;</td>
      <td>Texto</td>
      <td>variável</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido, necessário para futuras operações como Consulta, Captura e Cancelamento.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação. No caso de uma transação de geração de QRCode de pagamento, o status inicial é 12 (Pending).</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta---paymentid">Consulta - PaymentID</h3>

<p>Para consultar uma venda de cartão de crédito, é necessário fazer um GET para o recurso Payment conforme o exemplo.</p>

<h4 id="requisição-9">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Numero de identificação do Pagamento.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-9">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qrcode"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta---merchandorderid">Consulta - MerchandOrderID</h3>

<p>Não é possível consultar diretamente uma pagamento pelo identificador enviado pela loja (MerchantOrderId), mas é possível obter todos os PaymentIds associados ao identificador.</p>

<p>Para consultar uma venda pelo identificador da loja, é necessário fazer um GET para o recuso sales conforme o exemplo.</p>

<h4 id="requisição-10">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales?merchantOrderId={merchantOrderId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curls
<span class="nt">--request</span> GET <span class="s2">" https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales?merchantOrderId={merchantOrderId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Campo Identificador do Pedido na Loja.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-10">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Payment"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h3 id="captura">Captura</h3>

<p>A <strong>Captura</strong> é passo exclusivo para transações de Cartões de Crédito.</p>

<p>Ao realizar uma captura, o lojita confirma que o valor autorizado no cartão poderá ser cobrado pela insituição financeira emissora do cartão.</p>

<p>O que a captura gera:</p>

<ul>
  <li>Ela executa a cobrança do cartão</li>
  <li>Ela inclui o valor da venda na fatura do comprador</li>
  <li>Somente transações capturadas são pagas pela Cielo ao lojista</li>
</ul>

<aside class="notice">Atenção: A captura é um processo com prazo de execução. Verifique em seu cadastro cielo qual o limite habilitado para a sua afiliação. Após esse periodo, não é possivel realiza a Captura da transação</aside>

<aside class="notice">Atenção: Captura parcial disponível apenas para transações de crédito</aside>

<h4 id="requisição---captura-parcial">Requisição - Captura Parcial</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">https://apisandbox.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/sales/</span><span class="p">{</span><span class="err">paymentId</span><span class="p">}</span><span class="err">/capture?amount=</span><span class="p">{</span><span class="err">Valor</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{paymentId}/capture?amount={Valor}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-11">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operaçãoe.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Captura de Taxa de embarque Para realizar a captura da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser capturado</aside>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount=xxx</span></aside>

<h4 id="resposta-12">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operaçãoe.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelamento">Cancelamento</h3>

<p>O <strong>cancelamento</strong> é a operação responsável pela cancelamento total ou parcial de um valor autorizado ou capturado.</p>

<p>Basta realizar um <code class="highlighter-rouge">POST</code> enviando o valor a ser cancelado.</p>

<aside class="notice">Atenção: Cancelamento parcial é disponível apenas para transações *CAPTURADAS*</aside>

<aside class="notice">Atenção: O retorno da API soma o total de cancelamentos Parciais, ou seja, se 3 cancelamentos de R$10,00 forem realizados, a API apresentará em seu retorno um total de R$30,00 cancelados</aside>

<h4 id="requisição---cancelamento">Requisição - cancelamento</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=XXX </span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void?amount=XXX"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-13">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operaçãoe.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Cancelamento de Taxa de embarque Para realizar o cancelamento da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser cancelado</aside>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{paymentId}/void?amount={Valor}&amp;serviceTaxAmount=xxx
</code></pre></div></div>

<h2 id="erros-de-integração">Erros de Integração</h2>

<p>Caso ocorram erros de integração em qualquer um dos meios de pagamento, um “response” será retornado contendo um código de erro e uma descrição</p>

<h3 id="exemplo">Exemplo</h3>

<p>A Data de validade do cartão possui um valor não permitido  como “08/<strong>A</strong>020” e não “08/<strong>2</strong>020”, a resposta será:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">126</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit Card Expiration Date is invalid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Code</code></td>
      <td>Código de Erro da API. <a href="https://developercielo.github.io/manual/cielo-ecommerce#c%C3%B3digos-de-erros-da-api">Veja a lista de códigos</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Message</code></td>
      <td>Descrição do erro. <a href="https://developercielo.github.io/manual/cielo-ecommerce#c%C3%B3digos-de-erros-da-api">Veja a lista de códigos</a></td>
    </tr>
  </tbody>
</table>

<h1 id="consulta---captura---cancelamento">Consulta - Captura - Cancelamento</h1>

<h2 id="consulta-de-transações">Consulta de transações</h2>

<h3 id="consulta---paymentid-1">Consulta - PaymentID</h3>

<p>Para consultar uma venda de cartão de crédito, é necessário fazer um GET para o recurso Payment conforme o exemplo.</p>

<aside class="notice">São elegíveis para a consulta, apenas transações dentro dos três ultimos meses</aside>

<h4 id="requisição-11">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales/{PaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Numero de identificação do Pagamento.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-14">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PaymentAccountReference"</span><span class="p">:</span><span class="s2">"92745135160550440006111072222"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Chargebacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CaseNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-04"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outras Fraudes - Cartao Ausente"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Received"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"RawData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client did not participate and did not authorize transaction"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Address"</span>: <span class="o">{}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>,
            <span class="s2">"PaymentAccountReference"</span>:<span class="s2">"92745135160550440006111072222"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.PaymentAccountReference</code></td>
      <td>Numérico</td>
      <td>29</td>
      <td>Não</td>
      <td>O PAR(payment account reference) é o número que associa diferentes tokens a um mesmo cartão. Será retornado pelas bandeiras Master e Visa e repassado para os clientes do e-commerce Cielo. Caso a bandeira não envie a informação o campo não será retornado.</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta---merchandorderid-1">Consulta - MerchandOrderID</h3>

<p>Não é possível consultar diretamente uma pagamento pelo identificador enviado pela loja (MerchantOrderId), mas é possível obter todos os PaymentIds associados ao identificador.</p>

<p>Para consultar uma venda pelo identificador da loja, é necessário fazer um GET para o recuso sales conforme o exemplo.</p>

<h4 id="requisição-12">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/sales?merchantOrderId={merchantOrderId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curls
<span class="nt">--request</span> GET <span class="s2">" https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales?merchantOrderId={merchantOrderId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Campo Identificador do Pedido na Loja.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-15">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-06T10:13:39.42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReceveidDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-19T20:23:28.847"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Payment"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"5fb4d606-bb63-4423-a683-c966e15399e8"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2015-04-06T10:13:39.42"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"PaymentId"</span>: <span class="s2">"6c1d45c3-a95f-49c1-a626-1e9373feecc2"</span>,
            <span class="s2">"ReceveidDate"</span>: <span class="s2">"2014-12-19T20:23:28.847"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h3 id="consulta-recorrência">Consulta Recorrência</h3>

<p>Para consultar uma Recorrência de cartão de crédito, é necessário fazer um <code class="highlighter-rouge">GET</code>  conforme o exemplo.</p>

<p><strong>A Consulta da Recorrência traz dados sobre o agendamento e sobre o processo de transações que se repetem. Elas não retornam dados sobre as transações em si. Para isso, deve ser realizado um <code class="highlighter-rouge">GET</code> na transação (Disponível em “Consultando vendas)</strong></p>

<h4 id="requisição-13">Requisição</h4>

<aside class="request"><span class="method get">GET</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> GET <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da Recorrência.</td>
      <td>Texto</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-16">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulano da Silva"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-27"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bimonthly"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07T00:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CurrentRecurrencyTry"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RecurrencyDay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SuccessfulRecurrences"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"RecurrentTransactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"PaymentNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"TryNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Fulano da Silva"</span>
    <span class="o">}</span>,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
        <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>,
        <span class="s2">"NextRecurrency"</span>: <span class="s2">"2017-06-07"</span>,
        <span class="s2">"StartDate"</span>: <span class="s2">"2017-04-07"</span>,
        <span class="s2">"EndDate"</span>: <span class="s2">"2017-02-27"</span>,
        <span class="s2">"Interval"</span>: <span class="s2">"Bimonthly"</span>,
        <span class="s2">"Amount"</span>: 15000,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"CreateDate"</span>: <span class="s2">"2017-04-07T00:00:00"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"CurrentRecurrencyTry"</span>: 1,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"RecurrencyDay"</span>: 7,
        <span class="s2">"SuccessfulRecurrences"</span>: 0,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/c30f5c78-fca2-459c-9f3c-9c4b41b09048"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"RecurrentTransactions"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"PaymentId"</span>: <span class="s2">"f70948a8-f1dd-4b93-a4ad-90428bcbdb84"</span>,
                <span class="s2">"PaymentNumber"</span>: 0,
                <span class="s2">"TryNumber"</span>: 1
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"Status"</span>: 1
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">StartDate</code></td>
      <td>Data do inicio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly  / Quarterly  / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CurrentRecurrencyTry </code></td>
      <td>Indica o número de tentativa da recorrência atual</td>
      <td>Número</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OrderNumber</code></td>
      <td>Identificado do Pedido na loja</td>
      <td>Texto</td>
      <td>50</td>
      <td>2017051101</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status do pedido recorrente</td>
      <td>Número</td>
      <td>1</td>
      <td><br /><em>1</em> - Ativo <br /><em>2</em> - Finalizado <br /><em>3</em>- Desativada pelo Lojista <br /> <em>4</em> - Desativada por numero de retentativas <br /> <em>5</em> - Desativada por cartão de crédito vencido</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrencyDay</code></td>
      <td>O dia da recorrência</td>
      <td>Número</td>
      <td>2</td>
      <td>22</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SuccessfulRecurrences</code></td>
      <td>Quantidade de recorrência realizada com sucesso</td>
      <td>Número</td>
      <td>2</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.RecurrentPaymentId</code></td>
      <td>Id da Recorrência</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.TransactionId</code></td>
      <td>Payment ID da transação gerada na recorrência</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.PaymentNumber</code></td>
      <td>Número da Recorrência. A primeira é zero</td>
      <td>Número</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentTransactions.TryNumber</code></td>
      <td>Número da tentativa atual na recorrência específica</td>
      <td>Número</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </tbody>
</table>

<h2 id="captura-1">Captura</h2>

<p>A <strong>Captura</strong> é passo exclusivo para transações de Cartões de Crédito.</p>

<p>Ao realizar uma captura, o lojita confirma que o valor autorizado no cartão poderá ser cobrado pela insituição financeira emissora do cartão.</p>

<p>O que a captura gera:</p>

<ul>
  <li>Ela executa a cobrança do cartão</li>
  <li>Ela inclui o valor da venda na fatura do comprador</li>
  <li>Somente transações capturadas são pagas pela Cielo ao lojista</li>
</ul>

<aside class="notice">Atenção: A captura é um processo com prazo de execução. Verifique em sem cadastro cielo qual o limite habilitado para a sua afiliação. Após esse periodo, não é possivel realiza a Captura da transação</aside>

<h3 id="captura-total">Captura total</h3>

<p>Para captura uma venda que utiliza cartão de crédito, é necessário fazer um PUT para o recurso Payment conforme o exemplo.</p>

<h4 id="requisição-14">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/capture</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">https://api.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/sales/</span><span class="p">{</span><span class="err">PaymentId</span><span class="p">}</span><span class="err">/capture</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-17">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="captura-parcial">Captura parcial</h3>

<p>A <strong>captura parcial</strong> é o ato de capturar um valor menor que o valor autorizado.Esse modelo de captura pode ocorrer apenas 1 vez por transação.</p>

<p><strong>Após a captura, não é possível realizar capturas adicionais no mesmo pedido.</strong></p>

<p>Basta realizar um <code class="highlighter-rouge">POST</code> enviando o valor a ser capturado.</p>

<aside class="notice">Atenção: Captura parcial disponível apenas para transações de crédito</aside>

<h4 id="requisição---captura-parcial-1">Requisição - Captura Parcial</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">https://api.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/sales/</span><span class="p">{</span><span class="err">paymentId</span><span class="p">}</span><span class="err">/capture?amount=</span><span class="p">{</span><span class="err">Valor</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/{paymentId}/capture?amount={Valor}"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ServiceTaxAmount</code></td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-18">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/8b1d43ee-a918-40d2-ba62-e5665e7ccbd3/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<aside class="notice">Captura de Taxa de embarque Para realizar a captura da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser capturado</aside>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{paymentId}/capture?amount={Valor}&amp;serviceTaxAmount=xxx</span></aside>

<h4 id="resposta-19">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://api.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonCode</code></td>
      <td>Código de retorno da Operação.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReasonMessage</code></td>
      <td>Mensagem de retorno da Operação.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="captura-via-backoffice">Captura Via Backoffice</h3>

<p>É possivel realizar tanto a captura total quanto a Captura parcial via O Backoffice Cielo.</p>

<p>Acesse nosso <a href="https://developercielo.github.io/Tutorial//Backoffice-3.0"><strong>Tutorial</strong></a>  para maiores informações</p>

<h2 id="cancelando-uma-venda">Cancelando uma venda</h2>

<h3 id="cancelando-uma-venda-via-api">Cancelando uma venda via API</h3>

<p>O processo de cancelamento via API está disponivel apenas para cartão de crédito e débito.</p>

<p>Cada meio de pagamento sofre impactos diferentes quando uma ordem de cancelamento (VOID) é executada.</p>

<table>
  <thead>
    <tr>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
      <th>Prazo</th>
      <th>Participação Cielo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cartão de crédito</td>
      <td>A Cielo devolve o valor via crédito bancario</td>
      <td>300 dias pós autorização</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td>Cartão de Débito</td>
      <td>Cancelamento apenas na API. O retorno do valor é feito pelo proprio lojista</td>
      <td>300 dias pós autorização</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelamento-total">Cancelamento total</h3>

<p>Para cancelar uma venda que utiliza cartão de crédito, é necessário fazer um PUT para o recurso Payment. É possível realizar o cancelamento via PaymentID ou MerchantOrderId (numero do pedido).</p>

<aside class="notice">Atenção: O cancelamento por MerchantOrderId afeta sempre a transação mais nova, ou seja, caso haja pedidos com o numero do pedido duplicado, somente o mais atual será cancelado. O pedido anterior não poderá ser cancelado por esse método</aside>

<h4 id="requisição-15">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=xxx</span></aside>

<p>ou</p>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/OrderId/{MerchantOrderId}/void?amount=xxx</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-20">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 10,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"9"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h3 id="cancelamento-parcial">Cancelamento parcial</h3>

<p>O <strong>cancelamento  parcial</strong> é o ato de cancelar um valor menor que o valor total autorizado/capturado. Esse modelo de cancelamento pode ocorrer inumeras vezes, até que o valor total da transação seja cancelado.</p>

<p>Basta realizar um <code class="highlighter-rouge">POST</code> enviando o valor a ser cancelado.</p>

<aside class="notice">Atenção: Cancelamento parcial disponível apenas para transações *CAPTURADAS*</aside>

<aside class="notice">Atenção: O retorno da API soma o total de cancelamentos Parciais, ou seja, se 3 cancelamentos de R$10,00 forem realizados, a API apresentará em seu retorno um total de R$30,00 cancelados</aside>

<h4 id="requisição---cancelamento-parcial">Requisição - cancelamento parcial</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/sales/{PaymentId}/void?amount=XXX </span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void?amount=XXX"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-21">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0719094510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4510712"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"693066"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"Status"</span>: 2,
    <span class="s2">"Tid"</span>: <span class="s2">"0719094510712"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"4510712"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"693066"</span>,
    <span class="s2">"ReasonCode"</span>: 0,
    <span class="s2">"ReasonMessage"</span>: <span class="s2">"Successful"</span>,
    <span class="s2">"ProviderReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ProviderReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
            <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
            <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/4d7be764-0e81-4446-b31e-7eb56bf2c9a8/void"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da adquirente.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da adquirente.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnCode</code></td>
      <td>Código de retorno do Provider.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderReturnMessage</code></td>
      <td>Mensagem de retorno do Provider.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<aside class="notice">Cancelamento de Taxa de embarque Para realizar o cancelamento da *taxa de embarque*, basta adicionar o valor do ServiveTaxAmount a ser cancelado</aside>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{paymentId}/void?amount={Valor}&amp;serviceTaxAmount=xxx
</code></pre></div></div>

<h3 id="cancelamento-via-backoffice">Cancelamento via Backoffice</h3>

<p>O Cancelamento via Backoffice é a unica opção para realizar o cancelamento de transações de Débito Online.
É possivel realizar tanto o cancelamento total quanto o Cancelamento parcial via O Backoffice Cielo.</p>

<p>Efeitos sobre o meio de pagamento</p>

<table>
  <thead>
    <tr>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
      <th>Prazo</th>
      <th>Participação Cielo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Transferência Eletrônica</td>
      <td>Cancelamento apenas na API. O retorno do valor é feito pelo proprio lojista</td>
      <td>Definido pelo lojista</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<p>Acesse nosso <a href="https://developercielo.github.io/Tutorial//Backoffice-3.0"><strong>Tutorial</strong></a>  para maiores informações</p>

<h2 id="post-de-notificação">Post de Notificação</h2>

<h3 id="sobre-o-post">Sobre o POST</h3>

<p>A API Cielo e-commerce oferece um sistema de notificação transacional, onde o Lojista fornece um endpoint que receberá uma notificação via <code class="highlighter-rouge">POST</code></p>

<p>O Conteudo da notificação será formado por 3 campos:</p>

<ul>
  <li><code class="highlighter-rouge">RecurrentPaymentId</code>- Identificador que representa um conjunto de transações recorrentes</li>
  <li><code class="highlighter-rouge">PaymentId</code>- Identificador que representa a transação</li>
  <li><code class="highlighter-rouge">ChangeType</code> - Especifica o tipo de notificação</li>
</ul>

<p>Com os dados acima, o lojista poderá identificar a transação (via <code class="highlighter-rouge">PaymentId</code> ou <code class="highlighter-rouge">RecurrentPaymentId</code>) e a mudança sofrida por ela. Com o <code class="highlighter-rouge">PaymentId</code> é possivel realizar uma consulta a base transacional da API Cielo E-commerce</p>

<p>O Post de notificação é enviado com base em uma seleção de eventos  pré-definidos no cadastro da API Cielo E-commerce.
Esses eventos são cadastros pela equipe de suporte Cielo, quando requisitado pelo lojista</p>

<h3 id="eventos-notificados">Eventos Notificados</h3>

<p>Os eventos passiveis de notificação são:</p>

<table>
  <thead>
    <tr>
      <th>Meio de Pagamento</th>
      <th>Evento</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Cartão de Crédito</strong></td>
      <td>Captura</td>
    </tr>
    <tr>
      <td><strong>Cartão de Crédito</strong></td>
      <td>Cancelamento</td>
    </tr>
    <tr>
      <td><strong>Cartão de Crédito</strong></td>
      <td>Sondagem</td>
    </tr>
    <tr>
      <td><strong>Boleto</strong></td>
      <td>Conciliação</td>
    </tr>
    <tr>
      <td><strong>Boleto</strong></td>
      <td>Cancelamento Manual</td>
    </tr>
    <tr>
      <td><strong>Transferência eletrônica</strong></td>
      <td>Confirmadas</td>
    </tr>
  </tbody>
</table>

<p><strong>Sobre Cartão de débito:</strong> Não notificamos transações de Cartão de débito. Sugerimos que seja criada uma URL de RETORNO, onde o comprador será enviado se a transação for finalizada no ambiente do banco. Quando essa URL for acionada, nossa sugestão é que um <code class="highlighter-rouge">GET</code> seja executado, buscando informações do pedido na API Cielo&lt;/aside&gt;</p>

<p>A notificação ocorre tambem ocorre em eventos relacionados a <strong>Recorrência Programada Cielo</strong></p>

<table>
  <thead>
    <tr>
      <th>Eventos da Recorrência</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Desabilitado ao atingir número máximo de tentativas (transações negadas)</td>
    </tr>
    <tr>
      <td>Reabilitação</td>
    </tr>
    <tr>
      <td>Finalizado / Data de finalização atingida</td>
    </tr>
    <tr>
      <td>Desativação</td>
    </tr>
  </tbody>
</table>

<h3 id="endpoint-de-notificação">Endpoint de Notificação</h3>

<p>Uma <code class="highlighter-rouge">URL Status Pagamento</code> deve ser cadastrada pelo Suporte Cielo, para que o POST de notificação seja executado.</p>

<p>Características da <code class="highlighter-rouge">URL Status Pagamento</code></p>

<ul>
  <li>Deve ser <strong>estática</strong></li>
  <li>Limite de 255  carácteres.</li>
</ul>

<p>Características do <strong>Post de notificação</strong></p>

<ul>
  <li>É disparado a cada 30 minutos</li>
  <li>Em caso de falha, 3 novas tentativas são realizadas.Se as 3 tentativas falharem, novos envios não ocorrerão.</li>
</ul>

<p>É possivel cadastrar uma informação para retorno do header da requisição. Basta entrar em contato com o Suporte Cielo e informar os itens abaixo</p>

<ul>
  <li><code class="highlighter-rouge">KEY</code> - Nome do paramêtro</li>
  <li><code class="highlighter-rouge">VALUE</code> - Valor estático a ser retornado</li>
</ul>

<p>Você pode cadastrar até 3 tipos de informação de retorno no header</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ChangeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--header</span> <span class="s2">"key: value"</span>
<span class="o">{</span>
   <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"PaymentId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
   <span class="s2">"ChangeType"</span>: <span class="s2">"2"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>A loja <strong>deverá</strong> retornar como resposta ao notificação: <strong>HTTP Status Code 200 OK</strong></p>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Identificador que representa o pedido Recorrente (aplicável somente para ChangeType 2 ou 4)</td>
      <td>GUID</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Identificador que representa a transação</td>
      <td>GUID</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ChangeType</code></td>
      <td>Especifica o tipo de notificação. Vide tabela abaixo</td>
      <td>Número</td>
      <td>1</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>ChangeType</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Mudança de status do pagamento</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Recorrência criada</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Mudança de status do Antifraude</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Mudança de status do pagamento recorrente (Ex. desativação automática)</td>
    </tr>
    <tr>
      <td>5</td>
      <td>cancelamento negado</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Notificação de chargeback <br /> Para mais detalhes <a href="https://braspag.github.io//manual/risknotification">Risk Notification</a></td>
    </tr>
  </tbody>
</table>

<h1 id="análise-de-fraude-af">Análise de Fraude (AF)</h1>

<p>A API e-commerce Cielo oferece um serviço de analise de risco de fraudes em transações online. A Cielo se integra a empresas de analise de risco, como CyberSource, que realizam uma validação dos dados transacionais e do historico de compras do portador do cartão.
Essa analise retorna fatores de risco e permite que o lojista tome a decisão se dará continuidade a venda.</p>

<aside class="warning">A análise de fraude oferecida pela Cielo avalia o risco de uma transação, mas não vincula o resultado da analise com a cobertura de ChargeBacks. A Cielo não realiza transações "garantidas"</aside>

<p>Para utilizar o AF, é necessario que o serviço seja ativado junto a Cielo.
Existem 3 tipos de configurações de analise de fraude disponiveis:</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
      <th>Fornecedor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SuperMID Sem BPO</strong></td>
      <td>Regras de analise definidas pela Cielo <br /> Não é possivel costumizar as regras no fornecedor <br /> Não há analista de risco dedicado</td>
      <td>CyberSource</td>
    </tr>
    <tr>
      <td><strong>SuperMID Com BPO</strong></td>
      <td>Regras de analise definidas pela Cielo <br /> Não é possivel costumizar as regras no fornecedor <br /> Analista de risco dedicado contratado pelo lojista junto ao fornecedor</td>
      <td>CyberSource</td>
    </tr>
    <tr>
      <td><strong>Hierarquia ou Enterprise</strong></td>
      <td>O Lojista tem um contrato fechado diretamente com o fornecedor da AF, com regras especificas para analise. Cielo deve configurar as credenciais fornecidas pelo Fornecedor da AF no API Cielo E-commerce</td>
      <td>CyberSource</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>A Analise de Fraude está disponivel apenas para transações de cartão de crédito.</p>
</blockquote>

<h2 id="integração">Integração</h2>

<p>Para criar uma venda com cartão de crédito e analise de fraude, é necessário enviar uma requisição utilizando o método <code class="highlighter-rouge">POST</code> para o recurso Payment conforme o exemplo.</p>

<h3 id="requisição-16">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"201411173454307"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito AF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Mobile"</span><span class="p">:</span><span class="s2">"5521995760078"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"552125553669"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BillingAddress"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BR"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"Mensagem"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4024007197692931"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste accept"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"023"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"FraudAnalysis"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"cybersource"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="s2">"AuthorizeFirst"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"CaptureOnLowRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nl">"VoidOnHighRisk"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nl">"TotalOrderAmount"</span><span class="p">:</span><span class="mi">10000</span><span class="p">,</span><span class="w">
       </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Browser"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"HostName"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="s2">"200.190.150.350"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"Chrome"</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="nl">"Cart"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Items"</span><span class="p">:[{</span><span class="w">
           </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Sku"</span><span class="p">:</span><span class="s2">"201411170235134521346"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Risk"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="s2">"High"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"Passenger"</span><span class="p">:{</span><span class="w">
             </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Rating"</span><span class="p">:</span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"999994444"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"Status"</span><span class="p">:</span><span class="s2">"Accepted"</span><span class="w">
            </span><span class="p">}</span><span class="w">
           </span><span class="p">}]</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:[{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="mi">95</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"Eu defini isso"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"Shipping"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="s2">"Sr Comprador Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Method"</span><span class="p">:</span><span class="s2">"LowCost"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Phone"</span><span class="p">:</span><span class="s2">"21114740"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Travel"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"DepartureTime"</span><span class="p">:</span><span class="s2">"2010-01-02"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"JourneyType"</span><span class="p">:</span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Route"</span><span class="p">:</span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Legs"</span><span class="p">:[{</span><span class="w">
                </span><span class="nl">"Destination"</span><span class="p">:</span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Origin"</span><span class="p">:</span><span class="s2">"VCP"</span><span class="w">
          </span><span class="p">}]</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>24</td>
      <td>Sim</td>
      <td>Tipo de documento de identificação do comprador (CPF ou CNPJ).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador no formato AAAA-MM-DD.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Street</code></td>
      <td>Texto</td>
      <td>54</td>
      <td>Não</td>
      <td>Endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Number</code></td>
      <td>Texto</td>
      <td>5</td>
      <td>Não</td>
      <td>Número do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Complement</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Complemento do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.Country</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Pais do endereço de cobrança do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.BillingAddress.District</code></td>
      <td>Texto</td>
      <td>45</td>
      <td>Não</td>
      <td>Bairro do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Pais na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática. (Default false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão (Default false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
      <td>Texto que será impresso na fatura do portador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Sim</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken.  (Default false)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o token (CardToken)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Provider</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Fixo “cybersource”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Sequence</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Sim</td>
      <td>Tipo de Fluxo para realização da análise de fraude. Primeiro Analise (AnalyseFirst) ou Primeiro Autorização (AuthorizeFirst)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.SequenceCriteria</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Sim</td>
      <td>Critério do fluxo. <strong>OnSuccess</strong> - Só realiza a análise se tiver sucesso na transação. <strong>Always</strong> - Sempre realiza a análise</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.CaptureOnLowRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Quando true, a autorização deve ser com captura automática quando o risco de fraude for considerado baixo (Accept). Em casos de Reject ou Review, o fluxo permanece o mesmo, ou seja, a captura acontecerá conforme o valor especificado no parâmetro “Capture”. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resultado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.VoidOnHighRisk</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Quando true, o estorno deve acontecer automaticamente quando o risco de fraude for considerado alto (Reject). Em casos de Accept ou Review, o fluxo permanece o mesmo, ou seja, o estorno deve ser feito manualmente. Para a utilização deste parâmetro, a sequência do fluxo de análise de risco deve ser obrigatoriamente “AuthorizeFirst”. Por depender do resultado de análise de risco, este parâmetro só terá efeito quando o serviço de Antifraude for contratado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.TotalOrderAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor total do pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.FingerPrintId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Identificador utilizado para cruzar informações obtidas pelo Browser do internauta com os dados enviados para análise. Este mesmo valor deve ser passado na variável SESSIONID do script do DeviceFingerPrint.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.CookiesAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
      <td>Booleano para identificar se o browser do cliente aceita cookies.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.Email</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Não</td>
      <td>E-mail registrado no browser do comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.HostName</code></td>
      <td>Texto</td>
      <td>60</td>
      <td>Não</td>
      <td>Nome do host onde o comprador estava antes de entrar no site da loja.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.IpAddress</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim</td>
      <td>Endereço IP do comprador. É altamente recomendável o envio deste campo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Browser.Type</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Não</td>
      <td>Nome do browser utilizado pelo comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.IsGift</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que indica se o pedido é para presente ou não.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.ReturnsAccepted</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não</td>
      <td>Booleano que define se devoluções são aceitas para o pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.GiftCategory</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>Campo que avaliará os endereços de cobrança e entrega para diferentes cidades, estados ou países.<br /><em>“Yes”</em>(Em caso de divergência entre endereços de cobrança e entrega, marca como risco pequeno)<br /><em>“No”</em>(Em caso de divergência entre endereços de cobrança e entrega, marca com risco alto)<br /><em>“Off”</em>(Ignora a análise de risco para endereços divergentes)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.HostHedge</code></td>
      <td>Texto</td>
      <td>—</td>
      <td>Não</td>
      <td>Nível de importância do e-mail e endereços IP dos clientes em risco de pontuação.<br /><em>“Low”</em>(Baixa importância do e-mail e endereço IP na análise de risco)<br /><em>“Normal”</em>(Média importância do e-mail e endereço IP na análise de risco)<br /><em>“High”</em>(Alta importância do e-mail e endereço IP na análise de risco)<br /><em>“Off”</em>(E-mail e endereço IP não afetam a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.NonSensicalHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados sobre os dados do comprador com pedidos recebidos sem sentido.<br /><em>“Low”</em>(Baixa importância da verificação feita sobre o pedido do comprador, na análise de risco)<br /><em>“Normal”</em>(Média importância da verificação feita sobre o pedido do comprador, na análise de risco)<br /><em>“High”</em>(Alta importância da verificação feita sobre o pedido do comprador, na análise de risco)<br /><em>“Off”</em>(Verificação do pedido do comprador não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.ObscenitiesHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de obscenidade dos pedidos recebedidos.<br /><em>“Low”</em>(Baixa importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)<br /><em>“Normal”</em>(Média importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)<br /><em>“High”</em>(Alta importância da verificação sobre obscenidades do pedido do comprador, na análise de risco)<br /><em>“Off”</em>(Verificação de obscenidade no pedido do comprador não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.PhoneHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível dos testes realizados com os números de telefones.<br /><em>“Low”</em>(Baixa importância nos testes realizados com números de telefone)<br /><em>“Normal”</em>(Média importância nos testes realizados com números de telefone)<br /><em>“High”</em>(Alta importância nos testes realizados com números de telefone)<br /><em>“Off”</em>(Testes de números de telefone não afetam a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Produto.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Quantity</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Quantidade do produto a ser adquirido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Sku</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código comerciante identificador do produto.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.UnitPrice</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Preço unitário do produto.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Risk</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível do risco do produto.<br />Low (O produto tem um histórico de poucos chargebacks)<br />Normal (O produto tem um histórico de chargebacks considerado normal)<br />High (O produto tem um histórico de chargebacks acima da média)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.TimeHedge</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td>Nível de importância da hora do dia do pedido do cliente.<br />Low (Baixa importância no horário do dia em que foi feita a compra, para a análise de risco)<br />Normal (Média importância no horário do dia em que foi feita a compra, para a análise de risco)<br />High (Alta importância no horário do dia em que foi feita a compra, para a análise de risco)<br />Off (O horário da compra não afeta a análise de risco)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Type</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td>Tipo do produto.<br />AdultContent(Conteúdo adulto)<br />Coupon(Cupon de desconto)<br />Default(Opção padrão para análise na CyberSource quando nenhum outro valor é selecionado)<br />EletronicGood(Produto eletrônico)<br />EletronicSoftware(Softwares distribuídos eletronicamente via download)<br />GiftCertificate(Vale presente)<br />HandlingOnly(Taxa de instalação ou manuseio)<br />Service(Serviço)<br />ShippingAndHandling(Frete e taxa de instalação ou manuseio)<br />ShippingOnly(Frete)<br />Subscription(Assinatura)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.VelocityHedge</code></td>
      <td>Texto</td>
      <td>6</td>
      <td>Não</td>
      <td>Nível de importância de frequência de compra do cliente.<br />Low (Baixa importância no número de compras realizadas pelo cliente nos últimos 15 minutos)<br />Normal (Média importância no número de compras realizadas pelo cliente nos últimos 15 minutos)<br />High (Alta importância no número de compras realizadas pelo cliente nos últimos 15 minutos)<br />Off (A frequência de compras realizadas pelo cliente não afeta a análise de fraude)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Passageiro.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Identity</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Id do passageiro a quem o bilheite foi emitido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Não</td>
      <td>Nome do passageiro.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Rating</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td>Classificação do Passageiro.<br />Valores do Campo:<br />“Adult” (Passageiro adulto)<br />“Child”(Passageiro criança)<br />“Infant”(Passageiro infantil)<br />“Youth”(Passageiro adolescente)<br />“Student”(Passageiro estudante)<br />“SeniorCitizen“(Passageiro idoso)<br />“Military“(Passageiro militar)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do telefone do passageiro. Para pedidos fora do U.S., a CyberSource recomenda que inclua o código do país. 552133665599 (Ex. Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Cart.Items.Passenger.Status</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Não</td>
      <td>Classificação da empresa aérea. Pode-se usar valores como Gold ou Platina.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Id</code></td>
      <td>Texto</td>
      <td>—</td>
      <td>Sim (se aplicável)</td>
      <td>Id das informações adicionais a serem enviadas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.MerchantDefinedFields.Value</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim (se aplicável)</td>
      <td>Valor das informações adicionais a serem enviadas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Addressee</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do destinatário da entrega.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Method</code></td>
      <td>Texto</td>
      <td>-</td>
      <td>Não</td>
      <td>Tipo de serviço de entrega do produto.<br />“SameDay” (Serviço de entrega no mesmo dia)<br />“OneDay” (Serviço de entrega noturna ou no dia seguinte)<br />“TwoDay” (Serviço de entrega em dois dias)<br />“ThreeDay” (Serviço de entrega em três dias)<br />“LowCost” (Serviço de entrega de baixo custo)<br />“Pickup” (Produto retirado na loja)<br />“Other” (Outro método de entrega)<br />“None” (Sem serviço de entrega, pois é um serviço ou assinatura)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Shipping.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Telefone do destinatário da entrega. Ex. 552133665599 (Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.JourneyType</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Tipo de viagem.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.DepartureTime</code></td>
      <td>DateTime</td>
      <td>23</td>
      <td>Não</td>
      <td>Data, hora e minuto de partida do vôo. Ex: “2018-01-09 18:00:00”</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Name</code></td>
      <td>Texto</td>
      <td>120</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Nome do passageiro.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Identity</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Número do RG, CPF ou CNPJ do passageiro.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Status</code></td>
      <td>Texto</td>
      <td>32</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Classificação da companhia aérea. Valores do campo: “Gold”, “Platina”.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Rating</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Classificação do Passageiro.<br />Valores do Campo:<br />“Adult” (Passageiro adulto)<br />“Child”(Passageiro criança)<br />“Infant”(Passageiro infantil)<br />“Youth”(Passageiro adolescente)<br />“Student”(Passageiro estudante)<br />“SeniorCitizen“(Passageiro idoso)<br />“Military“(Passageiro militar)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>E-mail do passageiro.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.Phone</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do telefone do passageiro. Para pedidos fora do U.S., a CyberSource recomenda que inclua o código do país. 552133665599 (Ex. Código do Pais 55, Código da Cidade 21, Telefone 33665599)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.TravelLegs.Origin</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Código do aeroporto do ponto de origem da viagem.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysis.Travel.Passengers.TravelLegs.Destination</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim, caso o nó Travel seja enviado.</td>
      <td>Código do aeroporto do ponto de destino da viagem.</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-22">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"201411173454307"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador crédito AF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"552125553669"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BillingAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Júpter"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Alphaville"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"402400******2931"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"492115"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10069930692606D31001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FraudAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"cybersource"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AuthorizeFirst"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SequenceCriteria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnSuccess"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"FingerPrintId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"074c1ee676ed4998ab66491013c565e2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"MerchantDefinedFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eu defini isso"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Cart"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"IsGift"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ReturnsAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AdultContent"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ItemTeste"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Risk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201411170235134521346"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"UnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"HostHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"NonSensicalHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"ObscenitiesHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"PhoneHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"TimeHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"VelocityHedge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"GiftCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Passenger"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador accept"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"Rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999994444"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Travel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAO-RJO"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"DepartureTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-01-02T00:00:00"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"JourneyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ida"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GYN"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"Origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VCP"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Browser"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"HostName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CookiesAccepted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@live.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chrome"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.190.150.350"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Addressee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sr Comprador Teste"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21114740"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LowCost"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0e4d0a3c-e424-4fa5-a573-4eabbd44da42"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ReplyData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AddressInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COR-BA^MM-BIN"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FactorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B^D^R^Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="nl">"BinCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CardIssuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIA CARD SERVICES, N.A."</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CardScheme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VisaCredit"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"HostSeverity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"InternetInfoCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FREE-EM^RISK-EM"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"IpRoutingMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ScoreModelUsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_lac"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CasePriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04096cfb-3f0a-4ece-946c-3b7dc5d38f19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transação autorizada"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Id</code></td>
      <td>Indentificação da Transação no Antifraud.</td>
      <td>Texto</td>
      <td>300</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Score</code></td>
      <td>Score total calculado para o pedido. Vai de 0 - 100 -  Quanto mais elevado, maior o risco.</td>
      <td>Número</td>
      <td>—</td>
      <td>Número</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BinCountry</code></td>
      <td>Sigla do país de origem da compra.</td>
      <td>Texto</td>
      <td>2</td>
      <td>us</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardIssuer</code></td>
      <td>Nome do banco ou entidade emissora do cartão.</td>
      <td>Texto</td>
      <td>128</td>
      <td>Bradesco</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ScoreModelUsed</code></td>
      <td>Nome do modelo de score utilizado.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Ex: default_lac</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CasePriority</code></td>
      <td>Caso o lojista seja assinante do Enhanced Case Management, ele recebe este valor com o nível de prioridade, sendo 1 o mais alto e 5 o mais baixo.</td>
      <td>Número</td>
      <td>—</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HostSeverity</code></td>
      <td>Nível de risco do domínio de e-mail do comprador, de 0 a 5, onde 0 é risco indeterminado e 5 representa o risco mais alto.</td>
      <td>Número</td>
      <td>—</td>
      <td>5</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardScheme</code></td>
      <td>Tipo da bandeira</td>
      <td>Texto</td>
      <td>20</td>
      <td>Ver Tabela <strong>CardScheme</strong></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InternetInfoCode</code></td>
      <td>Sequência de códigos que indicam que existe uma excessiva alteração de identidades do comprador. Os códigos são concatenados usando o caractere ^.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <strong>InternetInfoCode</strong></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FraudAnalysisReasonCode</code></td>
      <td>Resultado da análise.</td>
      <td>Byte</td>
      <td>—</td>
      <td>Ver tabela <strong>FraudAnalysisReasonCode</strong></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AddressInfoCode</code></td>
      <td>Combinação de códigos que indicam erro no endereço de cobrança e/ou entrega. Os códigos são concatenados usando o caractere ^.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ex: COR-BA^MM-BIN -&gt; Ver tabela <strong>AddressInfoCode</strong></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">FactorCode</code></td>
      <td>Combinação de códigos que indicam o score do pedido. Os códigos são concatenados usando o caractere ^.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Ex: B^D^R^Z -  Ver tabela <strong>FactorCode</strong></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IpRoutingMethod</code></td>
      <td>Tipo de roteamento de IP utilizado pelo computador.</td>
      <td>Texto</td>
      <td>—</td>
      <td><br />Anonymizer<br />AolBased<br />CacheProxy<br />Fixed<br />InternationalProxy<br />MobileGateway<br />Pop<br />RegionalProxy<br />Satellite<br />SuperPop<br /></td>
    </tr>
  </tbody>
</table>

<h2 id="tabelas-af">Tabelas AF</h2>

<h3 id="status-do-af">status do AF</h3>

<blockquote>
  <p>Os Status abaixo são apresentados no Backoffice da API Cielo E-Commerce, dentro do site Cielo</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
      <th>Observações</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Started</code></td>
      <td>Transação recebida pela Cielo.</td>
      <td>Dados da transação foram aceitos e enviados para analise</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Accept</code></td>
      <td>Transação aceita após análise de fraude.</td>
      <td>Transação aprovada pela analise de risco</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Review</code></td>
      <td>Transação em revisão após análise de fraude</td>
      <td>Transação encaminhada para analise manual - será analisada por BPO</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Reject</code></td>
      <td>Transação rejeitada após análise de fraude.</td>
      <td>Transação rejeitada pela analise de risco</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Unfinished</code></td>
      <td>Transação não finalizada por algum erro sistémico</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Pendent</code></td>
      <td>Transação esperando analise</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ProviderError</code></td>
      <td>Transação com erro no provedor de antifraude.</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h3 id="fraudanalysisitems">FraudAnalysis.Items</h3>

<h4 id="giftcategory">GiftCategory</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Yes</code></td>
      <td>Em caso de divergência entre endereços de cobrança e entrega, marca com risco pequeno.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">No</code></td>
      <td>Em caso de divergência entre endereços de cobrança e entrega, marca com risco alto.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>Ignora a análise de risco para endereços divergentes.</td>
    </tr>
  </tbody>
</table>

<h4 id="hosthedge">HostHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância do e-mail e endereço IP na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância do e-mail e endereço IP na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância do e-mail e endereço IP na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>E-mail e endereço IP não afetam a análise de risco.</td>
    </tr>
  </tbody>
</table>

<h4 id="nonsensicalhedge">NonSensicalHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância da verificação feita sobre o pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância da verificação feita sobre o pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância da verificação feita sobre o pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>Verificação do pedido do comprador não afeta a análise de risco.</td>
    </tr>
  </tbody>
</table>

<h3 id="fraudanalysiscart">FraudAnalysis.Cart</h3>

<h4 id="obscenitieshedge">ObscenitiesHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância da verificação sobre obscenidades do pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância da verificação sobre obscenidades do pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância da verificação sobre obscenidades do pedido do comprador, na análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>Verificação de obscenidade no pedido do comprador não afeta a análise de risco.</td>
    </tr>
  </tbody>
</table>

<h4 id="phonehedge">PhoneHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância nos testes realizados com números de telefone.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância nos testes realizados com números de telefone.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância nos testes realizados com números de telefone.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>Testes de números de telefone não afetam a análise de risco.</td>
    </tr>
  </tbody>
</table>

<h4 id="risk">Risk</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>O produto tem um histórico de poucos chargebacks.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>O produto tem um histórico de chargebacks considerado normal.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>O produto tem um histórico de chargebacks acima da média.</td>
    </tr>
  </tbody>
</table>

<h4 id="timehedge">TimeHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância no horário do dia em que foi feita a compra, para a análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância no horário do dia em que foi feita a compra, para a análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância no horário do dia em que foi feita a compra, para a análise de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>O horário da compra não afeta a análise de risco.</td>
    </tr>
  </tbody>
</table>

<h4 id="type">Type</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">CN</code></td>
      <td>Comprador de negócios</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CP</code></td>
      <td>Comprador particular</td>
    </tr>
  </tbody>
</table>

<h4 id="velocityhedge">VelocityHedge</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Low</code></td>
      <td>Baixa importância no número de compras realizadas pelo cliente nos últimos 15 minutos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Normal</code></td>
      <td>Média importância no número de compras realizadas pelo cliente nos últimos 15 minutos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">High</code></td>
      <td>Alta importância no número de compras realizadas pelo cliente nos últimos 15 minutos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Off</code></td>
      <td>A frequência de compras realizadas pelo cliente não afeta a análise de fraude.</td>
    </tr>
  </tbody>
</table>

<h4 id="rating">Rating</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Adult</code></td>
      <td>Passageiro adulto.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Child</code></td>
      <td>Passageiro criança.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Infant</code></td>
      <td>Passageiro infantil.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Youth</code></td>
      <td>Passageiro adolescente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Student</code></td>
      <td>Passageiro estudante.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SeniorCitizen</code></td>
      <td>Passageiro idoso.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Military</code></td>
      <td>Passageiro militar.</td>
    </tr>
  </tbody>
</table>

<h3 id="fraudanalysisshipping">FraudAnalysis.Shipping</h3>

<h4 id="method">Method</h4>

<table>
  <thead>
    <tr>
      <th>Campo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">None</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SameDay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">OneDay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TwoDay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ThreeDay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">LowCost</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Pickup</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Other</code></td>
    </tr>
  </tbody>
</table>

<h3 id="fraudanalysisreplydata">FraudAnalysis.ReplyData</h3>

<h4 id="cardscheme">CardScheme</h4>

<table>
  <thead>
    <tr>
      <th>Tipo da bandeira</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MaestroInternational</code></td>
      <td>Maestro International</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MaestroUkDomestic</code></td>
      <td>Maestro UK Domestic</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MastercardCredit</code></td>
      <td>MasterCard Credit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MastercardDebit</code></td>
      <td>MasterCard Debit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VisaCredit</code></td>
      <td>Visa Credit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VisaDebit</code></td>
      <td>Visa Debit</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VisaElectron</code></td>
      <td>Visa Electron</td>
    </tr>
  </tbody>
</table>

<h4 id="addressinfocode">AddressInfoCode</h4>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">COR-BA</code></td>
      <td>O endereço de cobrança pode ser normalizado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">COR-SA</code></td>
      <td>O endereço de entrega pode ser normalizado</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">INTL-SA</code></td>
      <td>O país de entrega é fora dos U.S</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MIL-USA</code></td>
      <td>Este é um endereço militar nos U.S</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-A</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-BIN</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o cartão usado foi emitido em outro país</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-C</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-CO</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-ST</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-Z</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UNV-ADDR</code></td>
      <td>O endereço é inverificável</td>
    </tr>
  </tbody>
</table>

<h4 id="internetinfocode">InternetInfoCode</h4>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MORPH-B</code></td>
      <td>CUIDADO: endereço de cobrança foi usado por diversos clientes diferentes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MORPH-C</code></td>
      <td>CUIDADO: cartão foi usado por diversos clientes diferentes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MORPH-E</code></td>
      <td>CUIDADO: endereço de email foi usado por diversos clientes diferentes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MORPH-I</code></td>
      <td>O mesmo endereço IP tem sido utilizado várias vezes com identidades de clientes múltiplos</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MORPH-P</code></td>
      <td>CUIDADO: número de telefone foi usado por diversos clientes diferentes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MORPH-S</code></td>
      <td>CUIDADO: endereço de envio foi usado por diversos clientes diferentes</td>
    </tr>
  </tbody>
</table>

<h4 id="fraudanalysisreasoncode">FraudAnalysisReasonCode</h4>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">100</code></td>
      <td>Operação bem sucedida.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">101</code></td>
      <td>O pedido está faltando um ou mais campos necessários. Possível ação: Veja os campos que estão faltando na lista AntiFraudResponse.MissingFieldCollection. Reenviar o pedido com a informação completa.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">102</code></td>
      <td>Um ou mais campos do pedido contêm dados inválidos. Possível ação: Veja os campos inválidos na lista AntiFraudResponse.InvalidFieldCollection. Reenviar o pedido com as informações corretas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">150</code></td>
      <td>Falha no sistema geral. Possível ação: Aguarde alguns minutos e tente reenviar o pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">151</code></td>
      <td>O pedido foi recebido, mas ocorreu time-out no servidor. Este erro não inclui time-out entre o cliente e o servidor. Possível ação: Aguarde alguns minutos e tente reenviar o pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">152</code></td>
      <td>O pedido foi recebido, mas ocorreu time-out. Possível ação: Aguarde alguns minutos e reenviar o pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">202</code></td>
      <td>Prevenção à Fraude recusou o pedido porque o cartão expirou. Você também pode receber este código se a data de validade não coincidir com a data em arquivo do banco emissor. Se o processador de pagamento permite a emissão de créditos para cartões expirados, a CyberSource não limita essa funcionalidade. Possível ação: Solicite um cartão ou outra forma de pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">231</code></td>
      <td>O número da conta é inválido. Possível ação: Solicite um cartão ou outra forma de pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">234</code></td>
      <td>Há um problema com a configuração do comerciante. Possível ação: Não envie o pedido. Entre em contato com o Suporte ao Cliente para corrigir o problema de configuração.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">400</code></td>
      <td>A pontuação de fraude ultrapassa o seu limite. Possível ação: Reveja o pedido do cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">480</code></td>
      <td>O pedido foi marcado para revisão pelo Gerenciador de Decisão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">481</code></td>
      <td>O pedido foi rejeitado pelo Gerenciador de Decisão</td>
    </tr>
  </tbody>
</table>

<h4 id="factorcode">FactorCode</h4>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">A</code></td>
      <td>CONFIRME O ENDEREÇO: o cliente mudou o endereço de entrega duas ou mais vezes nos últimos meses.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">B</code></td>
      <td>BIN do cartão ou autorização de risco. Os fatores de risco estão relacionados com BIN de cartão de crédito e/ou verificações de autorização do cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">C</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o cliente usou mais de seis cartões nos últimos meses.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">D</code></td>
      <td>Impacto do endereço de e-mail. O cliente usa um provedor de e-mail gratuito ou o endereço de email é arriscado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">E</code></td>
      <td>Lista positiva. O cliente está na sua lista positiva.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">F</code></td>
      <td>CUIDADO: alguma das informações a seguir está relacionada a uma transação que foi reportada como fraudulenta (cartão, endereço ou email).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">G</code></td>
      <td>Localização do computador diferente da localização informada no momento da compra. Atenção!!</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">H</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o cliente trocou de nome duas ou mais vezes nos últimos meses.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">I</code></td>
      <td>CONFIRME O ENDEREÇO: o endereço IP e o domínio de email não correspondem ao endereço de entrega.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">N</code></td>
      <td>CONFIRME O DONO DO CARTÃO E O ENDEREÇO: eles contém palavras sem sentido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">O</code></td>
      <td>CONFIRME O DONO DO CARTÃO E O ENDEREÇO: eles contém palavras sem sentido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">P</code></td>
      <td>CONFIRME O DONO DO CARTÃO E O ENDEREÇO: informações cadastrais estão compartilhadas entre diferentes clientes.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Q</code></td>
      <td>Inconsistências do telefone. O número de telefone do cliente é suspeito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">R</code></td>
      <td>CONFIRME O DONO DO CARTÃO E O ENDEREÇO: há correlações arriscadas no pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">T</code></td>
      <td>Cobertura Time. O cliente está a tentar uma compra fora do horário esperado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">U</code></td>
      <td>Endereço não verificável. O endereço de cobrança ou de entrega não pode ser verificado.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">V</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o cartão foi usado muitas vezes nos últimos 15 minutos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">W</code></td>
      <td>CUIDADO: o endereço está relacionado a uma transação que foi reportada como fraudulenta.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Z</code></td>
      <td>CONFIRME O ENDEREÇO: Os endereços de cobrança e entrega não estão relacionados.</td>
    </tr>
  </tbody>
</table>

<h3 id="outros">Outros</h3>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">INV-EM</code></td>
      <td>CONFIRME O EMAIL: O email é inválido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-EMBCO</code></td>
      <td>Localização do computador diferente da localização informada no momento da compra. Atenção!!</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-IPBC</code></td>
      <td>CONFIRME O ENDEREÇO: O endereço de cobrança não está relacionado com a localidade do IP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-IPBCO</code></td>
      <td>CONFIRME O ENDEREÇO: O endereço de cobrança não está relacionado com a localidade do IP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-IPBST</code></td>
      <td>CONFIRME O ENDEREÇO: O endereço de cobrança não está relacionado com a localidade do IP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-IPEM</code></td>
      <td>CONFIRME O ENDEREÇO: O endereço de cobrança não está relacionado com a localidade do IP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-EM</code></td>
      <td>CONFIRME A COMPRA E O EMAIL COM O PORTADOR DO CARTÃO: o domínio do email é de alto risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UNV-NID</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o IP usado pertence a um proxy anônimo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UNV-RISK</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: o IP usado é de alto risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UNV-EMBCO</code></td>
      <td>CONFIRME O ENDEREÇO: O endereço de cobrança não está relacionado com a localidade do IP.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CON-POSNEG</code></td>
      <td>CUIDADO: alguma das informações a seguir está relacionada a uma transação que foi reportada como fraudulenta (cartão, endereço ou email).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-BA</code></td>
      <td>CUIDADO: endereço de cobrança relacionado a transação reportada como fraudulenta.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-BCO</code></td>
      <td>CUIDADO: endereço de cobrança relacionado a transação reportada como fraudulenta.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-BIN</code></td>
      <td>CUIDADO: BIN do cartão relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-BZC</code></td>
      <td>CUIDADO: CEP do endereço de cobrança relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-CC</code></td>
      <td>CUIDADO: cartão relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-EM</code></td>
      <td>CUIDADO: email relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-EMDOM</code></td>
      <td>CUIDADO: domínio de email relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-HIST</code></td>
      <td>CUIDADO: tranação está relacionada a uma transação que foi reportada como fraudulenta.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-ID</code></td>
      <td>CUIDADO: cartão relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-IP</code></td>
      <td>CUIDADO: IP relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-IP3</code></td>
      <td>CUIDADO: IP relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-PEM</code></td>
      <td>CUIDADO: email do passageiro relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-PH</code></td>
      <td>CUIDADO: número de telefone relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-PID</code></td>
      <td>CUIDADO: ID do passageiro relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-PPH</code></td>
      <td>CUIDADO: número de telefone do passageiro relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NEG-SA</code></td>
      <td>CUIDADO: endereço de envio relacionado a transação reportada como fraudulenta.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VEL-ADDR</code></td>
      <td>CONFIRME A COMPRA E O ENDEREÇO COM O PORTADOR DO CARTÃO: há diversos endereços relacionados ao cartão ou email.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VEL-CC</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: há diversos cartões relacionados ao nome ou email.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VEL-NAME</code></td>
      <td>CONFIRME A COMPRA COM O PORTADOR DO CARTÃO: há diversos nomes relacionados ao cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELS-CC</code></td>
      <td>Cartão utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELI-CC</code></td>
      <td>Cartão utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELL-CC</code></td>
      <td>Cartão utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELV-CC</code></td>
      <td>Cartão utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELS-EM</code></td>
      <td>Email utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELI-EM</code></td>
      <td>Email utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELL-EM</code></td>
      <td>Email utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELV-EM</code></td>
      <td>Email utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELS-IP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELI-IP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELL-IP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELV-IP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELS-SA</code></td>
      <td>Endereço de envio utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELI-SA</code></td>
      <td>Endereço de envio utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELL-SA</code></td>
      <td>Endereço de envio utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELV-SA</code></td>
      <td>Endereço de envio utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELS-TIP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELI-TIP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VELL-TIP</code></td>
      <td>IP utilizado diversas vezes recentemente</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BAD-FP</code></td>
      <td>CUIDADO: dispositivo de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">INTL-BIN</code></td>
      <td>Cartão de crédito emitido fora do Brasil.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MM-TZTLO</code></td>
      <td>Fuso horário do dispositivo é incompatível com os fusos horários do país.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MUL-EM</code></td>
      <td>O cliente utilizou diversos endereços de email diferentes em várias ordens.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NON-BC</code></td>
      <td>Digitação suspeita no nome da cidade.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NON-FN</code></td>
      <td>O primeiro e último nome do cliente são identicos.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NON-LN</code></td>
      <td>Digitação suspeita no sobrenome do cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-BC</code></td>
      <td>Digitação suspeita no nome da cidade.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-BIN</code></td>
      <td>CUIDADO: BIN do cartão relacionado a transações reportadas como fraudulentas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-DEV</code></td>
      <td>CUIDADO: dispositivo de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-FN</code></td>
      <td>Digitação suspeita no nome do cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-LN</code></td>
      <td>Digitação suspeita no sobrenome do cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-PIP</code></td>
      <td>IP proxy de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-SD</code></td>
      <td>País de envio e de cobrança são diferenres.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-TB</code></td>
      <td>Horário do pedido suspeito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-TIP</code></td>
      <td>Endereço de IP de risco.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RISK-TS</code></td>
      <td>Horário do pedido suspeito.</td>
    </tr>
  </tbody>
</table>

<h2 id="device-fingerprint">Device FingerPrint</h2>

<h3 id="o-que-é-o-dfingerprint">O que é o D.FingerPrint</h3>

<p>O Device FingerPrint é um javascript que uma vez instalado no checkout da loja captura dados de navegação e informações sobre o equipamento utilizado na compra. Essas informações são utlizadas pela AF para identificar compras fora do padrão do comprador.</p>

<h3 id="configurando-fingerprint">Configurando FingerPrint</h3>

<p>Será necessário adicionar duas tags, a <em>script</em> dentro da tag <em>head</em> para uma performance correta e a <em>noscript</em> dentro da tag <em>body</em>, para que a coleta dos dados do dispositivo seja realizada mesmo se o Javascript do browser estiver desabilitado.</p>

<blockquote>
  <p><strong>IMPORTANTE:</strong> Se os 2 segmentos de código não forem colocados na página de checkout, os resultados podem não ser precisos.</p>
</blockquote>

<h4 id="domain">Domain</h4>

<table>
  <thead>
    <tr>
      <th>Ambiente</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Testing</strong></td>
      <td>Use <strong>h.online-metrix.net</strong>, que é o DNS do servidor de fingerprint, como apresentado no exemplo de HTML abaixo</td>
    </tr>
    <tr>
      <td><strong>Production</strong></td>
      <td>Altere o domínio para uma URL local, e configure seu servidor Web para redirecionar esta URL para <strong>h.online-metrix.net</strong></td>
    </tr>
  </tbody>
</table>

<h4 id="variáveis">Variáveis</h4>

<table>
  <thead>
    <tr>
      <th>Variável</th>
      <th>Descrição</th>
      <th>Supermid</th>
      <th>Hierarquia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ProviderOrgId</strong></td>
      <td>Sandbox = 1snn5n9w<br />Produção = k8vif92e</td>
      <td>Use o valor padrão <code class="highlighter-rouge">k8vif92e</code></td>
      <td>Dado exclusivo fornecido pela CyberSource</td>
    </tr>
    <tr>
      <td><strong>ProviderMerchantId</strong></td>
      <td>Identificador da sua loja na Cybersource. Caso não possua, entre em contato com a Cielo</td>
      <td>Use o valor padrão <code class="highlighter-rouge">cielo_webservice</code></td>
      <td>Dado exclusivo fornecido pela CyberSource</td>
    </tr>
    <tr>
      <td><strong>ProviderIdentifier</strong></td>
      <td>Identificador utilizado para cruzar informações obtidas do dispositivo do comprador.Este mesmo identificador deve ser atribuído ao campo <code class="highlighter-rouge">Customer.BrowserFingerprint</code> que será enviado na requisição da análise.<br />Exemplo: 123456789<br />Obs.:Este identificador poderá ser qualquer valor ou o número do pedido, mas deverá ser único durante 48 horas.</td>
      <td>Definido pela loja</td>
      <td>Definido pela loja</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Observação:</strong> O resultado da concatenação entre o campo <code class="highlighter-rouge">ProviderMerchantId</code> e <code class="highlighter-rouge">ProviderIdentifier</code>, deve ser atribuído ao campo session_id do(s) script(s) que serão incluídos na página de checkout.
JavaScript</p>
</blockquote>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/exemploscriptdfp.png" alt="" /></p>

<blockquote>
  <p><strong>IMPORTANTE:</strong> Certifique-se de copiar todos os dados corretamente e de ter substituído as variáveis corretamente pelos respectivos valores.</p>
</blockquote>

<h4 id="configurando-seu-servidor-web">Configurando seu Servidor Web</h4>

<p>Todos os objetos se referem a h.online-metrix.net, que é o DNS do servidor de fingerprint. Quando você estiver pronto para produção, você deve alterar o nome do servidor para uma URL local, e configurar no seu servidor Web um redirecionamento de URL para h.online-metrix.net.</p>

<blockquote>
  <p><strong>IMPORTANTE:</strong> Se você não completar essa seção, você não receberá resultados corretos, e o domínio (URL) do fornecedor de fingerprint ficará visível, sendo mais provável que seu consumidor o bloqueie.</p>
</blockquote>

<h1 id="velocity">Velocity</h1>

<h2 id="o-que-É-velocity">O Que É Velocity</h2>

<p>O Velocity é um tipo de mecanismo de prevenção à tentativas de fraude, que analisa especificamente o conceito de <strong>“velocidade X dados transacionais”</strong>. Ela analisa a frequência que determinados dados são utilizados e se esse dados estão inscritos em uma lista de comportamentos passiveis de ações de segurança.</p>

<p>Para estabelecimentos comerciais que atuam no mercado de comércio eletrônico e eventualmente recebem transações fraudulentas, o Velocity é um produto que identificará os comportamentos suspeitos de fraude. A ferramenta tem o intuito de auxiliar na análise de fraude por um custo bem menor que uma ferramenta mais tradicional de mercado.</p>

<p>Ela é uma aliada na avaliação de comportamentos suspeitos de compra, pois os cálculos serão baseados em <code class="highlighter-rouge">elementos de rastreabilidade</code>.</p>

<p>O Velocity oferece 4 tipos de funcionalidades para validar dados transacionais:</p>

<table>
  <thead>
    <tr>
      <th>Funcionalidade</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Regras de segurança velocity</td>
      <td>O Lojista defini um grupo de regras de segurança que vão avaliar se determinados dados transacionais se repetem em um intervalo de tempo suspeito</td>
    </tr>
    <tr>
      <td>Quarentena</td>
      <td>Criação de uma lista de dados que serão analisados por um periodo de tempo determinado antes de serem considerados validos ou fraudulentos</td>
    </tr>
    <tr>
      <td>BlackList</td>
      <td>Criação de uma lista de dados que ao serem identificados impedem a transação de ser executada, evitando a criação de uma transação fraudulenta</td>
    </tr>
    <tr>
      <td>Whitelist</td>
      <td>Criação de uma lista de dados que ao serem identificados permitem que a transação de seja executada, mesmo que existam regras de segurança em ação</td>
    </tr>
  </tbody>
</table>

<p>A funcionalidade deve ser contratada à parte, e posteriormente habilitada em sua loja pela equipe de Suporte Cielo Ecommerce via o Admin 3.0</p>

<h2 id="integração-1">Integração</h2>

<p>O Velocity funciona analisando dados enviados na integração padrão da API Cielo Ecommerce. Não é necessario incluir nenhuma nó adicional a integração da loja para a criação da venda, mas será necessario alterar a forma como os dados são recebidos <code class="highlighter-rouge">Response</code>.</p>

<p>Quando o Velocity está ativo, a resposta da transação trará um nó específico chamado “Velocity”, com os detalhes da análise.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017051202"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Comprador"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678909"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"comprador@cielo.com.br"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alameda Xingu"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27 andar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"São Paulo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0181"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nome do Portador"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2027"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undefined"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reject"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"RejectReasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"RuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bloqueado pela regra CardNumber. Name: Máximo de 3 Hits de Cartão em 1 dia. HitsQuantity: 3</span><span class="se">\.</span><span class="s2"> HitsTimeRangeInSeconds: 1440</span><span class="se">\.</span><span class="s2"> ExpirationBlockTimeInSeconds: 1440"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AbortedByFraud"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP171"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProviderReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected by fraud risk (velocity)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/2d5e0463-47be-4964-b8ac-622a16a2b6c4"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Id</code></td>
      <td>Identificador da análise efetuada</td>
      <td>GUID</td>
      <td>36</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.ResultMessage</code></td>
      <td>Accept ou Reject</td>
      <td>Texto</td>
      <td>25</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.Score</code></td>
      <td>100</td>
      <td>Número</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.RuleId</code></td>
      <td>Código da Regra que rejeitou</td>
      <td>Número</td>
      <td>10</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">VelocityAnalysis.RejectReasons.Message</code></td>
      <td>Descrição da Regra que rejeitou</td>
      <td>Texto</td>
      <td>512</td>
    </tr>
  </tbody>
</table>

<h1 id="recorrência">Recorrência</h1>

<p>Pagamentos recorrentes são transações de cartão de crédito que devem se repetir após um determinado periodo de tempo.</p>

<p>São pagamentos normalmente encontrados em <strong>assinaturas</strong>, onde o comprador deseja ser cobrado automaticamente, mas não quer informar novamente os dados do cartão de crédito.</p>

<h2 id="tipos-de-recorrências">Tipos de recorrências</h2>

<p>A API Cielo Ecommerce funciona com dois tipos de Recorrencia que possuem comportamentos diferentes.</p>

<ul>
  <li><strong>Recorrência Própria</strong> - Quando a inteligência da repetição e dados do cartão da recorrência ficam sobre responsabilidade do lojista</li>
  <li><strong>Recorrência Programada</strong> - Quando a inteligência da repetição e dados do cartão da recorrência ficam sobre responsabilidade da <strong>Cielo</strong></li>
</ul>

<h3 id="recorrência-própria">Recorrência Própria</h3>

<p>Nesse modelo, o lojista é responsavel por criar a inteligência necessaria para:</p>

<table>
  <thead>
    <tr>
      <th>Inteligência</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Salvar os dados da transação</strong></td>
      <td>A loja precisará armazenar a transação e dados do pagamento</td>
    </tr>
    <tr>
      <td><strong>Criar repetição transacional</strong></td>
      <td>A loja deverá enviar uma nova transação sempre que necessitar de uma Autorização</td>
    </tr>
    <tr>
      <td><strong>Comportamento para transação negada</strong></td>
      <td>Caso uma das transações seja negada, caberá a loja a decisão de “retentar” uma nova autorização</td>
    </tr>
  </tbody>
</table>

<p>Em todas as instancias, a recorrencia programada é uma transação padrão para a Cielo, sendo sua unica diferença a necessidade de enviar um a parametro adicional que a define como <strong>Recorrência Própria</strong></p>

<p><strong>Paramêtro:</strong> <code class="highlighter-rouge">Payment.Recurrent</code>= <code class="highlighter-rouge">True</code></p>

<h4 id="caso-de-uso">Caso de Uso</h4>

<p>Este é um exemplo de como a API Cielo Ecommerce permite a utilização de sistemas externos de recorrência em suas transações</p>

<p>A recorrência própria é uma configuração da API Cielo Ecommerce que permite um lojista utilizar um sistema de recorrência interno especifico as suas necessidades de negócio. 
Nesse modelo, o sistema do lojista é encarregado por definir o período, os dados transacionais, e quando necessário, nos enviar a venda de recorrência.</p>

<p><strong>Veja um exemplo em uso:</strong></p>

<ul>
  <li>Recorrência própria + Cartão Tokenizado</li>
</ul>

<p>A academia CleverFit possui um sistema de cobrança diferenciado, onde a matricula é cobrada quinzenalmente, mas nunca nos fins de semana.</p>

<p>Por ser um modelo altamente customizado, a CleverFit possui um sistema de recorrência própria, utilizando a API Cielo Ecommerce via dois mecanismos:</p>

<ol>
  <li><strong>Recorrência Própria</strong> - A CleverFit envia os dados da transação como uma venda normal, mas a API identifica que é uma recorrência e aplica regras de autorização diferenciada ao pedido.</li>
  <li><strong>Cartão Tokenizado</strong> - A CleverFit mantem os cartões salvos via a tokenização, diminuindo o risco de assegurar os dados  transacionais em seu sistema.</li>
</ol>

<p>A CleverFit envia a transação quinzenalmente a API Cielo Ecommerce, usando os Tokens salvos na própria API e optando pela Recorrência Própria, que altera a regra de autorização para se adequar a seu modelo de cobrança</p>

<h3 id="recorrência-programada">Recorrência Programada</h3>

<p>Nesse modelo, a Cielo é responsavel pela inteligência necessaria para executar uma recorrência de maneira automatica.</p>

<p>A <strong>Recorrência Programada</strong> permite que o lojista crie uma transação base, que ao ser enviada para a API Cielo Ecommerce, será salva e executada seguindo as regras definidas pelo lojista.</p>

<p>Nesse modelo, a API realiza e permite:</p>

<table>
  <thead>
    <tr>
      <th>Vantagens</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Salva dados transacionais</strong></td>
      <td>Salva dados da transação, criando assim um modelo de como serão as proximas Recorrências</td>
    </tr>
    <tr>
      <td><strong>Automatiza a recorrência</strong></td>
      <td>Sem atuação da loja, a API cria as transações futuras de acordo com as definições do lojista</td>
    </tr>
    <tr>
      <td><strong>Permite atualização de dados</strong></td>
      <td>Caso necessario, a API permite modificações das informações da transação ou do ciclo de recorrência</td>
    </tr>
  </tbody>
</table>

<p>A Recorrencia Programada é formada por uma estrutura transacional simples. O Lojista deverá informa na transação os seguintes dados:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"False"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="s2">"2019-06-01"</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Onde podemos definir os dados como:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtros</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Define que qual o momento que uma recorrencia será criada. Se for enviado como <code class="highlighter-rouge">True</code>, ela é criada no momento da autorização, se <code class="highlighter-rouge">False</code>, a recorrencia ficará suspensaaté a data escolhida para ser iniciada.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">StartDate</code></td>
      <td>Define a data que transação da Recorrência Programada será autorizada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Define a data que a Recorrência Programada será encerrada. Se não for enviada, a Recorrência será executada até ser cancelada pelo lojista</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly - Mensal Bimonthly - Bimestral Quarterly - Trimestral SemiAnnual - Semestral Annual - Anual</td>
    </tr>
  </tbody>
</table>

<p>Quando uma transação é enviada a API Cielo Ecommerce com o nó de Recorrência Programada, o processo de recorrencia passa a ser efetivo quando a transação é considerada <strong>AUTORIZADA</strong>.</p>

<p>Desse ponto em diante, ela passará a ocorre dentro do intervalo definido pelo lojista.</p>

<p>Caracteristicas importantes da <strong>Recorrência Programada</strong>:</p>

<table>
  <thead>
    <tr>
      <th>Informação</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Criação</strong></td>
      <td>A primeira transação é chamada de <strong>“Transação de agendamento”</strong>, todas as transações posteriores serão cópias dessa primeira transação. Ela não precisa ser capturada para que a recorrencia seja criada, basta ser <strong>AUTORIZADA</strong></td>
    </tr>
    <tr>
      <td><strong>Captura</strong></td>
      <td>Transações de Recorrência Programada não precisam ser capturadas. Após a primeira transação, todas as transações de recorrencia são capturadas automaticamente pela API</td>
    </tr>
    <tr>
      <td><strong>Identificação</strong></td>
      <td>Transações de Recorrência Programada geram dois tipos de identificação:<br /><strong>PAYMENTID</strong>: Identifica 1 transação. É o mesmo identificador das outras transações na API    <br /><strong>RECURRENTPAYMENTID</strong>: Identifica Pedido de recorrencia. Um RecurrentPaymentID possui inumeros PaymentID vinculados a ela. Essa é a variavel usada para Cancelar uma Recorrencia Programada</td>
    </tr>
    <tr>
      <td><strong>Consultando</strong></td>
      <td>Para consultar, basta usar um dos dois tipos de identificação:<br /><strong>PAYMENTID</strong>: Utilizada para consultar UMA TRANSAÇÃO DENTRO DA RECORRÊNCIA    <br /><strong>RECURRENTPAYMENTID</strong>: Utilizado para consultar A RECORRÊNCIA.</td>
    </tr>
    <tr>
      <td><strong>Cancelamento</strong></td>
      <td>Uma Recorrencia Programada pode ser cancelada de duas maneiras: <br /><strong>Lojista</strong>: Solicita o cancelamento da recorrencia. Não cancela transações ja finalizadas antes da ordem de cancelamento da recorrência.  <br /><strong>Por cartão invalido</strong>: Caso a API identifique que um cartão salvo está invalido (EX: Expirado) a recorrência será cancelada e não se repetirá, até que o lojista atualize o meio de pagamento. <br /> <strong>OBS:</strong> Cancelamento de transações dentro da recorrência não encerra o agendamento de transações futuras. Somente o Cancelamento usando o <strong>RecurrentPaymentID</strong> encerra agendamentos futuros.</td>
    </tr>
  </tbody>
</table>

<p><strong>Estrutura de um RecurrentPaymentID</strong></p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/recpaymentid.png" alt="" /></p>

<p><strong>Fluxo de uma Recorrência Programada</strong></p>

<p><img src="https://developercielo.github.io/images/apicieloecommerce/fluxosrecprog.png" alt="" /></p>

<h4 id="caso-de-uso-1">Caso de uso</h4>

<p>Este é um exemplo de como usar as recorrências da API Cielo Ecommerce para elevar suas vendas:</p>

<p>A recorrência é o processo de salvar uma transação e repeti-la em um intervalo de tempo predefinido. Ideal para modelo de assinaturas.</p>

<p>A recorrência programada cielo tem as seguintes características:</p>

<ul>
  <li><strong>Intervalos programados:</strong> Mensal, bimestral, trimestral semestral e anual</li>
  <li><strong>Data de validade:</strong> Permite definir se a recorrência vai se encerrar</li>
  <li><strong>Retentativa:</strong> se uma transação for negada, vamos retentar a transação até 4x</li>
  <li><strong>Atualização:</strong> Permite alterar dados da recorrência, como valor, intervalo.</li>
</ul>

<p>Veja um exemplo em uso:</p>

<ul>
  <li><strong>Recorrência Mensal e anual</strong></li>
</ul>

<p>A empresa Musicfy oferece um serviço de assinatura de online onde seus clientes pagam para poderem acessar uma biblioteca de músicas e ouvi-las via streaming.</p>

<p>Para captar o máximo de clientes, eles oferecem 2 maneiras de pagamento:</p>

<ul>
  <li>Mensal por R$19,90</li>
  <li>Anual (com desconto) de R$180,00</li>
</ul>

<p>Como eles executam a cobrança mensal ou anual de seus clientes?</p>

<p>A MusicFy utiliza a Recorrência programada da API Cielo Ecommerce.</p>

<p>Ao criar uma transação, o Musicfy informa que o pedido em questão deve ser repetir mensalmente ou anualmente e que não há data de termino para a cobrança.</p>

<p>Quais as vantagens de usar a recorrência programada para o MusicFy:</p>

<ol>
  <li>
    <p><strong>Facilidade:</strong> A cobrança de mensalidade é automática, logo o MusicFy não precisa se preocupar em construir um sistema de cobrança.</p>
  </li>
  <li>
    <p><strong>Usabilidade:</strong> O valor das assinaturas pode ser atualizado sem a necessidade de refazer a transação. Um mês pode ser cancelado ou a recorrência pode ter um delay ( o modelo de 30 dias gratuito) com apenas uma configuração.</p>
  </li>
  <li>
    <p><strong>Segurança:</strong> Não é necessário armazenar dados sensíveis do cartão e do comprador junto a loja.</p>
  </li>
  <li>
    <p><strong>Conversão:</strong> A recorrência programada cielo possui um sistema de retentativa automática. Caso uma das transações seja negada, ela será retentada até 4 vezes, buscando atingir a autorização.</p>
  </li>
</ol>

<h2 id="criando-recorrências">Criando Recorrências</h2>

<h3 id="criando-uma-recorrência-própria">Criando uma Recorrência Própria</h3>

<p>Para criar uma venda recorrente cuja o processo de recorrência e intervalo serão executados pela propria loja, basta fazer um POST conforme o exemplo.</p>

<p>O paramêtro <code class="highlighter-rouge">Payment.Recurrent</code>deve ser <code class="highlighter-rouge">true</code>, caso contrario, a transação será negada.</p>

<h4 id="requisição-17">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador rec propria"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec propria"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>marcação de uma transação de recorrencia não programada</td>
      <td>boolean</td>
      <td>5</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-23">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec propria"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec propria"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">true</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Recurrent</code></td>
      <td>marcação de uma transação de recorrencia não programada</td>
      <td>boolean</td>
      <td>5</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="criando-uma-recorrência-programada">Criando uma Recorrência Programada</h3>

<p>Para criar uma venda recorrente cuja a primeira recorrência é autorizada com a forma de pagamento cartão de crédito, basta fazer um POST conforme o exemplo.</p>

<aside class="notice">Atenção: Nessa modalidade de recorrência, a primeira transação deve ser capturada. Todas as transações posteriores serão capturadas automaticamente.</aside>

<h4 id="requisição-18">Requisição</h4>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador rec programada"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Data para termino da recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrência já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-24">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3827556"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0504043827555"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149867"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"3827556"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0504043827555"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"149867"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"737a8d9a-88fe-4f74-931f-acf81149f4a0"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"61e5bd30-ec11-44b3-ba0a-56fbbc8274c5"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-11-04"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly  / Quarterly  / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h2 id="agendando-uma-recorrência-programada">Agendando uma Recorrência Programada</h2>

<p>Para criar uma venda recorrente cuja a primeira recorrência não será autorizada na mesma data com a forma de pagamento cartão de crédito, basta fazer um POST conforme o exemplo.</p>

<h3 id="requisição-19">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador rec programada"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="s2">"2015-06-01"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador rec programada"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"false"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>,
       <span class="s2">"StartDate"</span>:<span class="s2">"2015-06-01"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador.</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-25">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador rec programada"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"RecurrentPaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"NextRecurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"StartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SemiAnnual"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Link"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurrentPayment"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador rec programada"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 1500,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 20,
        <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
            <span class="s2">"RecurrentPaymentId"</span>: <span class="s2">"0d2ff85e-594c-47b9-ad27-bb645a103db4"</span>,
            <span class="s2">"NextRecurrency"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"StartDate"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
            <span class="s2">"Interval"</span>: <span class="s2">"SemiAnnual"</span>,
            <span class="s2">"Link"</span>: <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"recurrentPayment"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="s2">"AuthorizeNow"</span>: <span class="nb">false</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">StartDate</code></td>
      <td>Data do inicio da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly  / Quarterly  / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<h2 id="modificando-recorrências">Modificando Recorrências</h2>

<h3 id="modificando-dados-do-comprador">Modificando dados do comprador</h3>

<p>Para alterar os dados do comprador da Recorrência, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-20">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Customer</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"customer@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1999-12-12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"22658954236"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"174"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 201"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241140"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DeliveryAddress"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Outra Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 111"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"21241111"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Qualquer Lugar"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"QL"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"District"</span><span class="p">:</span><span class="s2">"Teste"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Customer"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Customer"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"customer@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1999-12-12"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"22658954236"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"174"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 201"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241140"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
      <span class="s2">"DeliveryAddress"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Outra Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 111"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"21241111"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Qualquer Lugar"</span>,
         <span class="s2">"State"</span>:<span class="s2">"QL"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>,
        <span class="s2">"District"</span>:<span class="s2">"Teste"</span>
      <span class="o">}</span>
   <span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Email do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Data de nascimento do Comprador.</td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Endereço do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Number</code></td>
      <td>Número do endereço do Comprador.</td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Complemento do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>CEP do endereço do Comprador.</td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Cidade do endereço do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Estado do endereço do Comprador.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Pais do endereço do Comprador.</td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.District</code></td>
      <td>Bairro do Comprador.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-26">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-data-final-da-recorrência">Modificando data final da Recorrência</h3>

<p>Para alterar a data final da Recorrência, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-21">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/EndDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="s2">"2021-01-09"</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/EndDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2021-01-09"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data para termino da recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-27">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
HTTP Status 200

</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-intevalo-da-recorrência">Modificando intevalo da Recorrência</h3>

<p>Para alterar o Intervalo da Recorrência, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-22">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Interval</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="mi">6</span><span class="w">

</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Interval"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
6
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly = 1 <br />Bimonthly = 2<br />Quarterly = 3<br />SemiAnnual = 6<br />Annual = 12<br /></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-28">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificar-dia-da-recorrência">Modificar dia da Recorrência</h3>

<p>Para modificar o dia da recorrência, basta fazer um Put conforme o exemplo.</p>

<aside class="notice">Regra: Se o novo dia informado for depois do dia atual, iremos atualizar o dia da recorrência com efeito na próxima recorrência Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 10, a data da próxima recorrência será dia10/05. Se o novo dia informado for antes do dia atual, iremos atualizar o dia da recorrência, porém este só terá efeito depois que a próxima recorrência for executada com sucesso. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/05. Quando eu atualizar para o dia 3, a data da próxima recorrência permanecerá dia 25/05, e após ela ser executada, a próxima será agendada para o dia 03/06. Se o novo dia informado for antes do dia atual, mas a próxima recorrência for em outro mês, iremos atualizar o dia da recorrência com efeito na próxima recorrência. Ex.: Hoje é dia 5, e a próxima recorrência é dia 25/09. Quando eu atualizar para o dia 3, a data da próxima recorrência será 03/09</aside>

<h4 id="requisição-23">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">16</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/RecurrencyDay"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
16
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrencyDay</code></td>
      <td>Dia da Recorrência.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-29">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-o-valor-da-recorrência">Modificando o valor da Recorrência</h3>

<p>Para modificar o valor da recorrência, basta fazer um Put conforme o exemplo.</p>

<h4 id="requsição">Requsição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Amount</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">156</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Amount"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
156
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido em centavos: 156 equivale a R$ 1,56</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<aside class="warning">Essa alteração só afeta a data de pagamento da próxima recorrência.</aside>

<h4 id="resposta-30">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-data-do-próximo-pagamento">Modificando data do próximo Pagamento</h3>

<p>Para alterar a data do próximo Pagamento, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-24">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"2016-06-15"</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/NextPaymentDate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="s2">"2016-06-15"</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextPaymentDate</code></td>
      <td>Data de pagamento da próxima recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-31">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="modificando-dados-do-pagamento-da-recorrência">Modificando dados do Pagamento da Recorrência</h3>

<p>Para alterar os dados de pagamento da Recorrência, basta fazer um Put conforme o exemplo.</p>

<aside class="notice">Atenção: Essa alteração afeta a todos os dados do nó Payment. Então para manter os dados anteriores você deve informar os campos que não vão sofre alterações com os mesmos valores que já estavam salvos.</aside>

<h4 id="requisição-25">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Payment</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Amount"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teset card"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341232"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Payment"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
   <span class="s2">"Amount"</span>:<span class="s2">"123"</span>,
   <span class="s2">"Installments"</span>:3,
   <span class="s2">"Country"</span>:<span class="s2">"USA"</span>,
   <span class="s2">"Currency"</span>:<span class="s2">"BRL"</span>,
   <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
   <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
      <span class="s2">"Brand"</span>:<span class="s2">"Master"</span>,
      <span class="s2">"Holder"</span>:<span class="s2">"Teset card"</span>,
      <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341232"</span>,
      <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-32">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="desabilitando-um-pedido-recorrente">Desabilitando um Pedido Recorrente</h3>

<p>Para desabilitar um pedido recorrente, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-26">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Deactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-33">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h3 id="reabilitando-um-pedido-recorrente">Reabilitando um Pedido Recorrente</h3>

<p>Para Reabilitar um pedido recorrente, basta fazer um Put conforme o exemplo.</p>

<h4 id="requisição-27">Requisição</h4>

<aside class="request"><span class="method put">PUT</span> <span class="endpoint">/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> PUT <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/RecurrentPayment/{RecurrentPaymentId}/Reactivate"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Numero de identificação da Recorrência.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-34">Resposta</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP Status 200
</code></pre></div></div>

<p>Veja o Anexo <a href="#http-status-code">HTTP Status Code</a> para a lista com todos os códigos de status HTTP possivelmente retornados pela API.</p>

<h2 id="renova-facil">Renova Facil</h2>

<p>O uso desta funcionalidade permite a substituição automática de um cartão vencido .
Dessa forma, quando uma transação com marcação de recorrente for submetida para a API e a Cielo identificar que o cartão utilizado foi substituído, sua autorização será negada e serão retornados os dados do novo cartão conforme exemplo.</p>

<aside class="notice">Atenção: Necessário solicitar a habilitação desta funcionalidade no cadastro  </aside>

<h3 id="requisição-28">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Renova facil"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"RecurrentPayment"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Interval"</span><span class="p">:</span><span class="s2">"SemiAnnual"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
    <span class="o">{</span>
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014113245231706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Renova facil"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:1500,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"RecurrentPayment"</span>:<span class="o">{</span>
       <span class="s2">"AuthorizeNow"</span>:<span class="s2">"true"</span>,
       <span class="s2">"EndDate"</span>:<span class="s2">"2019-12-01"</span>,
       <span class="s2">"Interval"</span>:<span class="s2">"SemiAnnual"</span>
     <span class="o">}</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"1234123412341231"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"false"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>6</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.EndDate</code></td>
      <td>Data para termino da recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.Interval</code></td>
      <td>Intervalo da recorrência.<br />Monthly (Default) Bimonthly Quarterly SemiAnnual Annual</td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.RecurrentPayment.AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrência já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Data de validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-35">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014113245231706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador  Renova facil"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123412******1231"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480685P4611AQ9B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NewCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000000000000000"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10/2020"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-26 14:14:21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RecurrentPayment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ReasonCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ReasonMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denied"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AuthorizeNow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014113245231706"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Comprador  Renova facil"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: 0,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"CardNumber"</span>: <span class="s2">"123412******1231"</span>,
      <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
      <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"Tid"</span>: <span class="s2">"10447480685P4611AQ9B"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"087001"</span>,
    <span class="s2">"SoftDescriptor"</span>: <span class="s2">"123456789ABCD"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Cielo"</span>,
    <span class="s2">"Eci"</span>: <span class="s2">"0"</span>,
    <span class="s2">"NewCard"</span>: <span class="o">{</span>
       <span class="s2">"CardNumber"</span>: <span class="s2">"40000000000000000"</span>,
       <span class="s2">"ExpirationDate"</span>: <span class="s2">"10/2020"</span>,
       <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
        <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"VelocityAnalysis"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
      <span class="s2">"ResultMessage"</span>: <span class="s2">"Accept"</span>,
      <span class="s2">"Score"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"94f06657-c715-45d2-a563-63f7dbb19e08"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 1500,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2016-12-26 14:14:21"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"KA"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Autorizacao negada"</span>,
    <span class="s2">"Status"</span>: 3,
    <span class="s2">"RecurrentPayment"</span>: <span class="o">{</span>
      <span class="s2">"ReasonCode"</span>: 7,
      <span class="s2">"ReasonMessage"</span>: <span class="s2">"Denied"</span>,
      <span class="s2">"EndDate"</span>: <span class="s2">"2019-12-01"</span>,
      <span class="s2">"Interval"</span>: 6,
      <span class="s2">"AuthorizeNow"</span>: <span class="nb">true</span>
    <span class="o">}</span>,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquery.cieloecommerce.cielo.com.br/1/sales/94f06657-c715-45d2-a563-63f7dbb19e08"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RecurrentPaymentId</code></td>
      <td>Campo Identificador da próxima recorrência.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NextRecurrency</code></td>
      <td>Data da próxima recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EndDate</code></td>
      <td>Data do fim da recorrência.</td>
      <td>Texto</td>
      <td>7</td>
      <td>12/2030 (MM/YYYY)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Interval</code></td>
      <td>Intervalo entre as recorrência.</td>
      <td>Texto</td>
      <td>10</td>
      <td>/ Monthly / Bimonthly  / Quarterly  / SemiAnnual / Annual</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizeNow</code></td>
      <td>Booleano para saber se a primeira recorrencia já vai ser Autorizada ou não.</td>
      <td>Booleano</td>
      <td>—</td>
      <td>true ou false</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">NewCard.CardNumber</code></td>
      <td>Novo número do Cartão do Comprador.</td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.ExpirationDate</code></td>
      <td>nova data de validade do cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">NewCard.SaveCard</code></td>
      <td>Identifica se o cartão gerou Cardtoken durante a transação</td>
      <td>Booleano</td>
      <td>—</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="bandeiras-e-emissores-habilitados">Bandeiras e Emissores Habilitados</h3>

<p>Bandeiras e Emissores que já estão com o Renova Facil habilitados:</p>

<table>
  <thead>
    <tr>
      <th>Emissores</th>
      <th>VISA</th>
      <th>MASTER</th>
      <th>ELO</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">BRADESCO</code></td>
      <td>Sim</td>
      <td>Sim</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BANCO DO BRASIL</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SANTADER</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CITI</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">BANCO PAN</code></td>
      <td>Sim</td>
      <td>—</td>
      <td>—</td>
    </tr>
  </tbody>
</table>

<h1 id="tokenização-de-cartões">Tokenização de cartões</h1>

<h2 id="o-que-é-a-tokenização-de-cartões">O que é a Tokenização de Cartões:</h2>

<p>É uma plataforma que permite o armazenamento seguro de dados sensíveis de cartão de crédito. Estes dados são transformados em um código criptografrado chamado de “token”, que poderá ser armazenado em banco de dados. Com a plataforma, a loja poderá oferecer recursos como “Compra com 1 clique” e “Retentativa de envio de transação”, sempre preservando a integridade e a confidencialidade das informações.</p>

<h2 id="criando-um-cartão-tokenizado">Criando um Cartão Tokenizado</h2>

<p>Para salvar um cartão sem autoriza-lo, basta realizar um posto com os dados do cartão.</p>

<h3 id="requisição-29">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/card/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"CustomerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4532117080573700"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Comprador T Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/card/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"CustomerName"</span>: <span class="s2">"Comprador Teste Cielo"</span>,
    <span class="s2">"CardNumber"</span>:<span class="s2">"4532117080573700"</span>,
    <span class="s2">"Holder"</span>:<span class="s2">"Comprador T Cielo"</span>,
    <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
    <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardNumber</code></td>
      <td>Texto</td>
      <td>16</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Sim</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover).</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-36">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"CardToken"</span>: <span class="s2">"db62dc71-d07b-4745-9969-42697b988ccb"</span>,
  <span class="s2">"Links"</span>: <span class="o">{</span>
    <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
    <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
    <span class="s2">"Href"</span>: <span class="s2">"https://apiquerydev.cieloecommerce.cielo.com.br/1/card/db62dc71-d07b-4745-9969-42697b988ccb"</span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Cardtoken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-um-cartão-tokenizado-durante-uma-autorização">Criando um Cartão Tokenizado durante uma autorização</h2>

<p>Para salvar um cartão, criando seu token, basta enviar uma requisição padrão de criação de venda, enviado SaveCard como “ true”. O response retornará o Token do cartão.</p>

<h3 id="requisição-30">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"true"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.br</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Pais na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-37">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span>
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cardtoken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="tokenização-de-bandeira">Tokenização de Bandeira</h2>

<p>Clientes que fazem tokenização do cartão junto com as bandeiras poderão enviar as informações para a Cielo no fluxo transacional.</p>

<h3 id="requisição-31">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111701"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Address"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Street"</span><span class="p">:</span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Number"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Complement"</span><span class="p">:</span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"City"</span><span class="p">:</span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"State"</span><span class="p">:</span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="w">
      </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Country"</span><span class="p">:</span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Interest"</span><span class="p">:</span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Capture"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Cryptogram"</span><span class="p">:</span><span class="s2">"abcdefghijklmnopqrstuvw=="</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111701"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>,
      <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
      <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
      <span class="s2">"Email"</span>:<span class="s2">"compradorteste@teste.com"</span>,
      <span class="s2">"Birthdate"</span>:<span class="s2">"1991-01-02"</span>,
      <span class="s2">"Address"</span>:<span class="o">{</span>  
         <span class="s2">"Street"</span>:<span class="s2">"Rua Teste"</span>,
         <span class="s2">"Number"</span>:<span class="s2">"123"</span>,
         <span class="s2">"Complement"</span>:<span class="s2">"AP 123"</span>,
         <span class="s2">"ZipCode"</span>:<span class="s2">"12345987"</span>,
         <span class="s2">"City"</span>:<span class="s2">"Rio de Janeiro"</span>,
         <span class="s2">"State"</span>:<span class="s2">"RJ"</span>,
         <span class="s2">"Country"</span>:<span class="s2">"BRA"</span>
      <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:15700,
     <span class="s2">"ServiceTaxAmount"</span>:0,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"Interest"</span>:<span class="s2">"ByMerchant"</span>,
     <span class="s2">"Capture"</span>:true,
     <span class="s2">"Authenticate"</span>:false,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardNumber"</span>:<span class="s2">"4551870000000183"</span>,
         <span class="s2">"Holder"</span>:<span class="s2">"Teste Holder"</span>,
         <span class="s2">"Cryptogram"</span>:<span class="s2">"abcdefghijklmnopqrstuvw=="</span>,
         <span class="s2">"ExpirationDate"</span>:<span class="s2">"12/2030"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"123"</span>,
         <span class="s2">"SaveCard"</span>:<span class="s2">"true"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Identity</code></td>
      <td>Texto</td>
      <td>14</td>
      <td>Não</td>
      <td>Número do RG, CPF ou CNPJ do Cliente.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.IdentityType</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Tipo de documento de identificação do comprador (CFP/CNPJ).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Email</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Email do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Birthdate</code></td>
      <td>Date</td>
      <td>10</td>
      <td>Não</td>
      <td>Data de nascimento do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.br</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Street</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Address.Number</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>Não</td>
      <td>Número do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Complement</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Complemento do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.ZipCode</code></td>
      <td>Texto</td>
      <td>9</td>
      <td>Não</td>
      <td>CEP do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.City</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Não</td>
      <td>Cidade do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.State</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Não</td>
      <td>Estado do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.DeliveryAddress.Country</code></td>
      <td>Texto</td>
      <td>35</td>
      <td>Não</td>
      <td>Pais do endereço do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Currency</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Moeda na qual o pagamento será feito (BRL).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Country</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Não</td>
      <td>Pais na qual o pagamento será feito.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Provider</code></td>
      <td>Texto</td>
      <td>15</td>
      <td>—</td>
      <td>Define comportamento do meio de pagamento (ver Anexo)/NÃO OBRIGATÓRIO PARA CRÉDITO.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Interest</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Não</td>
      <td>Tipo de parcelamento - Loja (ByMerchant) ou Cartão (ByIssuer).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Capture</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica que a autorização deve ser com captura automática.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Authenticate</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Define se o comprador será direcionado ao Banco emissor para autenticação do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ServiceTaxAmount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Não</td>
      <td>Aplicável apenas para empresas aéreas. Montante do valor da autorização que deve ser destinado à taxa de serviço. Obs.: Esse valor não é adicionado ao valor da autorização.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.CardNumber</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador. A indicação de que o CardNumber deve ser preenchido com o DPAN para caso de tokenização de bandeira.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Holder</code></td>
      <td>Texto</td>
      <td>25</td>
      <td>Não</td>
      <td>Nome do Comprador impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Cryptogram</code></td>
      <td>Texto</td>
      <td>28</td>
      <td>Não</td>
      <td>Criptograma gerado pela bandeira.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.ExpirationDate</code></td>
      <td>Texto</td>
      <td>7</td>
      <td>Sim</td>
      <td>Data de validade impresso no cartão.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.SaveCard</code></td>
      <td>Booleano</td>
      <td>—</td>
      <td>Não (Default false)</td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-38">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compradorteste@teste.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1991-01-02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DeliveryAddress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rua Teste"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Complement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AP 123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ZipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345987"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rio de Janeiro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RJ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305020554239"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CapturedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>,
        <span class="s2">"Identity"</span>:<span class="s2">"11225468954"</span>,
        <span class="s2">"IdentityType"</span>:<span class="s2">"CPF"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"compradorteste@teste.com"</span>,
        <span class="s2">"Birthdate"</span>: <span class="s2">"1991-01-02"</span>,
        <span class="s2">"Address"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>,
        <span class="s2">"DeliveryAddress"</span>: <span class="o">{</span>
            <span class="s2">"Street"</span>: <span class="s2">"Rua Teste"</span>,
            <span class="s2">"Number"</span>: <span class="s2">"123"</span>,
            <span class="s2">"Complement"</span>: <span class="s2">"AP 123"</span>,
            <span class="s2">"ZipCode"</span>: <span class="s2">"12345987"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Rio de Janeiro"</span>,
            <span class="s2">"State"</span>: <span class="s2">"RJ"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">true</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"CardNumber"</span>: <span class="s2">"455187******0183"</span>,
            <span class="s2">"Holder"</span>: <span class="s2">"Teste Holder"</span>,
            <span class="s2">"ExpirationDate"</span>: <span class="s2">"12/2030"</span>,
            <span class="s2">"SaveCard"</span>: <span class="nb">true</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"d37bf475-307d-47be-b50a-8dcc38c5056c"</span>
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"674532"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0305020554239"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"123456"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 15700,
        <span class="s2">"CapturedAmount"</span>: 15700,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 2,
        <span class="s2">"ReturnCode"</span>: <span class="s2">"6"</span>,
        <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cardtoken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-venda-com-cartão-tokenizado">Criando uma venda com Cartão Tokenizado</h2>

<p>Para criar uma venda de cartão de crédito com token do cartão protegido, é necessário fazer um POST para o recurso Payment conforme o exemplo.</p>

<h3 id="requisição-32">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"262"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador Teste"</span>
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
         <span class="s2">"CardToken"</span>:<span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
         <span class="s2">"SecurityCode"</span>:<span class="s2">"262"</span>,
         <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - não permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.ReturnUrl</code></td>
      <td>URI para onde o usuário será redirecionado após o fim do pagamento</td>
      <td>Texto</td>
      <td>1024</td>
      <td>Sim quando Authenticate = true</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-39">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Teste"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5036294"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0310025036294"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319285"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
        <span class="o">{</span>
    <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Comprador Teste"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"ServiceTaxAmount"</span>: 0,
        <span class="s2">"Installments"</span>: 1,
        <span class="s2">"Interest"</span>: <span class="s2">"ByMerchant"</span>,
        <span class="s2">"Capture"</span>: <span class="nb">false</span>,
        <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
        <span class="s2">"CreditCard"</span>: <span class="o">{</span>
            <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
            <span class="s2">"CardToken"</span>: <span class="s2">"6e1bf77a-b28b-4660-b14f-455e2a1c95e9"</span>,
            <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
        <span class="o">}</span>,
        <span class="s2">"ProofOfSale"</span>: <span class="s2">"5036294"</span>,
        <span class="s2">"Tid"</span>: <span class="s2">"0310025036294"</span>,
        <span class="s2">"AuthorizationCode"</span>: <span class="s2">"319285"</span>,
        <span class="s2">"SoftDescriptor"</span>:<span class="s2">"123456789ABCD"</span>,
        <span class="s2">"PaymentId"</span>: <span class="s2">"c3ec8ec4-1ed5-4f8d-afc3-19b18e5962a8"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
        <span class="s2">"ExtraDataCollection"</span>: <span class="o">[]</span>,
        <span class="s2">"Status"</span>: 1,
        <span class="s2">"Links"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
                <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
                <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h2 id="criando-uma-venda-com-cartão-tokenizado-na-15">Criando uma venda com Cartão Tokenizado na 1.5</h2>

<p>Para criar uma venda de cartão de crédito com token do webservice 1.5, é necessário fazer um POST para o recurso Payment conforme o exemplo.</p>

<p>Para uso em Sandbox, é possivel simular transações autorizadas ou negadas via tokens de teste:</p>

<table>
  <thead>
    <tr>
      <th>Status</th>
      <th>Token</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autorizado</td>
      <td>6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeA</td>
    </tr>
    <tr>
      <td>Negado</td>
      <td>6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeB</td>
    </tr>
  </tbody>
</table>

<h3 id="requisição-33">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador token 1.5"</span><span class="w">     
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
        </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"MerchantId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--header</span> <span class="s2">"MerchantKey: 0123456789012345678901234567890123456789"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>  
   <span class="s2">"MerchantOrderId"</span>:<span class="s2">"2014111706"</span>,
   <span class="s2">"Customer"</span>:<span class="o">{</span>  
      <span class="s2">"Name"</span>:<span class="s2">"Comprador token 1.5"</span>     
   <span class="o">}</span>,
   <span class="s2">"Payment"</span>:<span class="o">{</span>  
     <span class="s2">"Type"</span>:<span class="s2">"CreditCard"</span>,
     <span class="s2">"Amount"</span>:100,
     <span class="s2">"Installments"</span>:1,
     <span class="s2">"CreditCard"</span>:<span class="o">{</span>  
        <span class="s2">"CardToken"</span>:<span class="s2">"6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeA"</span>,
        <span class="s2">"Brand"</span>:<span class="s2">"Visa"</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API Cielo eCommerce.</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Chave Publica para Autenticação Dupla na API Cielo eCommerce.</td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT</td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Numero de identificação do Pedido.</td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Nome do Comprador.</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING) - Utilizado pela análise de fraude</td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Tipo do Meio de Pagamento.</td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número de Parcelas.</td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardToken</code></td>
      <td>Token de identificação do Cartão.</td>
      <td>Guid</td>
      <td>300</td>
      <td>Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Bandeira do cartão.</td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-40">Resposta</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador token 1.5"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0307050140148"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"140148"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"045189"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simulado"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8c14cdcf-d5a9-46b0-b040-c0d054cd8f76"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-07 17:01:40"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76/capture"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76/void"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
  <span class="s2">"MerchantOrderId"</span>: <span class="s2">"2014111706"</span>,
  <span class="s2">"Customer"</span>: <span class="o">{</span>
    <span class="s2">"Name"</span>: <span class="s2">"Comprador token 1.5"</span>
  <span class="o">}</span>,
  <span class="s2">"Payment"</span>: <span class="o">{</span>
    <span class="s2">"ServiceTaxAmount"</span>: 0,
    <span class="s2">"Installments"</span>: 1,
    <span class="s2">"Interest"</span>: 0,
    <span class="s2">"Capture"</span>: <span class="nb">false</span>,
    <span class="s2">"Authenticate"</span>: <span class="nb">false</span>,
    <span class="s2">"Recurrent"</span>: <span class="nb">false</span>,
    <span class="s2">"CreditCard"</span>: <span class="o">{</span>
      <span class="s2">"SaveCard"</span>: <span class="nb">false</span>,
      <span class="s2">"CardToken"</span>: <span class="s2">"6fb7a669aca457a9e43009b3d66baef8bdefb49aa85434a5adb906d3f920bfeA"</span>,
      <span class="s2">"Brand"</span>: <span class="s2">"Visa"</span>
    <span class="o">}</span>,
    <span class="s2">"Tid"</span>: <span class="s2">"0307050140148"</span>,
    <span class="s2">"ProofOfSale"</span>: <span class="s2">"140148"</span>,
    <span class="s2">"AuthorizationCode"</span>: <span class="s2">"045189"</span>,
    <span class="s2">"Provider"</span>: <span class="s2">"Simulado"</span>,
    <span class="s2">"PaymentId"</span>: <span class="s2">"8c14cdcf-d5a9-46b0-b040-c0d054cd8f76"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"CreditCard"</span>,
    <span class="s2">"Amount"</span>: 100,
    <span class="s2">"ReceivedDate"</span>: <span class="s2">"2017-03-07 17:01:40"</span>,
    <span class="s2">"Currency"</span>: <span class="s2">"BRL"</span>,
    <span class="s2">"Country"</span>: <span class="s2">"BRA"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"4"</span>,
    <span class="s2">"ReturnMessage"</span>: <span class="s2">"Operation Successful"</span>,
    <span class="s2">"Status"</span>: 1,
    <span class="s2">"Links"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"GET"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"self"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"capture"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76/capture"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">"Method"</span>: <span class="s2">"PUT"</span>,
        <span class="s2">"Rel"</span>: <span class="s2">"void"</span>,
        <span class="s2">"Href"</span>: <span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/8c14cdcf-d5a9-46b0-b040-c0d054cd8f76/void"</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
  </tbody>
</table>

<h1 id="consulta-bin">Consulta Bin</h1>

<p>O “<strong>Consulta de Bins</strong>”  é um serviço de <strong>pesquisa de dados do cartão</strong>, de crédito ou débito, que retorna ao lojista da API Cielo e-Commerce informações que permitem validar os dados preenchidos na tela do checkout. O serviço retorna os seguintes dados sobre o cartão:</p>

<ul>
  <li><strong>Bandeira do cartão:</strong> Nome da Bandeira</li>
  <li><strong>Tipo de cartão:</strong> Crédito, Débito ou Múltiplo (Crédito e Débito)</li>
  <li><strong>Nacionalidade do cartão:</strong> Estrangeiro ou Nacional</li>
  <li><strong>Cartão Corporativo:</strong> Se o cartão é ou não é corporativo</li>
  <li><strong>Banco Emissor:</strong> Código e Nome</li>
</ul>

<p>Essas informações permitem tomar ações no momento do checkout para melhorar a conversão da loja.</p>

<aside class="warning">O Consulta Bin deve ser habilitado pelo Suporte Cielo. Entre em contato com a equipe de Suporte e solicite a habilitação para sua loja.</aside>

<h2 id="caso-de-uso-2">Caso de Uso</h2>

<p>Veja um exemplo de uso: <strong>Consulta Bins + recuperação de carrinho</strong></p>

<p>Um marketplace chamada Submergível possui uma gama de meios de pagamento disponíveis para que suas lojas possam oferecer ao comprador, mas mesmo com toda essa oferta, ela continua com uma taxa de conversão baixa.</p>

<p>Conhecendo a função de consulta Bins da API Cielo Ecommerce, como ela poderia evitar a perda de carrinhos?</p>

<p>Ela pode aplicar a Consulta bins e 3 cenários!</p>

<ol>
  <li>Impedir erros com tipo de cartão</li>
  <li>Oferecer recuperação de carrinhos online</li>
  <li>Alertar sobre cartões internacionais</li>
  <li>Impedir erros com tipo de cartão</li>
</ol>

<p>O Submergível pode usar a consulta bins no carrinho para identificar 2 dos principais erros no preenchimento de formulários de pagamento:</p>

<ul>
  <li>
    <p><strong>Bandeira errada</strong> e confundir cartão de crédito com débito ○ Bandeiras erradas: Ao preencher o formulário de pagamento, é possível realizar uma consulta e já definir a bandeira correta. Esse é um método muito mais seguro do que sebasear em algoritmos no formulário, pois a base de bins consultada é a da bandeira emissora do cartão.</p>
  </li>
  <li>
    <p><strong>Confusões com cartões:</strong> Ao preencher o formulário de pagamento, é possível realizar uma consulta e avisar ao consumidor se ele está usando um cartão de  débito quando na verdade deveria usar um  de débito</p>
  </li>
</ul>

<p><strong>Oferecer recuperação de carrinhos online</strong></p>

<ul>
  <li>
    <p>O Submergível pode usar a consulta bins no carrinho para oferecer um novo meio de pagamento caso a transação falhe na primeira tentativa.</p>
  </li>
  <li>
    <p>Realizando uma consulta no momento de preenchimento do formulário de pagamento, caso o cartão seja múltiplo (Crédito e Débito), o Submergível pode reter os dados do cartão, e caso a transação de crédito falhe, ele pode oferecer automaticamente ao consumidor uma transação de débito com o mesmo cartão.</p>
  </li>
</ul>

<p><strong>Alertar sobre cartões internacionais</strong>
O Submergível pode usar a consulta bins no carrinho para alertar compradores internacionais, que caso o cartão não esteja habilitado para transacionar no Brasil, a transação será negada</p>

<h2 id="integração-2">Integração</h2>

<h3 id="request">Request</h3>

<p>Basta realizar um <code class="highlighter-rouge">GET</code> enviado o BIN a nossa URL de consulta:</p>

<aside class="request"><span class="method get">GET</span><span class="endpoint">/1/cardBin/`BIN`</span></aside>

<table>
  <thead>
    <tr>
      <th>Campo</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">BIN</code></td>
      <td>6 primeiros dígitos do cartão<br /><em>Para simular uma consulta em SandBox com retorno <code class="highlighter-rouge">ForeignCard=false</code>, o terceiro dígito do BIN deve ser 1, e o quinto dígito deve ser diferente de 2 e 3.<br />Exemplos:001040, 501010, 401050</em></td>
    </tr>
  </tbody>
</table>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">https://apiquerysandbox.cieloecommerce.cielo.com.br/</span><span class="mi">1</span><span class="err">/cardBin/</span><span class="mi">420020</span><span class="w">
</span></code></pre></div></div>

<h3 id="response">Response</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crédito"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ForeignCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CorporateCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bradesco"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IssuerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Texto</td>
      <td>2</td>
      <td>Status da requisição de análise de Bins: <br /> 00 – Analise autorizada <br /> 01 – Bandeira não suportada <br /> 02 – Cartão não suportado na consulta de bin <br /> 73 – Afiliação bloqueada</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Provider</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Bandeira do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardType</code></td>
      <td>Texto</td>
      <td>20</td>
      <td>Tipo do cartão em uso : <br /> Crédito <br /> Débito <br />Multiplo</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ForeingCard</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Se o cartão é emitido no exterior (False/True)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CorporateCard</code></td>
      <td>Booleano</td>
      <td>-</td>
      <td>Se o cartão é corporativo (False/True)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Issuer</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Nome do emissor do cartão</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IssuerCode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Código do emissor do cartão</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Atenção</strong>: Em SANDBOX os valores retornados são simulações e não validações reais de BINS. Deve ser considerado apenas o retorno do Request e o seu formato. Para identificação real dos BINS, o ambiente de Produção deverá ser utilizado.</p>
</blockquote>

<h1 id="zero-auth">Zero Auth</h1>

<p>O <strong>Zero Auth</strong> é uma ferramenta de validação de cartões da API Cielo. A validação permite que o lojista saiba se o cartão é valido ou não antes de enviar a transação para autorização, antecipando o motivo de uma provável não autorização..</p>

<p>O <strong>Zero Auth</strong> pode ser usado de 2 maneiras:</p>

<ol>
  <li><strong>Padrão</strong> - Envio de um cartão padrão, sem tokenização ou analises adicionais</li>
  <li><strong>Com cartão Tokenizado</strong> - Envio de um TOKEN 3.0 para analise</li>
</ol>

<p>É importante destacar que o Zero Auth <strong>não retorna ou analisa</strong> os seguintes itens:</p>

<ol>
  <li>Limite de crédito do cartão</li>
  <li>Informações sobre o portador</li>
  <li>Não aciona a base bancaria (dispara SMS so portador)</li>
</ol>

<p>O Zero Auth suporta as seguintes bandeiras:</p>

<ul>
  <li><strong>Visa</strong></li>
  <li><strong>MasterCard</strong></li>
  <li><strong>Elo</strong></li>
</ul>

<blockquote>
  <p>Caso outras bandeiras sejam enviadas, o erro <strong>57-Bandeira inválida</strong> será exibido.</p>
</blockquote>

<h2 id="caso-de-uso-3">Caso de uso</h2>

<p>Este é um exemplo de como usar o zero auth para melhorar sua conversão de vendas.</p>

<p>O Zero Auth é uma ferramenta da Cielo que permite verificar se um cartão está valido para realizar uma compra antes que o pedido seja finalizado. Ele faz isso simulando uma autorização, mas sem afetar o limite de crédito ou alertar o portados do cartão sobre o teste.</p>

<p>Ela não informa o limite ou características do cartão ou portador, mas simula uma autorização Cielo, validando dados como:</p>

<ol>
  <li>Se  o cartão está valido junto ao banco emissor</li>
  <li>Se o cartão possui limite disponível</li>
  <li>Se o cartão funciona no Brasil</li>
  <li>Se o número do cartão está correto</li>
  <li>Se o CVV é valido</li>
</ol>

<p>O Zero Auth também funciona com Cartões tokenizados na Api Cielo Ecommerce</p>

<p>Veja um exemplo de uso:</p>

<p><strong>Zero auth como validador de cartão</strong></p>

<p>Uma empresa de Streaming chamada FlixNet possui um serviço via assinatura, onde além de realizar uma recorrência, ela possui cartões salvos e recebe novas inscrições diariamente. 
Todas essas etapas exigem que transações sejam realizadas para obter acesso a ferramenta, o que eleva o custo da FlixNet caso as transações não sejam autorizadas.</p>

<p>Como ela poderia reduzir esse custo? Validando o cartão antes de envia-lo a autorizado.</p>

<p>A FlixNet usa o Zero Auth em 2 momento diferente:</p>

<ul>
  <li><strong>Cadastro</strong>: é necessário incluir um cartão para ganhar 30 dias grátis no primeiro mês.</li>
</ul>

<p>O problema é que ao se encerrar esse período, se o cartão for invalido, o novo cadastro existe, mas não funciona, pois, o cartão salvo é invalido. A Flix Net resolveu esse problema testando o cartão com o Zero Auth no momento do cadastro, assim, ela já sabe se o cartão está valido e libera a criação da conta. Caso não o cartão não seja aceito, a FlixNet pode sugerir o uso de um outro cartão.</p>

<ul>
  <li><strong>Recorrência</strong>: todo mês, antes de realizar a cobrança da Assinatura, a Flixnet testa o cartão com o zero auth, assim sabendo se ele será autorizado ou não.  Isso ajuda o FlixNet a prever quais cartões serão negados, já acionando o assinante para atualização do cadastro antes do dia de pagamento.</li>
</ul>

<h2 id="integração-3">Integração</h2>

<p>Para realizar a consulta ao Zero Auth, o lojista deverá enviar uma requisição <code class="highlighter-rouge">POST</code> para a API Cielo Ecommerce, simulando uma transação. O <code class="highlighter-rouge">POST</code> deverá ser realizado nas seguintes URL:</p>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">https://api.cieloecommerce.cielo.com.br/1/zeroauth</span></aside>

<p>Cada tipo de validação necessita de um contrato tecnico diferente. Eles resultarão em <em>responses diferenciados</em>.</p>

<h3 id="requisição-34">Requisição</h3>

<h4 id="padrÃo">PADRÃO</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Alexsander Rosa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CardOnFile"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Usage"</span><span class="p">:</span><span class="s2">"First"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"Reason"</span><span class="p">:</span><span class="s2">"Recurring"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Abaixo, a listagem de campos da Requisição:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">CardType</code></td>
      <td>Define o tipo de cartão utilizados:<br /><em>CreditCard</em><br /><em>DebitCard</em><br />Se não enviado, CreditCard como default</td>
      <td>Texto</td>
      <td>255</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardNumber</code></td>
      <td>Número do Cartão do Comprador</td>
      <td>Texto</td>
      <td>16</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Holder</code></td>
      <td>Nome do Comprador impresso no cartão.</td>
      <td>Texto</td>
      <td>25</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpirationDate</code></td>
      <td>Data de e validade impresso no cartão.</td>
      <td>Texto</td>
      <td>7</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SecurityCode</code></td>
      <td>Código de segurança impresso no verso do cartão.</td>
      <td>Texto</td>
      <td>4</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SaveCard</code></td>
      <td>Booleano que identifica se o cartão será salvo para gerar o CardToken.</td>
      <td>Boolean</td>
      <td>—</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Brand</code></td>
      <td>Bandeira do cartão: <br />Visa<br />Master<br /></td>
      <td>Texto</td>
      <td>10</td>
      <td style="text-align: center">Sim</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardToken</code></td>
      <td>Token do cartão na 3.0</td>
      <td>GUID</td>
      <td>36</td>
      <td style="text-align: center">Condicional</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Usage</code></td>
      <td><strong>First</strong> se o cartão foi armazenado e é seu primeiro uso.<br /><strong>Used</strong> se o cartão foi armazenado e ele já foi utilizado anteriormente em outra transação.</td>
      <td>Texto</td>
      <td>—</td>
      <td style="text-align: center">Não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Reason</code></td>
      <td>Indica o propósito de armazenamento de cartões, caso o campo “Usage” for “Used”.<br /><strong>Recurring</strong> - Compra recorrente programada (ex. assinaturas)<br /><strong>Unscheduled</strong> - Compra recorrente sem agendamento (ex. aplicativos de serviços)<br /><strong>Installments</strong> - Parcelamento através da recorrência<br /><a href="https://developercielo.github.io/faq/faq-api-3-0#pagamento-com-credenciais-armazenadas">Veja Mais</a>.</td>
      <td>Texto</td>
      <td>—</td>
      <td style="text-align: center">Condicional</td>
    </tr>
  </tbody>
</table>

<h4 id="com-token">COM TOKEN</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CardToken"</span><span class="p">:</span><span class="s2">"23712c39-bb08-4030-86b3-490a223a8cc9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Abaixo, a listagem de campos da Requisição:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th style="text-align: center">Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Brand</code></td>
      <td>Bandeira do cartão: <br />Visa<br />Master<br /></td>
      <td>Texto</td>
      <td>10</td>
      <td style="text-align: center">não</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CardToken</code></td>
      <td>Token do cartão na 3.0</td>
      <td>GUID</td>
      <td>36</td>
      <td style="text-align: center">Condicional</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-41">Resposta</h3>

<p>A resposta sempre retorna se o cartão pode ser autorizado no momento. Essa informação apenas significa que o <em>cartão está valido a transacionar</em>, mas não necessariamente indica que um determinado valor será autorizado.</p>

<p>Abaixo os campos retornados após a validação:</p>

<table>
  <thead>
    <tr>
      <th>Paramêtro</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Valid</code></td>
      <td>Situação do cartão:<br /> <strong>True</strong> – Cartão válido<br /><strong>False</strong> – Cartão Inválido</td>
      <td>Boolean</td>
      <td>—</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno</td>
      <td>Texto</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno</td>
      <td>Texto</td>
      <td>255</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">IssuerTransactionId</code></td>
      <td>Identificado de autenticação do Emissor para transações de débito recorrentes. Este campo deve ser enviado nas transações subsequentes da primeira transação no modelo de recorrência própria. Já no modelo de recorrência programada, a Cielo será a responsável por enviar o campo nas transações subsequentes.</td>
      <td>Texto</td>
      <td>15</td>
    </tr>
  </tbody>
</table>

<h4 id="positiva---cartão-válido">POSITIVA - Cartão Válido</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transacao autorizada"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<blockquote>
  <p>Consulte  para visualizar a descrição dos códigos de retorno. 
O código de retorno <strong>00 representa sucesso no Zero Auth</strong>, os demais códigos são definidos de acordo com a documentação acima.</p>
</blockquote>

<h4 id="negativa---cartão-inválido">NEGATIVA - Cartão Inválido</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
       </span><span class="nl">"Valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Autorizacao negada"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"IssuerTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580027442382078"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negativa---bandeira-inválida">NEGATIVA - Bandeira inválida</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">    
      </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">     
      </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bandeira inválida"</span><span class="w">   
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="negativa---restrição-cadastral">NEGATIVA - Restrição Cadastral</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">    
      </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">389</span><span class="p">,</span><span class="w">     
      </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Restrição Cadastral"</span><span class="w">   
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Caso ocorra algum erro no fluxo, onde não seja possível validar o cartão, o serviço irá retornar erro:</p>

<ul>
  <li>500 – Internal Server Erro</li>
  <li>400 – Bad Request</li>
</ul>

<h1 id="silent-order-post">Silent Order Post</h1>

<p>Integração que a Cielo oferece aos lojistas, onde os dados de pagamentos são trafegue de forma segura, mantendo o controle total sobre a experiência de Ckeckout.</p>

<p>Esse método possibilita o envio dos dados do pagamento do seu cliente final de forma segura diretamente em nosso sistema. Os campos de pagamento são guardados do lado da Cielo, que conta com a certificação PCI DSS 3.2.</p>

<p>É ideal para lojistas que exigem um alto nível de segurança, sem perder a identidade de sua página. Esse método permite um alto nível de personalização na sua página de checkout.</p>

<h2 id="características">Características</h2>

<ul>
  <li>Captura de dados de pagamento diretamente para os sistemas da Cielo por meio dos campos hospedados na sua página através de um script (javascript).</li>
  <li>Compatibilidade com todos os meios de pagamentos disponibilizados ao Gateway (Nacional e Internacional)</li>
  <li>Autenticação do comprador (disponível)</li>
  <li>Redução do escopo de PCI DSS</li>
  <li>Mantenha controle total sobre a experiência de check-out e elementos de gestão da sua marca.</li>
</ul>

<h2 id="fluxo-de-autorização">Fluxo de Autorização</h2>

<h3 id="fluxo-padrão-de-autorização">Fluxo Padrão de Autorização</h3>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo-padrao-de-autorizacao.jpg" alt="Fluxo Padrão" /></p>

<p>É preciso que o estabelecimento seja <strong>PCI Compliance</strong> (PCI = Regras de segurança para manipular os dados do cartão)</p>

<h3 id="fluxo-de-autorização-com-silent-order-post">Fluxo de Autorização com Silent Order POST</h3>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/fluxo-de-autorizacao-com-sop.jpg" alt="Fluxo Padrão" /></p>

<p>O servidor <strong>não trafega os dados do cartão</strong> abertamente.</p>

<h2 id="fluxo-transacional">Fluxo Transacional</h2>

<p><img src="https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/images/fluxo-silent-order-post-cielo_new.png" alt="Fluxo Silent Order Post" /></p>

<h2 id="integração-4">Integração</h2>

<p><strong>PASSO 1</strong></p>

<p>O cliente acaba o checkout, e vai para o processamento do pagamento.</p>

<p><strong>PASSO 2</strong></p>

<p>a) O estabelecimento deverá solicitar um ticket (server to server) enviando um POST para a seguinte URL:</p>

<p><strong>SANDBOX:</strong>
<strong>https://transactionsandbox.pagador.com.br/post/api/public/v1/accesstoken?merchantid={mid_loja}</strong></p>

<p><strong>PRODUÇÃO:</strong>
<strong>https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid={mid}</strong></p>

<p>Exemplo: https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000</p>

<h3 id="requisição-35">Requisição</h3>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/v1/accesstoken?merchantid={mid_loja}</span></aside>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl
<span class="nt">--request</span> POST <span class="s2">"https://transaction.cieloecommerce.cielo.com.br/post/api/public/v1/accesstoken?merchantid=00000000-0000-0000-0000-000000000000"</span>
<span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--data-binary</span>
<span class="nt">--verbose</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mid_loja</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
    </tr>
  </tbody>
</table>

<h3 id="resposta-42">Resposta</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--header</span> <span class="s2">"Content-Type: application/json"</span>
<span class="nt">--header</span> <span class="s2">"RequestId: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>
<span class="nt">--data-binary</span>
<span class="o">{</span>
    <span class="s2">"MerchantId"</span>: <span class="s2">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>,
    <span class="s2">"AccessToken"</span>: <span class="s2">"NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ=="</span>,
    <span class="s2">"Issued"</span>: <span class="s2">"2018-07-23T11:09:32"</span>,
    <span class="s2">"ExpiresIn"</span>: <span class="s2">"2018-07-23T11:29:32"</span>
<span class="o">}</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Identificador da loja na API</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AccessToken</code></td>
      <td>Token de Acesso</td>
      <td>Texto</td>
      <td>–</td>
      <td>NjBhMjY1ODktNDk3YS00NGJkLWI5YTQtYmNmNTYxYzhlNjdiLTQwMzgxMjAzMQ==</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Issued</code></td>
      <td>Data e hora da geração</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ExpiresIn</code></td>
      <td>Data e hora da expiração</td>
      <td>Texto</td>
      <td>–</td>
      <td>AAAA-MM-DDTHH:MM:SS</td>
    </tr>
  </tbody>
</table>

<p>b) Para uso este recurso, por questões de segurança, obrigatoriamente será requerido do lado da Cielo, <strong>no mínimo um IP válido do estabelecimento</strong>. Caso contrário a requisição não será autorizada (<strong>HTTP 401 NotAuthorized</strong>).</p>

<p><strong>PASSO 3</strong></p>

<p>a) Como resposta, o estabelecimento receberá um json (HTTP 201 Created) contendo entre outras informações o ticket (AccessToken), como por exemplo:</p>

<p><img src="https://developercielo.github.io/images/response-ticket-silent-order-post-cielo.jpg" alt="Response Ticket" /></p>

<p>Por questões de segurança, este ticket dará permissão para o estabelecimento salvar apenas 1 cartão dentro de um prazo de já estipulado na resposta, através do atributo ExpiresIn (por padrão, 20 minutos). O que acontecer primeiro invalidará esse mesmo ticket para um uso futuro.</p>

<p><strong>PASSO 4 ao 6</strong></p>

<p>a) O estabelecimento deverá fazer o download de um script fornecido pela Cielo, e anexá-lo a sua página de checkout. Esse script permitirá à Cielo processar todas as informações de cartão sem intervenção do estabelecimento.
O download poderá ser realizado a partir da seguinte URL:</p>

<p><strong>SANDBOX:</strong>
<strong>https://transactionsandbox.pagador.com.br/post/scripts/silentorderpost-1.0.min.js</strong></p>

<p><strong>PRODUÇÃO:</strong>
<strong>https://transaction.cieloecommerce.cielo.com.br/post/scripts/silentorderpost-1.0.min.js</strong></p>

<p>b) O estabelecimento deverá decorar seus inputs do formulário com as seguintes classes:</p>

<ul>
  <li>Para o portador do cartão de crédito/débito: <strong>bp-sop-cardholdername</strong></li>
  <li>Para o número do cartão de crédito/débito: <strong>bp-sop-cardnumber</strong></li>
  <li>Para a validade do cartão de crédito/débito: <strong>bp-sop-cardexpirationdate</strong></li>
  <li>Para o código de segurança do cartão de crédito/débito: <strong>bp-sop-cardcvvc</strong></li>
</ul>

<p>c) O script fornecido pela Cielo fornece três eventos para manipulação e tratamento por parte do estabelecimento. São eles: <strong>onSuccess</strong> (onde será retornado o <strong>“PaymentToken”</strong> após processar os dados do cartão), <strong>onError</strong> (caso haja algum erro no consumo dos serviços da Cielo) e <strong>onInvalid</strong> (onde será retornado o resultado da validação dos inputs).</p>

<ul>
  <li>
    <p>Na validação dos inputs, o estabelecimento poderá utilizar toda a camada de validação sobre os dados de cartão realizada pela Cielo e assim simplificar o tratamento no seu formulário de checkout. As mensagens retornadas no resultado da validação são disponibilizadas nas seguintes linguagens: português (default), inglês e espanhol.</p>
  </li>
  <li>
    <p>O <strong>PaymentToken</strong> será o token que representará todos os dados de cartão fornecido pelo comprador. O mesmo será utilizado pelo estabelecimento para não haver necessidade de tratar e processar dados de cartão do seu lado.</p>
  </li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"PaymentToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTER"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Por questões de segurança esse PaymentToken poderá ser usado apenas para 1 autorização na Cielo 3.0. Após o processamento do mesmo, este será invalidado.</strong></p>

<p>Exemplo de setup a ser realizado pelo estabelecimento na página de checkout:</p>

<p><img src="https://developercielo.github.io/images/html-silent-order-post.jpg" alt="Pagina Checkout" /></p>

<h1 id="wallet">Wallet</h1>

<h2 id="o-que-são-wallets">O que são Wallets</h2>

<p>São repositorios de cartões e dados de pagamentos para consumidores online. As Carteiras digitais permitem que um consumidor realizar o cadastro de seus dados de pagamento, assim agilizando o processo de compra em lojas habilitadas em suas compras por possuir apenas um cadastro.</p>

<blockquote>
  <p><em>Para utilizar carteiras na API Cielo eCommerce, o lojista deverá possuir as carteiras integradas em seu checkout</em>.</p>
</blockquote>

<p>Para maiores informações, sugerimos que entre em contato com o setor tecnico da carteira a qual deseja implementar.</p>

<h3 id="wallets-disponiveis">Wallets Disponiveis</h3>

<p>A API Cielo Ecommerce possui integração com:</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://www.apple.com/br/apple-pay/"><em>Apple Pay</em></a></td>
    </tr>
    <tr>
      <td><a href="https://vaidevisa.visa.com.br/site/visa-checkout"><em>VisaCheckout</em></a></td>
    </tr>
    <tr>
      <td><a href="https://masterpass.com/pt-br/"><em>MasterPass</em></a></td>
    </tr>
    <tr>
      <td><a href="https://www.samsung.com.br/samsungpay/"><em>Samsung Pay</em></a></td>
    </tr>
    <tr>
      <td><a href="https://developercielo.github.io/manual/google-pay"><em>Google Pay</em></a></td>
    </tr>
  </tbody>
</table>

<aside class="notice">Atenção: Quando o nó “Wallet” for enviado na requisição, o nó “CreditCard” passa a ser opcional.</aside>

<aside class="notice">Atenção: Para o cartão de débito, quando for enviado na requisição o nó “Wallet”, será necessário o nó “DebitCard” contendo a “ReturnUrl”.</aside>

<aside class="notice">Atenção:  Devido a necessidade de utilização de Chaves efemeras para realizar operações de crédito, a Recorrnência não está disponivel para transações de Wallets </aside>

<h2 id="integração-base">Integração base</h2>

<p>As wallets na Api Cielo E-commerce possuem duas maneiras de utilização.</p>

<ol>
  <li><strong>Descriptografia</strong> - Quando o lojista envia os dados da wallet para que a API Cielo e-commerce realize o processamento do cartão</li>
  <li><strong>Envio do cartão</strong> - Quando a loja busca o cartão, e o enviar por conta propria a API Cielo e-commerce para processamento</li>
</ol>

<h3 id="componentes">Componentes</h3>

<h4 id="walletkey">Walletkey</h4>

<p>O WalletKey é o identificador utilizado pela Cielo para descriptografar payloads retornados pela Wallet. Ele utilizado apenas em integrações no formado <code class="highlighter-rouge">Descriptografia</code>
Cada Wallet possui um formato de <code class="highlighter-rouge">WalletKeys</code>.</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>VisaCheckout</strong></td>
      <td><code class="highlighter-rouge">1140814777695873901</code></td>
    </tr>
    <tr>
      <td><strong>Apple Pay</strong></td>
      <td><code class="highlighter-rouge">9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc</code></td>
    </tr>
    <tr>
      <td><strong>Samsung Pay</strong></td>
      <td><code class="highlighter-rouge">eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ</code></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Observações:</strong>
A Wallet MasterPass não possui <code class="highlighter-rouge">WalletKey</code>.
O <code class="highlighter-rouge">WalletKey</code> Apple Pay pode ser obtido dentro do campo <code class="highlighter-rouge">DATA</code> do payload Apple</p>
</blockquote>

<h4 id="ephemeralpublickey">EphemeralPublicKey</h4>

<p>O <code class="highlighter-rouge">EphemeralPublicKey</code> é a chave utilizado pela Cielo para descriptografar payloads contendo <code class="highlighter-rouge">WalletKeys</code> enviados pelos lojistas. É utilizado apenas em integrações no formado <code class="highlighter-rouge">Descriptografia</code>
Cada Wallet possui um formato de <code class="highlighter-rouge">EphemeralPublicKey</code>.</p>

<table>
  <thead>
    <tr>
      <th>Carteira</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>Apple Pay</em></td>
      <td><code class="highlighter-rouge">MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ==</code></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>VisaCheckout</em> / <em>MasterPass</em> / <em>SamsungPay</em> <strong>não possuem</strong> EphemeralPublicKey</p>
</blockquote>

<h3 id="descriptografia">Descriptografia</h3>

<h4 id="requisição-36">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--</span><span class="w"> </span><span class="err">Descriptografia</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira:  <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave retornada pela Wallet para descriptografia. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-43">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leonardo Romano"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDENTIFICADOR DA LOJA NA WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOKEN INFORMADO PELA WALLET"</span><span class="w">
                              </span><span class="p">},</span><span class="w">                
                 </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>Indica qual o tipo de carteira:  <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
  </tbody>
</table>

<h3 id="envio-de-cartão">Envio de cartão</h3>

<h4 id="requisição-37">Requisição</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">--</span><span class="w"> </span><span class="err">Envio</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">cartão</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guilherme Gama"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4532********6521"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Guilherme Gama"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tipo de wallet"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.ECI</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim</td>
      <td>O ECI (Eletronic Commerce Indicator) representa o quão segura é uma transação. Esse valor deve ser levado em consideração pelo lojista para decidir sobre a captura da transação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.CAVV</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
    </tr>
  </tbody>
</table>

<h4 id="respostas">Respostas</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gama Gama"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TIPO DE WALLET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                 </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<h2 id="apple-pay">Apple Pay</h2>

<h3 id="pré-requisitos">Pré-Requisitos</h3>

<p>Para utilização da Apple Pay no formato <strong>Descriptografia</strong> é necessario que a loja ja esteja cadastrada junto a Apple e possua um <code class="highlighter-rouge">MerchantIdentifier</code>
A integração <strong>Descriptografia</strong> exige que o lojista realize o upload manual de um <strong>certificado CSR no formato PEM</strong> fornecido pela Cielo. Entre em contato com a equipe de atendimento Cielo para obter o Certificado.</p>

<h4 id="merchantidentifier">MerchantIdentifier</h4>

<p>Para obter o <code class="highlighter-rouge">MerchantIdentifier</code> realize os passos abaixo:</p>

<ol>
  <li>Log em <a href="https://developer.apple.com/"><strong>Apple Developer</strong></a></li>
  <li>Selecione <a href="https://developer.apple.com/library/content/ApplePay_Guide/Configuration.html"><strong>Certificates, IDs &amp; Profiles</strong></a></li>
  <li>Dentro da área “Identifiers” clique em “Merchant IDs”</li>
  <li>Clique no <strong>+</strong> no canto direito, abaixo de “Registering a Merchant ID”</li>
  <li>Defina a descrição do MerchantID e o identificador. Exemplo: “merchant.com.CIELO.merchantAccount”</li>
  <li>Clique em “continuar” e verifique se as informações inseridas estão corretas.</li>
  <li>Finalize o processo.</li>
</ol>

<blockquote>
  <p>O <code class="highlighter-rouge">MerchantIdentifier</code> deve ser enviado a Cielo para a criação de um Certificado CSR no formato PEM.</p>
</blockquote>

<h4 id="certificado-csr">Certificado CSR</h4>

<p>Após enviar o <code class="highlighter-rouge">MerchantIdentifier</code> para a equipe de atendimento Cielo, a loja receberá um certificado de extensão <code class="highlighter-rouge">PEM</code> e deverá seguir os sequintes passos:</p>

<ol>
  <li>Log em <a href="https://developer.apple.com/"><strong>Apple Developer</strong></a></li>
  <li>Selecione <a href="https://developer.apple.com/library/content/ApplePay_Guide/Configuration.html"><strong>Certificates, IDs &amp; Profiles</strong></a></li>
  <li>Realize o Upload do Certificado</li>
  <li>Finalize o processo.</li>
</ol>

<blockquote>
  <p>O Certificado PEM contem o código CSR solicitado pela Apple. <br />
Formato de um Certificado <code class="highlighter-rouge">.PEM</code></p>
</blockquote>

<p>-</p>

<blockquote>
  <p>—–BEGIN CERTIFICATE REQUEST—–<br />
MIHwMIGYAgEAMDgxCzAJBgNVBAYTAkJSMRAwDgYDVQQKDAdicmFzcGFnMRcwFQYD<br />
VQQDDA5icmFzcGFnLmNvbS5icjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABBIP<br />
ULN00aAwYW+sfTettoIl8l9YrDCkF1HEiI9PgwLcM4jCkIAvnrKZ3loLWDi4J8Jh<br />
ML01OuTohYS46lqF6p4wCgYIKoZIzj0EAwIDRwAwRAIgWLAPtSWKQ3sJYLc6jmWa<br />
RNWCoNR2XBQZKdg5bIGNYpYCIHSLsQVSK8taL7dGirOBxXiOqtUA9hWxn0g1Mf3U<br />
VKeU<br />
—–END CERTIFICATE REQUEST—–<br /></p>
</blockquote>

<h3 id="descriptografia-1">Descriptografia</h3>

<p>No modelo apresentado a seguir, demonstramos como utilizar a integração Apple Pay Cielo via o envio do WalletKey + EphemeralPublicKey retornados pela Apple via Payload</p>

<h4 id="requisição-38">Requisição</h4>

<p>Exemplo de Requisição <em>Apple Pay</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração Apple Pay, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-44">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leonardo Romano"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9zcCAciwoTS+qBx8jWb++64eHT2QZTWBs6qMVJ0GO+AqpcDVkxGPNpOR/D1bv5AZ62+5lKvucati0+eu7hdilwUYT3n5swkHuIzX2KO80Apx/SkhoVM5dqgyKrak5VD2/drcGh9xqEanWkyd7wl200sYj4QUMbeLhyaY7bCdnnpKDJgpOY6J883fX3TiHoZorb/QlEEOpvYcbcFYs3ELZ7QVtjxyrO2LmPsIkz2BgNm5f+JaJUSAOectahgLZnZR+sRXTDtqLOJQAprs0MNTkPzF95nXGKCCnPV2mfR7z8FHcP7AGqO7aTLBGJLgxFOnRKaFnYlY2E9uTPBbB5JjZywlLIWsPKur5G4m1/E9A6DwjMd0fDYnxjj0bQDfaZpBPeGGPFLu5YYn1IDc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="nl">"AdditionalData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"EphemeralPublicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEoedz1NqI6hs9hEO6dBsnn0X0xp5/DKj3gXirjEqxNIJ8JyhGxVB3ITd0E+6uG4W6Evt+kugG8gOhCBrdUU6JwQ=="</span><span class="w">
                              </span><span class="p">},</span><span class="w">                
                 </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<h3 id="envio-de-cartão-1">Envio de cartão</h3>

<p>No modelo apresentado a seguir, demonstramos como a Apple Pay pode ser utilizada com o envio do cartão aberto, sem a necessidade de WalletKey.</p>

<h4 id="requisição-39">Requisição</h4>

<p>Nesse modelo, o lojista informa apenas que a transação é de uma Wallet Apple Pay e envia os dados ECI e CAVV fornecidos pela APPLE</p>

<ul>
  <li><strong>CAVV</strong> - pode ser extraido do campo <code class="highlighter-rouge">onlinePaymentCryptogram</code> retornado pela Apple no payload</li>
  <li><strong>ECI</strong> - pode ser extraido do campo <code class="highlighter-rouge">eciIndicator</code> retornado pela Apple no payload</li>
</ul>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4532********6521"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard /  Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.ECI</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim</td>
      <td>O ECI (Eletronic Commerce Indicator) representa o quão segura é uma transação. Esse valor deve ser levado em consideração pelo lojista para decidir sobre a captura da transação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.CAVV</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-45">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453265******6521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480687BVV8COCRB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"457033"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ApplePay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-18 16:27:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>O ECI (Eletronic Commerce Indicator) indica a segurança de uma transação. Deve ser levado em conta pelo lojista para decidir sobre a captura</td>
      <td>Texto</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CAVV</code></td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
      <td>Texto</td>
      <td>255</td>
      <td>–</td>
    </tr>
  </tbody>
</table>

<h2 id="visacheckout">VisaCheckout</h2>

<h3 id="descriptografia-2">Descriptografia</h3>

<p>No modelo apresentado a seguir, demonstramos como utilizar a integração VisaCheckout Cielo via o envio do WalletKey retornados pela Visa via Payload</p>

<blockquote>
  <p>O <code class="highlighter-rouge">Walletkey</code> é o parametro <code class="highlighter-rouge">CallID</code> retornado pelo VisaCheckout</p>
</blockquote>

<h4 id="requisição-40">Requisição</h4>

<p>Exemplo de Requisição padrão <em>VisaCheckout</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração VisaCheckout, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"VisaCheckout"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"1140814777695873901"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code> /  <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-46">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gama Gama"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VisaCheckout"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1140814777695873901"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="envio-de-cartão-2">Envio de cartão</h3>

<p>No modelo apresentado a seguir, demonstramos como a VisaCheckout pode ser utilizada com o envio do cartão aberto, sem a necessidade de WalletKey.</p>

<h4 id="requisição-41">Requisição</h4>

<p>Nesse modelo, o lojista informa apenas que a transação é da Wallet VisaCheckout e envia os dados ECI e CAVV fornecidos pela Visa</p>

<ul>
  <li><strong>ECI</strong> - retornado pela Visa no payload como <code class="highlighter-rouge">DSC_ECI</code></li>
</ul>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador Teste"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"VisaCheckout"</span><span class="w">
         </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
      </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">  
         </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"1234123412341231"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Visa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code> /  <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.ECI</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim</td>
      <td>O ECI (Eletronic Commerce Indicator) representa o quão segura é uma transação. Esse valor deve ser levado em consideração pelo lojista para decidir sobre a captura da transação.</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-47">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111706"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Comprador Visa Checkout"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByMerchant"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"455187******0183"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Teste Holder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2030"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"674532"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0305023644309"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24bc8366-fc31-4d6c-8555-17049a836a07"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ExtraDataCollection"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/{PaymentId}/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code> /  <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
  </tbody>
</table>

<h2 id="masterpass">MasterPass</h2>

<h3 id="envio-de-cartão-3">Envio de Cartão</h3>

<blockquote>
  <p>A Wallet MasterPass possui integração apenas no formato <code class="highlighter-rouge">Envio de cartão</code>.</p>
</blockquote>

<p>Para utilizar a wallet <a href="https://developer.mastercard.com/product/masterpass"><strong>Masterpass</strong></a> é necessario que a loja ja esteja cadastrada junto a Mastercard, e integrada a busca de dados de cartão da plataforma.</p>

<h4 id="requisição-42">Requisição</h4>

<p>Exemplo de Requisição <em>Masterpass</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração Masterpass, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"2014111708"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">  
      </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Comprador MasterPass"</span><span class="w">     
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">  
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">15700</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"CreditCard"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4532117080573703"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"023"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"MasterPass"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="w">
         </span><span class="nl">"AdditionalData"</span><span class="p">:{</span><span class="w">
               </span><span class="nl">"CaptureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code> /  <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-48">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453265******6521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480687BVV8COCRB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"457033"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Masterpass"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-18 16:27:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code> / <code class="highlighter-rouge">SamsungPay</code> /  <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>O ECI (Eletronic Commerce Indicator) indica a segurança de uma transação. Deve ser levado em conta pelo lojista para decidir sobre a captura</td>
      <td>Texto</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CAVV</code></td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
      <td>Texto</td>
      <td>255</td>
      <td>–</td>
    </tr>
  </tbody>
</table>

<h2 id="samsung-pay">Samsung Pay</h2>

<h3 id="pré-requisitos-1">Pré-Requisitos</h3>

<p>Para utilização da Samsung no formato <strong>Descriptografia</strong> é necessario que a loja ja esteja cadastrada junto a plataforma da <a href="https://pay.samsung.com/developers"><strong>Samsung</strong></a>.
A integração <strong>Descriptografia</strong> exige que o lojista realize o upload manual de um <strong>certificado CSR no formato PEM</strong> fornecido pela Cielo. Entre em contato com a equipe de produtos Cielo para obter o Certificado.</p>

<h4 id="certificado-csr-1">Certificado CSR</h4>

<p>Após se cadastrar junto a SamsungPay, a loja deverá requisitar um certificado de extensão <code class="highlighter-rouge">PEM</code> a equipe de produtos Cielo. Com o certificado em mãos, deverá seguir os sequintes passos:</p>

<ol>
  <li>Log em <a href="https://pay.samsung.com/developers"><strong>Samsung</strong></a></li>
  <li>Selecione <a href="https://pay.samsung.com/developers/projects/prdnsvc"><strong>My Projects</strong></a> para criar serviço</li>
  <li>Realize o Upload do Certificado Cielo</li>
  <li>Finalize o processo.</li>
</ol>

<blockquote>
  <p>O Certificado PEM contem o código CSR solicitado pela Samsung. <br />
Formato de um Certificado <code class="highlighter-rouge">.PEM</code></p>
</blockquote>

<p>–</p>

<blockquote>
  <p>—–BEGIN CERTIFICATE REQUEST—–
MIICezCCAWMCAQAwODELMAkGA1UEBhMCQlIxEDAOBgNVBAoMB2JyYXNwYWcxFzAV<br />
BgNVBAMMDmJyYXNwYWcuY29tLmJyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB<br />
CgKCAQEApsk94DAhdgvgUgGT/fufNkofB2AeX/sPXRT0mm92DM8XgbyWw6FgsE2T<br />
3SFi5WmYwDo12tVjAydUCRzMc6HDIrLBFJsfHgrZWLlf9QIPLZFW/zA9+qZLP+VW<br />
nGyGBil+rgNhylXfDGjCvUMJ5bSLbcC2oC1HGO613HsJrbsB96sE107RkFhDEChD<br />
9fZi3MoD2lCwVjbAu/zDatoloxy8Bc02HqlK4sVZuPUzFIZ9gg19G/QU6WI2ompv<br />
akkhc07xS8QIU/XuzMV5KdpCs/mlRH1QQICSHdviu2UKbKlM9KWqpBOeLwGsQ59P<br />
mQVb5bPgdAix8KvBAWAi8pcdgjWiIwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQBh<br />
4XwAmQabopYgJgb+8UwIV+LbWKszwXVUq9nYfiDN0OT4KguilfNQQMHvULlHVahJ<br />
ibiRsuFfkmEkvGkrUm1IMCHjwZjDzJmbB/7VwqHzq5HJ9pa9Dt6xRO7psCycSE4N<br />
m+iQs18muHWkzPFouBw+HDVgD8NJZS0mPKSnOmdWpajUHkpDsXY+XctLI2n6NAc3<br />
sy65A6ljFGpjdHG+aJc7TjzjSBpNXyY5bys5zGF44wgOKq/md5nMp6IeqYAZ+D1N<br />
aWvYpwra9kiVLR3742JWgF7P25rCdpwzXO9KiD9T8VxYnEZeFli+LQXb7c6UJjHl<br />
/mYyDuIyBIna9ij0Ygff<br />
—–END CERTIFICATE REQUEST—–<br />”,</p>
</blockquote>

<h3 id="descriptografia-3">Descriptografia</h3>

<p>No modelo apresentado a seguir, demonstramos como utilizar a integração SamsungPay Cielo via o envio do WalletKey + EphemeralPublicKey retornados pela Samsung via Payload</p>

<h4 id="requisição-43">Requisição</h4>

<p>Exemplo de Requisição <em>SamsungPay</em></p>

<blockquote>
  <p>É necessário que a loja ja possua cadastro e uma integração SamsungPay, caso contrario não será possivel a integração com a API</p>
</blockquote>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Identity"</span><span class="p">:</span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:{</span><span class="w">
     </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Provider"</span><span class="p">:</span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Installments"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Currency"</span><span class="p">:</span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Wallet"</span><span class="p">:{</span><span class="w">
       </span><span class="nl">"Type"</span><span class="p">:</span><span class="s2">"SamsungPay"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="s2">"eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.EphemeralPublicKey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.AdditionalData.capturecode</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-49">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014111703"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Guest]"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453211******1521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Leonardo Romano"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08/2020"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0319040817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"817883"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AuthorizationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"027795"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SamsungPay"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WalletKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSU0ExXzUiLCJraWQiOiIvam1iMU9PL2hHdFRVSWxHNFpxY2VYclVEbmFOUFV1ZUR5M2FWeHBzYXVRPSIsInR5cCI6IkpPU0UiLCJjaGFubmVsU2VjdXJpdHlDb250ZXh0IjoiUlNBX1BLSSIsImVuYyI6IkExMjhHQ00ifQ.cCsGbqgFdzVb1jhXNR--gApzoXH-LldMArSoG59x6i0BbI7jttqxyAdcriSy8q_77VAp3854P9kekjj54RKLrP6APDIr46DI97kjG9E99ONXImnEyamHj95ZH_AW8lvkfa09KAr4537RM8GEXyZoys2vfIW8zqjjicZ8EKIpAixNlmrFJu6-Bo_utsmDN_DuGm69Kk2_nh6txa7ML9PCI59LFfOMniAf7ZwoZUBDCY7Oh8kx3wsZ0kxNBwfyLBCMEYzET0qcIYxePezQpkNcaZ4oogmdNSpYY-KbZGMcWpo1DKhWphDVp0lZcLxA6Q25K78e5AtarR5whN4HUAkurQ.CFjWpHkAVoLCG8q0.NcsTuauebemJXmos_mLMTyLhEHL-p5Wv6J88WkgzyjAt_DW7laiPMYw2sqRXkOiMJLwhifRzbSp8ZgJBM25IX05dKKSS4XfFjJQQjOBHw6PYtEF5pUDMLHML3jcddCrX07abfef_DuP41PqOQYsjwesLZ8XsRj-R0TH4diOZ_GQop8_oawjRIo9eJr9Wbtho0h8kAzHYpfuhamOPT718EaGAY6SSrR7t6nBkzGNkrKAmHkC7aRwe.AbZG53wRqgF0XRG3wUK_UQ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                 </span><span class="p">},</span><span class="w">
        </span><span class="nl">"SoftDescriptor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-19 16:08:16"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
  </tbody>
</table>

<h3 id="envio-de-cartão-4">Envio de cartão</h3>

<p>No modelo apresentado a seguir, demonstramos como a SamsungPay pode ser utilizada com o envio do cartão aberto, sem a necessidade de WalletKey.</p>

<h4 id="requisição-44">Requisição</h4>

<p>Nesse modelo, o lojista informa apenas que a transação é da Wallet SamsungPay e envia os dados ECI e CAVV fornecidos pela Samsung</p>

<ul>
  <li><strong>CAVV</strong> - pode ser extraido do campo <code class="highlighter-rouge">Cryptogram</code> retornado pela Samsung no payload</li>
  <li><strong>ECI</strong> - retornado pela Samsung Pay no payload campo <code class="highlighter-rouge">eci_indicator</code></li>
</ul>

<aside class="request"><span class="method post">POST</span> <span class="endpoint">/1/sales/</span></aside>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="s2">"4532********6521"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Holder"</span><span class="p">:</span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"SecurityCode"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Brand"</span><span class="p">:</span><span class="s2">"Master"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SamsungPay"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Eci"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Obrigatório</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MerchantId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Sim</td>
      <td>Identificador da loja na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantKey</code></td>
      <td>Texto</td>
      <td>40</td>
      <td>Sim</td>
      <td>Chave Publica para Autenticação Dupla na Cielo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RequestId</code></td>
      <td>Guid</td>
      <td>36</td>
      <td>Não</td>
      <td>Identificador do Request, utilizado quando o lojista usa diferentes servidores para cada GET/POST/PUT.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">MerchantOrderId</code></td>
      <td>Texto</td>
      <td>50</td>
      <td>Sim</td>
      <td>Numero de identificação do Pedido.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Name</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Nome do Comprador.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Customer.Status</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Não</td>
      <td>Status de cadastro do comprador na loja (NEW / EXISTING)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Type</code></td>
      <td>Texto</td>
      <td>100</td>
      <td>Sim</td>
      <td>Tipo do Meio de Pagamento.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Amount</code></td>
      <td>Número</td>
      <td>15</td>
      <td>Sim</td>
      <td>Valor do Pedido (ser enviado em centavos).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Payment.Installments</code></td>
      <td>Número</td>
      <td>2</td>
      <td>Sim</td>
      <td>Número de Parcelas.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.CardNumber.</code></td>
      <td>Texto</td>
      <td>19</td>
      <td>Sim</td>
      <td>Número do Cartão do Comprador</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.SecurityCode</code></td>
      <td>Texto</td>
      <td>4</td>
      <td>Não</td>
      <td>Código de segurança impresso no verso do cartão - Ver Anexo.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CreditCard.Brand</code></td>
      <td>Texto</td>
      <td>10</td>
      <td>Sim</td>
      <td>Bandeira do cartão (Visa / Master / Amex / Elo / Aura / JCB / Diners / Discover / Hipercard / Hiper).</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Type</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.Walletkey</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.ECI</code></td>
      <td>Texto</td>
      <td>3</td>
      <td>Sim</td>
      <td>O ECI (Eletronic Commerce Indicator) representa o quão segura é uma transação. Esse valor deve ser levado em consideração pelo lojista para decidir sobre a captura da transação.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Wallet.CAVV</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Sim</td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
    </tr>
  </tbody>
</table>

<h4 id="resposta-50">Resposta</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"MerchantOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6242-642-723"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Identity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11225468954"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IdentityType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPF"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ServiceTaxAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Capture"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Authenticate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Recurrent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreditCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"453265******6521"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Holder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exemplo Wallet Padrão"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ExpirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"SaveCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Tid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10447480687BVV8COCRB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProofOfSale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"457033"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cielo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Samsung"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Cavv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AM1mbqehL24XAAa0J04CAoABFA=="</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Eci"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"VelocityAnalysis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ResultMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accept"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceivedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-18 16:27:22"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsSplitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Successful"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReturnCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PaymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98652f2c-bdfd-47b9-8673-77b80a6fe705"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreditCard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"self"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apiquerysandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"capture"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/capture"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://apisandbox.cieloecommerce.cielo.com.br/1/sales/e57b09eb-475b-44b6-ac71-01b9b82f2491/void"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>Propriedade</th>
      <th>Descrição</th>
      <th>Tipo</th>
      <th>Tamanho</th>
      <th>Formato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ProofOfSale</code></td>
      <td>Número da autorização, identico ao NSU.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Tid</code></td>
      <td>Id da transação na adquirente.</td>
      <td>Texto</td>
      <td>20</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AuthorizationCode</code></td>
      <td>Código de autorização.</td>
      <td>Texto</td>
      <td>6</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SoftDescriptor</code></td>
      <td>Texto que será impresso na fatura bancaria do portador - Disponivel apenas para VISA/MASTER - nao permite caracteres especiais</td>
      <td>Texto</td>
      <td>13</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PaymentId</code></td>
      <td>Campo Identificador do Pedido.</td>
      <td>Guid</td>
      <td>36</td>
      <td>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>Eletronic Commerce Indicator. Representa o quão segura é uma transação.</td>
      <td>Texto</td>
      <td>2</td>
      <td>Exemplos: 7</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Status</code></td>
      <td>Status da Transação.</td>
      <td>Byte</td>
      <td>—</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnCode</code></td>
      <td>Código de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>32</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReturnMessage</code></td>
      <td>Mensagem de retorno da Adquirência.</td>
      <td>Texto</td>
      <td>512</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Type</code></td>
      <td>indica qual o tipo de carteira: <code class="highlighter-rouge">ApplePay</code> / <code class="highlighter-rouge">SamsungPay</code> / <code class="highlighter-rouge">VisaCheckout</code>/ <code class="highlighter-rouge">Masterpass</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Texto alfanumérico</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Walletkey</code></td>
      <td>Chave criptografica que identifica lojas nas Wallets - Ver tabela WalletKey para mais informações</td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver tabela <code class="highlighter-rouge">WalletKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.EphemeralPublicKey</code></td>
      <td>Token retornado pela Wallet. Deve ser enviado em Integrações: <code class="highlighter-rouge">ApplePay</code></td>
      <td>Texto</td>
      <td>255</td>
      <td>Ver Tabela <code class="highlighter-rouge">EphemeralPublicKey</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">AdditionalData.capturecode</code></td>
      <td>Código informado pela <code class="highlighter-rouge">MasterPass</code> ao lojista</td>
      <td>Texto</td>
      <td>255</td>
      <td>3</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ECI</code></td>
      <td>O ECI (Eletronic Commerce Indicator) indica a segurança de uma transação. Deve ser levado em conta pelo lojista para decidir sobre a captura</td>
      <td>Texto</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">CAVV</code></td>
      <td>Campo de validação retornado pela Wallet e utilizado como base de autorização</td>
      <td>Texto</td>
      <td>255</td>
      <td>–</td>
    </tr>
  </tbody>
</table>

<h1 id="códigos-da-api">Códigos da API</h1>

<h2 id="sobre-os-códigos">Sobre os códigos</h2>

<p>A Api Cielo e-commerce possui 4 tipos de códigos retornados que representam diferentes momentos da transação.
Abaixo vamos explica-los na ordem em que podem ocorrer:</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>HTTP Status Code</strong></td>
      <td>São códigos do padrão HTTP. Eles informam se as informações enviadas a API estão de <strong>fato obtendo sucesso ao atingir nossos ENDPOINTs</strong>. Se valores diferentes de 200 ou 201 estejam aparecendo, há algum empecilho com a comunicação com a API<br /> <em>Retornado no momento da requisição a API</em></td>
    </tr>
    <tr>
      <td><strong>Erros da API</strong></td>
      <td>Esses códigos são respostas a <strong>validação do conteúdo dos dados enviados</strong>. Se eles estão sendo exibidos, as chamadas a nossa API foram identificadas e estão sendo validadas. Se esse código for exibido, a requisição contem erros (EX: tamanho/condições/erros de cadastro) que impedem a criação da transação<br /><em>Retornado no momento da requisição a API</em></td>
    </tr>
    <tr>
      <td><strong>Status</strong></td>
      <td>Depois de criada a transação, esses códigos serão retornados, informando como se encontra a transação no momento (EX: <code class="highlighter-rouge">Autorizada</code> &gt; <code class="highlighter-rouge">Capturada</code> &gt; <code class="highlighter-rouge">Cancelada</code>)<br />*Retornado no campo <code class="highlighter-rouge">Status</code> *</td>
    </tr>
    <tr>
      <td><strong>Retorno das Vendas</strong></td>
      <td>Formado por um <strong>código de Retorno</strong> e uma <strong>mensagem</strong>, esses códigos indicam o <strong>motivo</strong> de um determinado <code class="highlighter-rouge">Status</code> dentro de uma transação. Eles indicam, por exemplo, se uma transação com <code class="highlighter-rouge">status</code> negada não foi autorizada devido saldo negativo no banco emissor. <br /><em>Retornados nos campos <code class="highlighter-rouge">ReturnCode</code> e <code class="highlighter-rouge">ReturnMessage</code></em><br /> <em>Ocorrem somente em Cartões de crédito e Débito</em></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>OBS</strong>: No  antigo <strong>Webservice 1.5 Cielo</strong>, o <code class="highlighter-rouge">ReturnCode</code> era considerado como <em>Status da transação</em>. Na <strong>API CIELO ECOMMERCE</strong>, o campo <code class="highlighter-rouge">Status</code> possui códigos próprios, sendo assim, o <strong>campo a ser considerado como base de identificação do status de uma transação</strong></p>
</blockquote>

<h2 id="http-status-code">HTTP Status Code</h2>

<table>
  <thead>
    <tr>
      <th>HTTP Status Code</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>200</td>
      <td>OK (Capture/Void/Get)</td>
    </tr>
    <tr>
      <td>201</td>
      <td>OK (Authorization)</td>
    </tr>
    <tr>
      <td>400</td>
      <td>Bad Request</td>
    </tr>
    <tr>
      <td>404</td>
      <td>Resource Not Found</td>
    </tr>
    <tr>
      <td>500</td>
      <td>Internal Server Error</td>
    </tr>
  </tbody>
</table>

<h2 id="status-transacional">Status transacional</h2>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Status</th>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td><strong>NotFinished</strong></td>
      <td>ALL</td>
      <td>Aguardando atualização de status</td>
    </tr>
    <tr>
      <td>1</td>
      <td><strong>Authorized</strong></td>
      <td>ALL</td>
      <td>Pagamento apto a ser capturado ou definido como pago</td>
    </tr>
    <tr>
      <td>2</td>
      <td><strong>PaymentConfirmed</strong></td>
      <td>ALL</td>
      <td>Pagamento confirmado e finalizado</td>
    </tr>
    <tr>
      <td>3</td>
      <td><strong>Denied</strong></td>
      <td>CC + CD + TF</td>
      <td>Pagamento negado por Autorizador</td>
    </tr>
    <tr>
      <td>10</td>
      <td><strong>Voided</strong></td>
      <td>ALL</td>
      <td>Pagamento cancelado</td>
    </tr>
    <tr>
      <td>11</td>
      <td><strong>Refunded</strong></td>
      <td>CC + CD</td>
      <td>Pagamento cancelado após 23:59 do dia de autorização</td>
    </tr>
    <tr>
      <td>12</td>
      <td><strong>Pending</strong></td>
      <td>ALL</td>
      <td>Aguardando Status de instituição financeira</td>
    </tr>
    <tr>
      <td>13</td>
      <td><strong>Aborted</strong></td>
      <td>ALL</td>
      <td>Pagamento cancelado por falha no processamento ou por ação do AF</td>
    </tr>
    <tr>
      <td>20</td>
      <td><strong>Scheduled</strong></td>
      <td>CC</td>
      <td>Recorrência agendada</td>
    </tr>
  </tbody>
</table>

<p>-</p>

<table>
  <thead>
    <tr>
      <th>Meio de pagamento</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>ALL</strong></td>
      <td>Todos</td>
    </tr>
    <tr>
      <td><strong>CC</strong></td>
      <td>Cartão de Crédito</td>
    </tr>
    <tr>
      <td><strong>CD</strong></td>
      <td>Cartão de Débito</td>
    </tr>
    <tr>
      <td><strong>TF</strong></td>
      <td>Transferencia Eletrônica</td>
    </tr>
    <tr>
      <td><strong>BOL</strong></td>
      <td>Boleto</td>
    </tr>
  </tbody>
</table>

<h2 id="erros-de-integração-1">Erros de integração</h2>

<blockquote>
  <p><strong>Erros da API</strong> - Esses códigos são respostas a <strong>validação do conteúdo dos dados enviados</strong>. <br />
Se esse código for exibido, a requisição contem erros (EX: tamanho/condições/erros de cadastro) que impedem a criação da transação<br /><em>Retornado no momento da requisição a API</em></p>
</blockquote>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">126</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit Card Expiration Date is invalid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<h3 id="códigos-de-erros-da-api">Códigos de Erros da API</h3>

<p>Códigos retornados em caso de erro, identificando o motivo do erro e suas respectivas mensagens.</p>

<table>
  <thead>
    <tr>
      <th>Código</th>
      <th>Mensagem</th>
      <th>Descrição</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Internal error</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>100</td>
      <td>RequestId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>101</td>
      <td>MerchantId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>102</td>
      <td>Payment Type is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>103</td>
      <td>Payment Type can only contain letters</td>
      <td>Caracteres especiais não permitidos</td>
      <td> </td>
    </tr>
    <tr>
      <td>104</td>
      <td>Customer Identity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>105</td>
      <td>Customer Name is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>106</td>
      <td>Transaction ID is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>107</td>
      <td>OrderId is invalid or does not exists</td>
      <td>Campo enviado excede o tamanho ou contem caracteres especiais</td>
      <td> </td>
    </tr>
    <tr>
      <td>108</td>
      <td>Amount must be greater or equal to zero</td>
      <td>Valor da transação deve ser maior que “0”</td>
      <td> </td>
    </tr>
    <tr>
      <td>109</td>
      <td>Payment Currency is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>110</td>
      <td>Invalid Payment Currency</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>111</td>
      <td>Payment Country is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>112</td>
      <td>Invalid Payment Country</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>113</td>
      <td>Invalid Payment Code</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>114</td>
      <td>The provided MerchantId is not in correct format</td>
      <td>O MerchantId enviado não é um GUID</td>
      <td> </td>
    </tr>
    <tr>
      <td>115</td>
      <td>The provided MerchantId was not found</td>
      <td>O MerchantID não existe ou pertence a outro ambiente (EX: Sandbox)</td>
      <td> </td>
    </tr>
    <tr>
      <td>116</td>
      <td>The provided MerchantId is blocked</td>
      <td>Loja bloqueada, entre em contato com o suporte Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>117</td>
      <td>Credit Card Holder is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>118</td>
      <td>Credit Card Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>119</td>
      <td>At least one Payment is required</td>
      <td>Nó “Payment” não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>120</td>
      <td>Request IP not allowed. Check your IP White List</td>
      <td>IP bloqueado por questões de segurança</td>
      <td> </td>
    </tr>
    <tr>
      <td>121</td>
      <td>Customer is required</td>
      <td>Nó “Customer” não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>122</td>
      <td>MerchantOrderId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>123</td>
      <td>Installments must be greater or equal to one</td>
      <td>Numero de parcelas deve ser superior a 1</td>
      <td> </td>
    </tr>
    <tr>
      <td>124</td>
      <td>Credit Card is Required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>125</td>
      <td>Credit Card Expiration Date is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>126</td>
      <td>Credit Card Expiration Date is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>127</td>
      <td>You must provide CreditCard Number</td>
      <td>Numero do cartão de crédito é obrigatório</td>
      <td> </td>
    </tr>
    <tr>
      <td>128</td>
      <td>Card Number length exceeded</td>
      <td>Numero do cartão superiro a 16 digitos</td>
      <td> </td>
    </tr>
    <tr>
      <td>129</td>
      <td>Affiliation not found</td>
      <td>Meio de pagamento não vinculado a loja ou Provider inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>130</td>
      <td>Could not get Credit Card</td>
      <td>—</td>
      <td> </td>
    </tr>
    <tr>
      <td>131</td>
      <td>MerchantKey is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>132</td>
      <td>MerchantKey is invalid</td>
      <td>O Merchantkey enviado não é um válido</td>
      <td> </td>
    </tr>
    <tr>
      <td>133</td>
      <td>Provider is not supported for this Payment Type</td>
      <td>Provider enviado não existe</td>
      <td> </td>
    </tr>
    <tr>
      <td>134</td>
      <td>FingerPrint length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>135</td>
      <td>MerchantDefinedFieldValue length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>136</td>
      <td>ItemDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>137</td>
      <td>ItemDataSKU length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>138</td>
      <td>PassengerDataName length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>139</td>
      <td>PassengerDataStatus length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>140</td>
      <td>PassengerDataEmail length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>141</td>
      <td>PassengerDataPhone length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>142</td>
      <td>TravelDataRoute length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>143</td>
      <td>TravelDataJourneyType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>144</td>
      <td>TravelLegDataDestination length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>145</td>
      <td>TravelLegDataOrigin length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>146</td>
      <td>SecurityCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>147</td>
      <td>Address Street length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>148</td>
      <td>Address Number length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>149</td>
      <td>Address Complement length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>150</td>
      <td>Address ZipCode length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>151</td>
      <td>Address City length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>152</td>
      <td>Address State length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>153</td>
      <td>Address Country length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>154</td>
      <td>Address District length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>155</td>
      <td>Customer Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>156</td>
      <td>Customer Identity length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>157</td>
      <td>Customer IdentityType length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>158</td>
      <td>Customer Email length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>159</td>
      <td>ExtraData Name length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>160</td>
      <td>ExtraData Value length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>161</td>
      <td>Boleto Instructions length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>162</td>
      <td>Boleto Demostrative length exceeded</td>
      <td>Dado enviado excede o tamanho do campo</td>
      <td> </td>
    </tr>
    <tr>
      <td>163</td>
      <td>Return Url is required</td>
      <td>URL de retorno não é valida - Não é aceito paginação ou extenções (EX .PHP) na URL de retorno</td>
      <td> </td>
    </tr>
    <tr>
      <td>166</td>
      <td>AuthorizeNow is required</td>
      <td>—</td>
      <td> </td>
    </tr>
    <tr>
      <td>167</td>
      <td>Antifraud not configured</td>
      <td>Antifraude não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>168</td>
      <td>Recurrent Payment not found</td>
      <td>Recorrência não encontrada</td>
      <td> </td>
    </tr>
    <tr>
      <td>169</td>
      <td>Recurrent Payment is not active</td>
      <td>Recorrência não está ativa. Execução paralizada</td>
      <td> </td>
    </tr>
    <tr>
      <td>170</td>
      <td>Cartão Protegido not configured</td>
      <td>Cartão protegido não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>171</td>
      <td>Affiliation data not sent</td>
      <td>Falha no processamento do pedido - Entre em contato com o suporte Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>172</td>
      <td>Credential Code is required</td>
      <td>Falha na validação das credenciadas enviadas</td>
      <td> </td>
    </tr>
    <tr>
      <td>173</td>
      <td>Payment method is not enabled</td>
      <td>Meio de pagamento não vinculado ao cadastro do lojista</td>
      <td> </td>
    </tr>
    <tr>
      <td>174</td>
      <td>Card Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>175</td>
      <td>EAN is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>176</td>
      <td>Payment Currency is not supported</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>177</td>
      <td>Card Number is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>178</td>
      <td>EAN is invalid</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>179</td>
      <td>The max number of installments allowed for recurring payment is 1</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>180</td>
      <td>The provided Card PaymentToken was not found</td>
      <td>Token do Cartão protegido não encontrado</td>
      <td> </td>
    </tr>
    <tr>
      <td>181</td>
      <td>The MerchantIdJustClick is not configured</td>
      <td>Token do Cartão protegido bloqueado</td>
      <td> </td>
    </tr>
    <tr>
      <td>182</td>
      <td>Brand is required</td>
      <td>Bandeira do cartão não enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>183</td>
      <td>Invalid customer bithdate</td>
      <td>Data de nascimento inválida ou futura</td>
      <td> </td>
    </tr>
    <tr>
      <td>184</td>
      <td>Request could not be empty</td>
      <td>Falha no formado da requisição. Verifique o código enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>185</td>
      <td>Brand is not supported by selected provider</td>
      <td>Bandeira não suportada pela API Cielo</td>
      <td> </td>
    </tr>
    <tr>
      <td>186</td>
      <td>The selected provider does not support the options provided (Capture, Authenticate, Recurrent or Installments)</td>
      <td>Meio de pagamento não suporta o comando enviado</td>
      <td> </td>
    </tr>
    <tr>
      <td>187</td>
      <td>ExtraData Collection contains one or more duplicated names</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>188</td>
      <td>Avs with CPF invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>189</td>
      <td>Avs with length of street exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>190</td>
      <td>Avs with length of number exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>191</td>
      <td>Avs with length of district exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>192</td>
      <td>Avs with zip code invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>193</td>
      <td>Split Amount must be greater than zero</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>194</td>
      <td>Split Establishment is Required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>195</td>
      <td>The PlataformId is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>196</td>
      <td>DeliveryAddress is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>197</td>
      <td>Street is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>198</td>
      <td>Number is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>199</td>
      <td>ZipCode is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>200</td>
      <td>City is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>201</td>
      <td>State is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>202</td>
      <td>District is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>203</td>
      <td>Cart item Name is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>204</td>
      <td>Cart item Quantity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>205</td>
      <td>Cart item type is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>206</td>
      <td>Cart item name length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>207</td>
      <td>Cart item description length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>208</td>
      <td>Cart item sku length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>209</td>
      <td>Shipping addressee sku length exceeded</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>210</td>
      <td>Shipping data cannot be null</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>211</td>
      <td>WalletKey is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>212</td>
      <td>Merchant Wallet Configuration not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>213</td>
      <td>Credit Card Number is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>214</td>
      <td>Credit Card Holder Must Have Only Letters</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>215</td>
      <td>Agency is required in Boleto Credential</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>216</td>
      <td>Customer IP address is invalid</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>300</td>
      <td>MerchantId was not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>301</td>
      <td>Request IP is not allowed</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>302</td>
      <td>Sent MerchantOrderId is duplicated</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>303</td>
      <td>Sent OrderId does not exist</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>304</td>
      <td>Customer Identity is required</td>
      <td>Campo enviado está vazio ou inválido</td>
      <td> </td>
    </tr>
    <tr>
      <td>306</td>
      <td>Merchant is blocked</td>
      <td>Merchant está bloqueado</td>
      <td> </td>
    </tr>
    <tr>
      <td>307</td>
      <td>Transaction not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>308</td>
      <td>Transaction not available to capture</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>309</td>
      <td>Transaction not available to void</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>310</td>
      <td>Payment method doest not support this operation</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>311</td>
      <td>Refund is not enabled for this merchant</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>312</td>
      <td>Transaction not available to refund</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>313</td>
      <td>Recurrent Payment not found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>314</td>
      <td>Invalid Integration</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>315</td>
      <td>Cannot change NextRecurrency with pending payment</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>316</td>
      <td>Cannot set NextRecurrency to past date</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>317</td>
      <td>Invalid Recurrency Day</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>318</td>
      <td>No transaction found</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>319</td>
      <td>Smart recurrency is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>320</td>
      <td>Can not Update Affiliation Because this Recurrency not Affiliation saved</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>321</td>
      <td>Can not set EndDate to before next recurrency</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>322</td>
      <td>Zero Dollar Auth is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>323</td>
      <td>Bin Query is not enabled</td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-de-retorno">Códigos de Retorno</h3>

<table>
  <thead>
    <tr>
      <th>Código Resposta</th>
      <th>Definição</th>
      <th>Significado</th>
      <th>Ação</th>
      <th>Permite Retentativa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>00</td>
      <td>Transação autorizada com sucesso.</td>
      <td>Transação autorizada com sucesso.</td>
      <td>Transação autorizada com sucesso.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>01</td>
      <td>Transação não autorizada. Transação referida.</td>
      <td>Transação não autorizada. Referida (suspeita de fraude) pelo banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>02</td>
      <td>Transação não autorizada. Transação referida.</td>
      <td>Transação não autorizada. Referida (suspeita de fraude) pelo banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>03</td>
      <td>Transação não permitida. Erro no cadastramento do código do estabelecimento no arquivo de configuração do TEF</td>
      <td>Transação não permitida. Estabelecimento inválido. Entre com contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Entre com contato com a Loja Virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>04</td>
      <td>Transação não autorizada. Cartão bloqueado pelo banco emissor.</td>
      <td>Transação não autorizada. Cartão bloqueado pelo banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>05</td>
      <td>Transação não autorizada. Cartão inadimplente (Do not honor).</td>
      <td>Transação não autorizada. Não foi possível processar a transação. Questão relacionada a segurança, inadimplencia ou limite do portador.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>06</td>
      <td>Transação não autorizada. Cartão cancelado.</td>
      <td>Transação não autorizada. Não foi possível processar a transação. Cartão cancelado permanentemente pelo banco emissor.</td>
      <td>Não foi possível processar a transação. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>07</td>
      <td>Transação negada. Reter cartão condição especial</td>
      <td>Transação não autorizada por regras do banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>08</td>
      <td>Transação não autorizada. Código de segurança inválido.</td>
      <td>Transação não autorizada. Código de segurança inválido. Oriente o portador a corrigir os dados e tentar novamente.</td>
      <td>Transação não autorizada. Dados incorretos. Reveja os dados e informe novamente.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>09</td>
      <td>Transação cancelada parcialmente com sucesso.</td>
      <td>Transação cancelada parcialmente com sucesso</td>
      <td>Transação cancelada parcialmente com sucesso</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Transação autorizada com sucesso para cartão emitido no exterior</td>
      <td>Transação autorizada com sucesso.</td>
      <td>Transação autorizada com sucesso.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Transação inválida, erro no cartão.</td>
      <td>Não foi possível processar a transação. Solicite ao portador que verifique os dados do cartão e tente novamente.</td>
      <td>Não foi possível processar a transação. reveja os dados informados e tente novamente. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Transação não permitida. Valor da transação Inválido.</td>
      <td>Transação não permitida. Valor inválido. Solicite ao portador que reveja os dados e novamente. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Transação não autorizada. Valor inválido. Refazer a transação confirmando os dados informados. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>14</td>
      <td>Transação não autorizada. Cartão Inválido</td>
      <td>Transação não autorizada. Cartão inválido. Pode ser bloqueio do cartão no banco emissor, dados incorretos ou tentativas de testes de cartão. Use o Algoritmo de Lhum (Mod 10) para evitar transações não autorizadas por esse motivo. Consulte www.cielo.com.br/desenvolvedores para implantar o Algoritmo de Lhum.</td>
      <td>Não foi possível processar a transação. reveja os dados informados e tente novamente. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>15</td>
      <td>Banco emissor indisponível ou inexistente.</td>
      <td>Transação não autorizada. Banco emissor indisponível.</td>
      <td>Não foi possível processar a transação. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>19</td>
      <td>Refaça a transação ou tente novamente mais tarde.</td>
      <td>Não foi possível processar a transação. Refaça a transação ou tente novamente mais tarde. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Refaça a transação ou tente novamente mais tarde. Se o erro persistir entre em contato com a loja virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>21</td>
      <td>Cancelamento não efetuado. Transação não localizada.</td>
      <td>Não foi possível processar o cancelamento. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar o cancelamento. Tente novamente mais tarde. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>22</td>
      <td>Parcelamento inválido. Número de parcelas inválidas.</td>
      <td>Não foi possível processar a transação. Número de parcelas inválidas. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Valor inválido. Refazer a transação confirmando os dados informados. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>23</td>
      <td>Transação não autorizada. Valor da prestação inválido.</td>
      <td>Não foi possível processar a transação. Valor da prestação inválido. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Valor da prestação inválido. Refazer a transação confirmando os dados informados. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>24</td>
      <td>Quantidade de parcelas inválido.</td>
      <td>Não foi possível processar a transação. Quantidade de parcelas inválido. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Quantidade de parcelas inválido. Refazer a transação confirmando os dados informados. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>25</td>
      <td>Pedido de autorização não enviou número do cartão</td>
      <td>Não foi possível processar a transação. Solicitação de autorização não enviou o número do cartão. Se o erro persistir, verifique a comunicação entre loja virtual e Cielo.</td>
      <td>Não foi possível processar a transação. reveja os dados informados e tente novamente. Persistindo o erro, entrar em contato com a loja virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>28</td>
      <td>Arquivo temporariamente indisponível.</td>
      <td>Não foi possível processar a transação. Arquivo temporariamente indisponível. Reveja a comunicação entre Loja Virtual e Cielo. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Não foi possível processar a transação. Entre com contato com a Loja Virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>30</td>
      <td>Transação não autorizada. Decline Message</td>
      <td>Não foi possível processar a transação. Solicite ao portador que reveja os dados e tente novamente. Se o erro persistir verifique a comunicação com a Cielo esta sendo feita corretamente</td>
      <td>Não foi possível processar a transação. Reveja os dados e tente novamente. Se o erro persistir, entre em contato com a loja</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>39</td>
      <td>Transação não autorizada. Erro no banco emissor.</td>
      <td>Transação não autorizada. Erro no banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>41</td>
      <td>Transação não autorizada. Cartão bloqueado por perda.</td>
      <td>Transação não autorizada. Cartão bloqueado por perda.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>43</td>
      <td>Transação não autorizada. Cartão bloqueado por roubo.</td>
      <td>Transação não autorizada. Cartão bloqueado por roubo.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>51</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>52</td>
      <td>Cartão com dígito de controle inválido.</td>
      <td>Não foi possível processar a transação. Cartão com dígito de controle inválido.</td>
      <td>Transação não autorizada. Reveja os dados informados e tente novamente.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>53</td>
      <td>Transação não permitida. Cartão poupança inválido</td>
      <td>Transação não permitida. Cartão poupança inválido.</td>
      <td>Não foi possível processar a transação. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>54</td>
      <td>Transação não autorizada. Cartão vencido</td>
      <td>Transação não autorizada. Cartão vencido.</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>55</td>
      <td>Transação não autorizada. Senha inválida</td>
      <td>Transação não autorizada. Senha inválida.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>57</td>
      <td>Transação não permitida para o cartão</td>
      <td>Transação não autorizada. Transação não permitida para o cartão.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>58</td>
      <td>Transação não permitida. Opção de pagamento inválida.</td>
      <td>Transação não permitida. Opção de pagamento inválida. Reveja se a opção de pagamento escolhida está habilitada no cadastro</td>
      <td>Transação não autorizada. Entre em contato com sua loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>59</td>
      <td>Transação não autorizada. Suspeita de fraude.</td>
      <td>Transação não autorizada. Suspeita de fraude.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>60</td>
      <td>Transação não autorizada.</td>
      <td>Transação não autorizada. Tente novamente. Se o erro persistir o portador deve entrar em contato com o banco emissor.</td>
      <td>Não foi possível processar a transação. Tente novamente mais tarde. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>61</td>
      <td>Banco emissor indisponível.</td>
      <td>Transação não autorizada. Banco emissor indisponível.</td>
      <td>Transação não autorizada. Tente novamente. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>62</td>
      <td>Transação não autorizada. Cartão restrito para uso doméstico</td>
      <td>Transação não autorizada. Cartão restrito para uso doméstico.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>63</td>
      <td>Transação não autorizada. Violação de segurança</td>
      <td>Transação não autorizada. Violação de segurança.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>64</td>
      <td>Transação não autorizada. Valor abaixo do mínimo exigido pelo banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Transação não autorizada. Valor abaixo do mínimo exigido pelo banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>65</td>
      <td>Transação não autorizada. Excedida a quantidade de transações para o cartão.</td>
      <td>Transação não autorizada. Excedida a quantidade de transações para o cartão.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>67</td>
      <td>Transação não autorizada. Cartão bloqueado para compras hoje.</td>
      <td>Transação não autorizada. Cartão bloqueado para compras hoje. Bloqueio pode ter ocorrido por excesso de tentativas inválidas. O cartão será desbloqueado automaticamente à meia noite.</td>
      <td>Transação não autorizada. Cartão bloqueado temporariamente. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>70</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>72</td>
      <td>Cancelamento não efetuado. Saldo disponível para cancelamento insuficiente.</td>
      <td>Cancelamento não efetuado. Saldo disponível para cancelamento insuficiente. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Cancelamento não efetuado. Tente novamente mais tarde. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>74</td>
      <td>Transação não autorizada. A senha está vencida.</td>
      <td>Transação não autorizada. A senha está vencida.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>75</td>
      <td>Senha bloqueada. Excedeu tentativas de cartão.</td>
      <td>Transação não autorizada.</td>
      <td>Sua Transação não pode ser processada. Entre em contato com o Emissor do seu cartão.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>76</td>
      <td>Cancelamento não efetuado. Banco emissor não localizou a transação original</td>
      <td>Cancelamento não efetuado. Banco emissor não localizou a transação original</td>
      <td>Cancelamento não efetuado. Entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>77</td>
      <td>Cancelamento não efetuado. Não foi localizado a transação original</td>
      <td>Cancelamento não efetuado. Não foi localizado a transação original</td>
      <td>Cancelamento não efetuado. Entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>78</td>
      <td>Transação não autorizada. Cartão bloqueado primeiro uso.</td>
      <td>Transação não autorizada. Cartão bloqueado primeiro uso. Solicite ao portador que desbloqueie o cartão diretamente com seu banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor e solicite o desbloqueio do cartão.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>80</td>
      <td>Transação não autorizada. Divergencia na data de transação/pagamento.</td>
      <td>Transação não autorizada. Data da transação ou data do primeiro pagamento inválida.</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>82</td>
      <td>Transação não autorizada. Cartão inválido.</td>
      <td>Transação não autorizada. Cartão Inválido. Solicite ao portador que reveja os dados e tente novamente.</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>83</td>
      <td>Transação não autorizada. Erro no controle de senhas</td>
      <td>Transação não autorizada. Erro no controle de senhas</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados. Se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>85</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>86</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>88</td>
      <td>Falha na criptografia dos dados.</td>
      <td>Falha na criptografia dos dados.</td>
      <td>Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>89</td>
      <td>Erro na transação.</td>
      <td>Transação não autorizada. Erro na transação. O portador deve tentar novamente e se o erro persistir, entrar em contato com o banco emissor.</td>
      <td>Transação não autorizada. Erro na transação. Tente novamente e se o erro persistir, entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>90</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>91</td>
      <td>Transação não autorizada. Banco emissor temporariamente indisponível.</td>
      <td>Transação não autorizada. Banco emissor temporariamente indisponível.</td>
      <td>Transação não autorizada. Banco emissor temporariamente indisponível. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>92</td>
      <td>Transação não autorizada. Tempo de comunicação excedido.</td>
      <td>Transação não autorizada. Tempo de comunicação excedido.</td>
      <td>Transação não autorizada. Comunicação temporariamente indisponível. Entre em contato com a loja virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>93</td>
      <td>Transação não autorizada. Violação de regra - Possível erro no cadastro.</td>
      <td>Transação não autorizada. Violação de regra - Possível erro no cadastro.</td>
      <td>Sua transação não pode ser processada. Entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>94</td>
      <td>Transação duplicada.</td>
      <td>Transação duplicada enviado para autorização/captura.</td>
      <td>O estabelecimento deve revisar as transações enviadas.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>96</td>
      <td>Falha no processamento.</td>
      <td>Não foi possível processar a transação. Falha no sistema da Cielo. Se o erro persistir, entre em contato com a Cielo.</td>
      <td>Sua Transação não pode ser processada, Tente novamente mais tarde. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>97</td>
      <td>Valor não permitido para essa transação.</td>
      <td>Transação não autorizada. Valor não permitido para essa transação.</td>
      <td>Transação não autorizada. Valor não permitido para essa transação.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>98</td>
      <td>Sistema/comunicação indisponível.</td>
      <td>Transação não autorizada. Sistema do emissor sem comunicação. Se for geral, verificar SITEF, GATEWAY e/ou Conectividade.</td>
      <td>Sua Transação não pode ser processada, Tente novamente mais tarde. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>99</td>
      <td>Sistema/comunicação indisponível.</td>
      <td>Transação não autorizada. Sistema do emissor sem comunicação. Tente mais tarde.  Pode ser erro no SITEF, favor verificar !</td>
      <td>Sua Transação não pode ser processada, Tente novamente mais tarde. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>475</td>
      <td>Timeout de Cancelamento</td>
      <td>A aplicação não respondeu dentro do tempo esperado.</td>
      <td>Realizar uma nova tentativa após alguns segundos. Persistindo, entrar em contato com o Suporte.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>999</td>
      <td>Sistema/comunicação indisponível.</td>
      <td>Transação não autorizada. Sistema do emissor sem comunicação. Tente mais tarde.  Pode ser erro no SITEF, favor verificar !</td>
      <td>Sua Transação não pode ser processada, Tente novamente mais tarde. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>AA</td>
      <td>Tempo Excedido</td>
      <td>Tempo excedido na comunicação com o banco emissor. Oriente o portador a tentar novamente, se o erro persistir será necessário que o portador contate seu banco emissor.</td>
      <td>Tempo excedido na sua comunicação com o banco emissor, tente novamente mais tarde. Se o erro persistir, entre em contato com seu banco.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>AC</td>
      <td>Transação não permitida. Cartão de débito sendo usado com crédito. Use a função débito.</td>
      <td>Transação não permitida. Cartão de débito sendo usado com crédito. Solicite ao portador que selecione a opção de pagamento Cartão de Débito.</td>
      <td>Transação não autorizada. Tente novamente selecionando a opção de pagamento cartão de débito.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AE</td>
      <td>Tente Mais Tarde</td>
      <td>Tempo excedido na comunicação com o banco emissor. Oriente o portador a tentar novamente, se o erro persistir será necessário que o portador contate seu banco emissor.</td>
      <td>Tempo excedido na sua comunicação com o banco emissor, tente novamente mais tarde. Se o erro persistir, entre em contato com seu banco.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>AF</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AG</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AH</td>
      <td>Transação não permitida. Cartão de crédito sendo usado com débito. Use a função crédito.</td>
      <td>Transação não permitida. Cartão de crédito sendo usado com débito. Solicite ao portador que selecione a opção de pagamento Cartão de Crédito.</td>
      <td>Transação não autorizada. Tente novamente selecionando a opção de pagamento cartão de crédito.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AI</td>
      <td>Transação não autorizada. Autenticação não foi realizada.</td>
      <td>Transação não autorizada. Autenticação não foi realizada. O portador não concluiu a autenticação. Solicite ao portador que reveja os dados e tente novamente. Se o erro persistir, entre em contato com a Cielo informando o BIN (6 primeiros dígitos do cartão)</td>
      <td>Transação não autorizada. Autenticação não foi realizada com sucesso. Tente novamente e informe corretamente os dados solicitado. Se o erro persistir, entre em contato com o lojista.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AJ</td>
      <td>Transação não permitida. Transação de crédito ou débito em uma operação que permite apenas Private Label. Tente novamente selecionando a opção Private Label.</td>
      <td>Transação não permitida. Transação de crédito ou débito em uma operação que permite apenas Private Label. Solicite ao portador que tente novamente selecionando a opção Private Label. Caso não disponibilize a opção Private Label verifique na Cielo se o seu estabelecimento permite essa operação.</td>
      <td>Transação não permitida. Transação de crédito ou débito em uma operação que permite apenas Private Label. Tente novamente e selecione a opção Private Label. Em caso de um novo erro entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>AV</td>
      <td>Transação não autorizada. Dados Inválidos</td>
      <td>Falha na validação dos dados da transação. Oriente o portador a rever os dados e tentar novamente.</td>
      <td>Falha na validação dos dados. Reveja os dados informados e tente novamente.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>BD</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento.Solicite ao portador que digite novamente os dados do cartão, se o erro persistir pode haver um problema no terminal do lojista, nesse caso o lojista deve entrar em contato com a Cielo.</td>
      <td>Transação não permitida. Informe os dados do cartão novamente. Se o erro persistir, entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>BL</td>
      <td>Transação não autorizada. Limite diário excedido.</td>
      <td>Transação não autorizada. Limite diário excedido. Solicite ao portador que entre em contato com seu banco emissor.</td>
      <td>Transação não autorizada. Limite diário excedido. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>BM</td>
      <td>Transação não autorizada. Cartão Inválido</td>
      <td>Transação não autorizada. Cartão inválido. Pode ser bloqueio do cartão no banco emissor ou dados incorretos. Tente usar o Algoritmo de Lhum (Mod 10) para evitar transações não autorizadas por esse motivo.</td>
      <td>Transação não autorizada. Cartão inválido.  Refaça a transação confirmando os dados informados.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>BN</td>
      <td>Transação não autorizada. Cartão ou conta bloqueado.</td>
      <td>Transação não autorizada. O cartão ou a conta do portador está bloqueada. Solicite ao portador que entre em contato com  seu banco emissor.</td>
      <td>Transação não autorizada. O cartão ou a conta do portador está bloqueada. Entre em contato com  seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>BO</td>
      <td>Transação não permitida. Falha da operação.</td>
      <td>Transação não permitida. Houve um erro no processamento. Solicite ao portador que digite novamente os dados do cartão, se o erro persistir, entre em contato com o banco emissor.</td>
      <td>Transação não permitida. Houve um erro no processamento. Digite novamente os dados do cartão, se o erro persistir, entre em contato com o banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>BP</td>
      <td>Transação não autorizada. Conta corrente inexistente.</td>
      <td>Transação não autorizada. Não possível processar a transação por um erro relacionado ao cartão ou conta do portador. Solicite ao portador que entre em contato com o banco emissor.</td>
      <td>Transação não autorizada. Não possível processar a transação por um erro relacionado ao cartão ou conta do portador. Entre em contato com o banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>BP176</td>
      <td>Transação não permitida.</td>
      <td>Parceiro deve checar se o processo de integração foi concluído com sucesso.</td>
      <td>Parceiro deve checar se o processo de integração foi concluído com sucesso.</td>
      <td>—</td>
    </tr>
    <tr>
      <td>BV</td>
      <td>Transação não autorizada. Cartão vencido</td>
      <td>Transação não autorizada. Cartão vencido.</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>CF</td>
      <td>Transação não autorizada.C79:J79 Falha na validação dos dados.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Solicite ao portador que entre em contato com o banco emissor.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Entre em contato com o banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>CG</td>
      <td>Transação não autorizada. Falha na validação dos dados.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Solicite ao portador que entre em contato com o banco emissor.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Entre em contato com o banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>DA</td>
      <td>Transação não autorizada. Falha na validação dos dados.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Solicite ao portador que entre em contato com o banco emissor.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Entre em contato com o banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>DF</td>
      <td>Transação não permitida. Falha no cartão ou cartão inválido.</td>
      <td>Transação não permitida. Falha no cartão ou cartão inválido. Solicite ao portador que digite novamente os dados do cartão, se o erro persistir, entre em contato com o banco</td>
      <td>Transação não permitida. Falha no cartão ou cartão inválido. Digite novamente os dados do cartão, se o erro persistir, entre em contato com o banco</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>DM</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Limite excedido/sem saldo.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>DQ</td>
      <td>Transação não autorizada. Falha na validação dos dados.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Solicite ao portador que entre em contato com o banco emissor.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Entre em contato com o banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>DS</td>
      <td>Transação não permitida para o cartão</td>
      <td>Transação não autorizada. Transação não permitida para o cartão.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>EB</td>
      <td>Transação não autorizada. Limite diário excedido.</td>
      <td>Transação não autorizada. Limite diário excedido. Solicite ao portador que entre em contato com seu banco emissor.</td>
      <td>Transação não autorizada. Limite diário excedido. Entre em contato com seu banco emissor.</td>
      <td>A partir do dia seguinte, apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>EE</td>
      <td>Transação não permitida. Valor da parcela inferior ao mínimo permitido.</td>
      <td>Transação não permitida. Valor da parcela inferior ao mínimo permitido. Não é permitido parcelas inferiores a R$ 5,00. Necessário rever calculo para parcelas.</td>
      <td>Transação não permitida. O valor da parcela está abaixo do mínimo permitido. Entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>EK</td>
      <td>Transação não permitida para o cartão</td>
      <td>Transação não autorizada. Transação não permitida para o cartão.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>FA</td>
      <td>Transação não autorizada.</td>
      <td>Transação não autorizada AmEx.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>FC</td>
      <td>Transação não autorizada. Ligue Emissor</td>
      <td>Transação não autorizada. Oriente o portador a entrar em contato com o banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>FD</td>
      <td>Transação negada. Reter cartão condição especial</td>
      <td>Transação não autorizada por regras do banco emissor.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>FE</td>
      <td>Transação não autorizada. Divergencia na data de transação/pagamento.</td>
      <td>Transação não autorizada. Data da transação ou data do primeiro pagamento inválida.</td>
      <td>Transação não autorizada. Refazer a transação confirmando os dados.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>FF</td>
      <td>Cancelamento OK</td>
      <td>Transação de cancelamento autorizada com sucesso. ATENÇÂO: Esse retorno é para casos de cancelamentos e não para casos de autorizações.</td>
      <td>Transação de cancelamento autorizada com sucesso</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>FG</td>
      <td>Transação não autorizada. Ligue AmEx 08007285090.</td>
      <td>Transação não autorizada. Oriente o portador a entrar em contato com a Central de Atendimento AmEx.</td>
      <td>Transação não autorizada. Entre em contato com a Central de Atendimento AmEx no telefone 08007285090</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>GA</td>
      <td>Aguarde Contato</td>
      <td>Transação não autorizada. Referida pelo Lynx Online de forma preventiva.</td>
      <td>Transação não autorizada. Entre em contato com o lojista.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>GD</td>
      <td>Transação não permitida.</td>
      <td>Transação não permitida. Entre em contato com a Cielo.</td>
      <td>Transação não permitida. Entre em contato com a Cielo.</td>
      <td>—</td>
    </tr>
    <tr>
      <td>HJ</td>
      <td>Transação não permitida. Código da operação inválido.</td>
      <td>Transação não permitida. Código da operação Coban inválido.</td>
      <td>Transação não permitida. Código da operação Coban inválido. Entre em contato com o lojista.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>IA</td>
      <td>Transação não permitida. Indicador da operação inválido.</td>
      <td>Transação não permitida. Indicador da operação Coban inválido.</td>
      <td>Transação não permitida. Indicador da operação Coban inválido. Entre em contato com o lojista.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>JB</td>
      <td>Transação não permitida. Valor da operação inválido.</td>
      <td>Transação não permitida. Valor da operação Coban inválido.</td>
      <td>Transação não permitida. Valor da operação Coban inválido. Entre em contato com o lojista.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>KA</td>
      <td>Transação não permitida. Falha na validação dos dados.</td>
      <td>Transação não permitida. Houve uma falha na validação dos dados. Solicite ao portador que reveja os dados e tente novamente. Se o erro persistir verifique a comunicação entre loja virtual e Cielo.</td>
      <td>Transação não permitida. Houve uma falha na validação dos dados. reveja os dados informados e tente novamente. Se o erro persistir entre em contato com a Loja Virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>KB</td>
      <td>Transação não permitida. Selecionado a opção incorrente.</td>
      <td>Transação não permitida. Selecionado a opção incorreta. Solicite ao portador que reveja os dados e tente novamente. Se o erro persistir deve ser verificado a comunicação entre loja virtual e Cielo.</td>
      <td>Transação não permitida. Selecionado a opção incorreta. Tente novamente. Se o erro persistir entre em contato com a Loja Virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>KE</td>
      <td>Transação não autorizada. Falha na validação dos dados.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Opção selecionada não está habilitada. Verifique as opções disponíveis para o portador.</td>
      <td>Transação não autorizada. Falha na validação dos dados. Opção selecionada não está habilitada. Entre em contato com a loja virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>N7</td>
      <td>Transação não autorizada. Código de segurança inválido.</td>
      <td>Transação não autorizada. Código de segurança inválido. Oriente o portador corrigir os dados e tentar novamente.</td>
      <td>Transação não autorizada. Reveja os dados e informe novamente.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>R1</td>
      <td>Transação não autorizada. Cartão inadimplente (Do not honor).</td>
      <td>Transação não autorizada. Não foi possível processar a transação. Questão relacionada a segurança, inadimplencia ou limite do portador.</td>
      <td>Transação não autorizada. Entre em contato com seu banco emissor.</td>
      <td>Apenas 4 vezes em 16 dias.</td>
    </tr>
    <tr>
      <td>U3</td>
      <td>Transação não permitida. Falha na validação dos dados.</td>
      <td>Transação não permitida. Houve uma falha na validação dos dados. Solicite ao portador que reveja os dados e tente novamente. Se o erro persistir verifique a comunicação entre loja virtual e Cielo.</td>
      <td>Transação não permitida. Houve uma falha na validação dos dados. reveja os dados informados e tente novamente. Se o erro persistir entre em contato com a Loja Virtual.</td>
      <td>Não</td>
    </tr>
    <tr>
      <td>GD</td>
      <td>Transação não permitida</td>
      <td>Transação não permitida</td>
      <td>Transação não é possível ser processada no estabelecimento. Entre em contato com a Cielo para obter mais detalhes Transação</td>
      <td>Não</td>
    </tr>
  </tbody>
</table>

<h3 id="códigos-de-motivo-de-retorno">Códigos de Motivo de Retorno</h3>

<table>
  <thead>
    <tr>
      <th>Reason Code</th>
      <th>Reason Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Successful</td>
    </tr>
    <tr>
      <td>1</td>
      <td>AffiliationNotFound</td>
    </tr>
    <tr>
      <td>2</td>
      <td>IssuficientFunds</td>
    </tr>
    <tr>
      <td>3</td>
      <td>CouldNotGetCreditCard</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ConnectionWithAcquirerFailed</td>
    </tr>
    <tr>
      <td>5</td>
      <td>InvalidTransactionType</td>
    </tr>
    <tr>
      <td>6</td>
      <td>InvalidPaymentPlan</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Denied</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Scheduled</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Waiting</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Authenticated</td>
    </tr>
    <tr>
      <td>11</td>
      <td>NotAuthenticated</td>
    </tr>
    <tr>
      <td>12</td>
      <td>ProblemsWithCreditCard</td>
    </tr>
    <tr>
      <td>13</td>
      <td>CardCanceled</td>
    </tr>
    <tr>
      <td>14</td>
      <td>BlockedCreditCard</td>
    </tr>
    <tr>
      <td>15</td>
      <td>CardExpired</td>
    </tr>
    <tr>
      <td>16</td>
      <td>AbortedByFraud</td>
    </tr>
    <tr>
      <td>17</td>
      <td>CouldNotAntifraud</td>
    </tr>
    <tr>
      <td>18</td>
      <td>TryAgain</td>
    </tr>
    <tr>
      <td>19</td>
      <td>InvalidAmount</td>
    </tr>
    <tr>
      <td>20</td>
      <td>ProblemsWithIssuer</td>
    </tr>
    <tr>
      <td>21</td>
      <td>InvalidCardNumber</td>
    </tr>
    <tr>
      <td>22</td>
      <td>TimeOut</td>
    </tr>
    <tr>
      <td>23</td>
      <td>CartaoProtegidoIsNotEnabled</td>
    </tr>
    <tr>
      <td>24</td>
      <td>PaymentMethodIsNotEnabled</td>
    </tr>
    <tr>
      <td>98</td>
      <td>InvalidRequest</td>
    </tr>
    <tr>
      <td>99</td>
      <td>InternalError</td>
    </tr>
  </tbody>
</table>

</div>


            <div class="footer-conteudo">
    <div id="footer-conteudo-img" class="col-lg-1 col-md-1">
            <img src="https://developercielo.github.io/assets/images/icon-doubt.svg" width="55px" height="53px" alt="Precisa de ajuda?">
    </div>

    <div id="footer-conteudo-texto" class="col-lg-11 col-md-11">
        <h2>Precisa de ajuda?</h2>
        <p>Se você não conseguiu encontrar sua resposta acima, <a href="https://devcielo.zendesk.com/hc/pt-br#suporte">entre em contato conosco</a>.</p>
    </div>
</div>

        </div>

        <div class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar-about">
      <a title="Comutar a coluna da esquerda" class="hamburger">
        <i class="fa fa-bars hamb-menu" aria-hidden="true"></i>
      </a>
      <a href="https://desenvolvedores.cielo.com.br" target="_blank">
        <img src="https://developercielo.github.io/assets/images/logo.png" alt="Documentações e tutoriais" style="width: 60%; margin-left: 20%">
      </a>
      <div></div>
    </div>

    <div id="toc"></div>

    <div class="fixed-footer">
        
        <div class="toc-footer">
            <h2 class="no-toc toc-footer-title">Materiais complementares</h2>
            

            
            
            

            <ul class="toc-footer">
            
                
            
                
                    
                    <li><a href="https://developercielo.github.io/tutorial/tutoriais-3-0" title="O objetivo deste documento é orientar o lojista sobre como acessar Backoffice da API Cielo Ecommerce. Descrevendo as funcionalidades, os métodos a serem utilizados, listando informações necessárias e provendo exemplos.">Tutoriais</a></li>
                
            
                
                    
                    <li><a href="https://developercielo.github.io/manual/prevencao-fraudes" title="Manual de prevenção contra fraudes e chargebacks">Prevenção contra Fraudes e Chargeback</a></li>
                
            
                
                    
                    <li><a href="https://developercielo.github.io/tutorial/postman" title="O Postman é um API Client que facilita aos desenvolvedores criar, compartilhar, testar e documentar APIs.">Postman Cielo</a></li>
                
            
                
                    
                    <li><a href="https://developercielo.github.io/solucao-omni" title="API para integração de vendas no físico e OnLine">Manual de Integração Solução Omni</a></li>
                
            
            </ul>
        </div>
        

    <div class="toc-contact">
      <div class="contact">
        <a title="Contato" href="#">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span>Contato</span>
        </a>
      </div>
      <div class="github">
        <a title="GitHub" href="https://github.com/developercielo">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
  </div>
</div>


        <script src="https://developercielo.github.io/assets/bundles/js/bundle.min.js"></script>
        <script>
            
            var selectors = 'h1,h2,h3,h4,h5,h6';
            
        </script>

        
        <script src="https://developercielo.github.io/assets/bundles/js/search.min.js"></script>
        

        
        <script>
            let langs = '';
            let langsArray = [];

            
            langs += "<a data-language-name='json'>JSON</a>";
            langsArray.push('json');
            
            langs += "<a data-language-name='shell'>cURL</a>";
            langsArray.push('shell');
            

            var toggleCode = 'Comutar';
        </script>

        <script src='https://developercielo.github.io/assets/bundles/js/language_buttons.min.js'></script>
        

        <!-- Hotjar Tracking Code for https://developercielo.github.io/ -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:674586,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    </body>
</html>
