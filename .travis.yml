language: ruby

cache:
  yarn: true
  bundler: true
  directories:
    - node_modules

rvm:
 - 2.4

before_install:
 - nvm install 8 

before_script:
 - chmod +x ./script/build

script: ./script/build

branches:
  except:
  - master
  only:
  - docs


env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true

deploy:
  provider: pages
  cleanup: true
  token: $GH_TOKENN  # Set in the settings page of your repository, as a secure variable
  keep_history: true
