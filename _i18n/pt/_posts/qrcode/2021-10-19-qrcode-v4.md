---
layout: manual
title: Manual de Integração - v4
description: Manual de Integração de Parceiros - Pagamento QR Code
search: true
translated: true
categories: manual
sort_order: 1
tags:
  - Pagamento QR Code
---

# Ambientes

## Homologação

|Ambiente|Endereço|Descrição|
|---|---|---|
|Homologação|api2.cielo.com.br/sandbox |Deve ser utilizado como o ambiente de desenvolvimento/testes de parceiro.|
|Homologação|api2.cielo.com.br/sandbox/v2/oauth/token |(formato url encoded)|
|Homologação|api2.cielo.com.br/sandbox/v2/oauth/access-token|(formato json)|
|Homologação|api2.cielo.com.br/sandbox/padraoq/v1/publicKey| chave pública da criptografia |
|Homologação|api2.cielo.com.br/sandbox/padraoq/v1/parsedQRCode| Uso opcional|
|Homologação|api2.cielo.com.br/sandbox/padraoq/v1/payment/card| Recurso para efetuar o pagamento|

## Produção 

|Ambiente|Endereço|Descrição|
|---|---|---|
|Produção|api2.cielo.com.br|Deve-se utilizar quando portar as credenciais de produção e um bom nível de maturidade com o ambiente de homologação.|
|Produção|api2.cielo.com.br/v2/oauth/token |(formato url encoded)|
|Produção|api2.cielo.com.br/v2/oauth/access-token|(formato json)|
|Produção|api2.cielo.com.br/padraoq/v1/publicKey| chave pública da criptografia |
|Produção|api2.cielo.com.br/padraoq/v1/parsedQRCode| Uso opcional|
|Produção|api2.cielo.com.br/padraoq/v1/payment/card| Recurso para efetuar o pagamento|

# Requerimentos para acesso

Para a utilização de nossas APIs precisamos receber as seguintes informações, para a criação do cliente id e Authorization.

* Nome
* E-mail
* Função
* Quem será o responsável pela integração (Responsável Técnico) para cadastro no API Suite?

**Informações que enviaremos**:

Após o envio das informações acima, enviaremos ao responsável o client_id (chave que identifica a APP) e o client_secret.

Qualquer dúvida, abra um ticket via [Zendesk](https://devcielo.zendesk.com/hc/pt-br/requests/new?ticket_form_id=360000330511)

# Fluxo de geração do Access Token (via format JSON)

O recurso **access_token** é responsável pela autenticação utilizando protocolo OAuth 2.0. Com o client_id e client_secret em mãos a requisição ao **POST /access_token** deve ser feita portando o **authorization** no **Header** e o **grant_type** no corpo da requisição, segue exemplo abaixo.

**Nota: O valor do authorization deve ser composto da palavra Basic com o Base64 gerado a partir da concatenação do client_id:client_secret**

## Contrato

> **POST** {{host}}/v2/oauth/token (formato url encoded)
>
> **POST** {{host}}/v2/oauth/access-token (formato json)
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **Authorization** | Basic + Base64 |
>| **Content-Type** | application-json |
>
> **Body**
>
> ```
> {
> "grant_type": "client_credentials"
> }
> ```

### Exemplo de Requisição

```

curl --location --request POST 'https://api2.cielo.com.br/v2/oauth/access-token' \
--header 'Authorization: Basic
dERxQUs000FoSDg5dFdpUWM1ejY0REJKc2lJTFpLbzh4TG0zV0p3eHkwRkQ0Y2dZVm46ZVZUVVZJZjFZWDJkOU40M0p4MVZwNGlWVXEzTzluTTR0TGF1UzhZYWo0V1JPcTJFSXU=' \
--header 'Content-Type: application/json' \
--data-raw '{
 "grant_type": "client_credentials",
"scopes": "qrcode_write,qrcode_read"
}

```

### Exemplo de Resposta

```

{
  "access_token": "5eb50e6b-2bfc-3a44-b9ba-b9ba75256e7e",
  "token_type": "bearer",
  "expires_in": 86400
}

```
