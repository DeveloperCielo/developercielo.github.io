---
layout: tutorial
title:  EDI - Electronic Statement
description: Instruções EDI
search: true
translated: true
toc_footers: true
categories: tutorial
sort_order: 7
tags:
  - EDI Cielo
---

# Introduction

This API makes possible to register groups and maintain their registration to receive Electronic Data Interchange (EDI) files

# Description

## Benefits

# Consent Flow

## Step 1 - Login

## Step 2 - Requesting an Access Token

## Step 3 - Requesting the APIs

### Step 3.1 - Updating an Access Token

#### Request

#### Response

### Errors

### Note

# Environment

|Environment|URL|
|---|---|
|Sandbox|https://api2.cielo.com.br/sandbox/edi-api/v2/|
|Homologation|https://apihom-cielo.sensedia.com/edi-api/v2/|

# Collection

We make the Collections used to perform all API operations available. You only need to configure the URL and credentials.

[Collections Download](https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ONBOARDING_EDI_CIELO_PARA_CONCILIADORAS.postman_collection.zip)

# Operations

## **POST** Register Merchant ID

Register Merchant ID (just one, a list or all), based on a Entity Number.

### Request

> **POST** {{host}}/edi/registers
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|

```

{
  "mainMerchantId": "9999111222",
  "merchants": [
    "9999111111",
    "9999111333"
  ],
  "merchantEMail": "customer@customer.com",
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`status`|Branch is available ou unavailable||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

### Response

```

{
  "legalEntityNumber": 1234567890,
  "mainMerchantId": 2008983,
  "registerID": 12345,
  "merchants": [
    823958412384701,
    679809436576210
  ],
  "type": [
    "SELL"
  ],
  "status": "PROCESSING"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||
|`status`|Branch is available ou unavailable||||

## **GET** Retrieve status

Retrieve the EDI registration status.

### Response

> **GET** {{host}}/edi/registers/{registerID}
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **registerID** |Value used to retrieve the registration status.|

```

{
  "legalEntityNumber": "01234567890",
  "registerID": 12345,
  "merchants": [
    9999222111,
    9999222222
  ],
  "status": "PROCESSING"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`status`|Branch is available ou unavailable||||

## **GET** Consult Register Merchant ID

Consult Merchant ID based on a Register ID or a Main Merchant ID.

### Response

> **GET** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|
>| **registerID** |Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).|
>| **mainMerchantID** |Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.|

```

{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999111111,
    9999111333
  ],
  "type": [
    "SELL"
  ],
  "acknowledge": "COMPLETED"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||
|`acknowledge`||||

## **PUT** Update Register Merchant ID

Update Merchant ID based on a Register ID or a Main Merchant ID.

### Request

> **PUT** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|

```

{
  "registerID": "string",
  "mainMerchantId": "9999222333",
  "merchants": [
    "9999222111",
    "9999222222"
  ],
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`registerID`|The same one provided by /edi/registers.|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

### Response

```

{
  "legalEntityNumber": "01234567890",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999222333,
    9999111222
  ],
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

## **DELETE** Delete Register Merchant ID

Delete MerchantID based on a Register ID or a Main Merchant ID.

### Response

> **DELETE** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|
>| **registerID** |Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).|
>| **mainMerchantID** |Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.|

```

{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "acknowledge": "COMPLETED"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`acknowledge`||||

## **GET** List of branches

Performs the list of customers below the informed access_token. The filter can be used to list only those available or unavailable. Unavailable means that the branch already participates in another register. In the register and editing services, there is validation to allow only those available to be informed.

### Response

> **GET** {{host}}/edi/merchantgroup
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **branchStatus** |BranchStatus is available ou unavailable.|

```

{
  "legalEntityNumber": "string",
  "branches": [
    {
      "merchantID": "9999111222",
      "legalEntityNumber": "01234567890",
      "businessName": "V",
      "status": "UNAVAILABLE"
    }
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`branches`|List of branches||||
|`businessName`|Legal business name||||
|`status`|Branch is available ou unavailable||||

# Types Of Electronic Statements

# Table A - File Types

|File Type|Information|Record Type|Objective|
|---|---|---|---|
|**03 Detailed Sales With Future Installments**|* Sales completed on the previous day, adjustments, and declined transactions, with payment schedule.<br> * All the first sales installments completed on the previous day.|0 - Header <br> 1 - Sales Summary (with the first installment) <br> 2 - Detailed Sales <br> 1 - Sales Summary (payment schedule for the second and remaining installments) <br> 9 - Trailer | Check whether all effective sales were received by Cielo and payment forecasts.|
|**04 Detailed Payments**|* Amounts paid into the merchant bank account on the day the Electronic Statement is sent out. <br> Transactions offset, as anticipated or transferred previously and payments of outstanding installments.| 0 - Header <br>1 - Sales Summary <br>2 - Detailed Sales <br>9 - Trailer| Check the origin of the payment received (type of sale, card brand, and client/merchant that made the sale). <br>Reconciliation with Merchant Bank account.|
|**06 Detailed Prepayment Cielo**|* Prepayment operation of the day before the file is sent out, with the respective summary and details.| 0 - Header <br>5 - Prepayment Operation <br>6 - Sales Summary <br>2 - Prepayment Detailed Sales <br>7 - Withheld prepayment by debits - Sales Summary 2 - Detailed Sales and Debits <br>9 - Trailer <br>Note: Record type 5 will be displayed for each merchant bank account.|Prepare cash flow, considering the prepayment amounts received.|
|**07 Assignment Of Receivables**|* Assignment operation conducted by the merchant bank account (only for Bradesco) on the day before the file is sent out. <br> The commercial terms negotiated or the indicator of the installment assigned is not shown.| 0 - Header <br> 5 - Assignment of Receivables <br> 6 - Assignment Sales Summary <br> 9 - Trailer <br> Note: Record type 5 will be displayed for each merchant bank account. <br>Prepare cash flow, considering the amounts received assignment operation.|
|**09 Remaining Balance**|* Cielo's future receivables, including the transactions conducted, captured, and processed, debit and credit sales, and installment transactions that were not settled in the previous month.<br> The file is made available monthly.|0 - Header <br> 1 - Sales Summary <br> 9 - Trailer| Update the forward-receipts with appropriate rebates Prepayments and Adjustments. <br> It should not be used for reconciliation.|
|**10 Detailed Prepayment Alelo**|Prepayment operation of the day before the file is sent out, with the respective summary and details.|0 - Header <br> 5 - Prepayment Operation <br> 6 - Sales Summary <br>2 - Prepayment Detailed Sales<br>7 - Withheld prepayment by debits - Sales Summary <br> 2 - Detailed Sales and Debits <br> 9 - Trailer <br> Note: Record type 5 will be displayed for each merchant bank account.|Prepare cash flow, considering the prepayment amounts received.|

## Layout For The Types Of Records

## Record 0 - Header

### Record 1 - Sales Summary

### Record 2 - Detailed Sales
