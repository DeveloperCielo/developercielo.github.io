---
layout: tutorial
title:  EDI - Electronic Statement
description: Instruções EDI
search: true
translated: true
toc_footers: true
categories: tutorial
sort_order: 7
tags:
  - EDI Cielo
---

# Introduction

This API makes possible to register groups and maintain their registration to receive Electronic Data Interchange (EDI) files

# Description

## Benefits

# Consent Flow

## Step 1 - Login

## Step 2 - Requesting an Access Token

## Step 3 - Requesting the APIs

### Step 3.1 - Updating an Access Token

#### Request

#### Response

### Errors

### Note

# Environment

|Environment|URL|
|---|---|
|Sandbox|https://api2.cielo.com.br/sandbox/edi-api/v2/|
|Homologation|https://apihom-cielo.sensedia.com/edi-api/v2/|

# Collection

We make the Collections used to perform all API operations available. You only need to configure the URL and credentials.

[Collections Download](https://desenvolvedores.cielo.com.br/api-portal/sites/default/files/ONBOARDING_EDI_CIELO_PARA_CONCILIADORAS.postman_collection.zip)

# Operations

## **POST** Register Merchant ID

Register Merchant ID (just one, a list or all), based on a Entity Number.

### Request

> **POST** {{host}}/edi/registers
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|

```

{
  "mainMerchantId": "9999111222",
  "merchants": [
    "9999111111",
    "9999111333"
  ],
  "merchantEMail": "customer@customer.com",
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`status`|Branch is available ou unavailable||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

### Response

```

{
  "legalEntityNumber": 1234567890,
  "mainMerchantId": 2008983,
  "registerID": 12345,
  "merchants": [
    823958412384701,
    679809436576210
  ],
  "type": [
    "SELL"
  ],
  "status": "PROCESSING"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||
|`status`|Branch is available ou unavailable||||

## **GET** Retrieve status

Retrieve the EDI registration status.

### Response

> **GET** {{host}}/edi/registers/{registerID}
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **registerID** |Value used to retrieve the registration status.|

```

{
  "legalEntityNumber": "01234567890",
  "registerID": 12345,
  "merchants": [
    9999222111,
    9999222222
  ],
  "status": "PROCESSING"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`status`|Branch is available ou unavailable||||

## **GET** Consult Register Merchant ID

Consult Merchant ID based on a Register ID or a Main Merchant ID.

### Response

> **GET** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|
>| **registerID** |Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).|
>| **mainMerchantID** |Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.|

```

{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999111111,
    9999111333
  ],
  "type": [
    "SELL"
  ],
  "acknowledge": "COMPLETED"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||
|`acknowledge`||||

## **PUT** Update Register Merchant ID

Update Merchant ID based on a Register ID or a Main Merchant ID.

### Request

> **PUT** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|

```

{
  "registerID": "string",
  "mainMerchantId": "9999222333",
  "merchants": [
    "9999222111",
    "9999222222"
  ],
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`registerID`|The same one provided by /edi/registers.|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

### Response

```

{
  "legalEntityNumber": "01234567890",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "merchants": [
    9999222333,
    9999111222
  ],
  "type": [
    "SELL"
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`merchants`|List representing the merchant codes registered. Example: List [ "9999111111", "9999111333" ]||||
|`type`|List representing TO BE state of conciliation file type. At least one of these files are required: SELL, PAYMENT, ANTECIPATION_CIELO||||

## **DELETE** Delete Register Merchant ID

Delete MerchantID based on a Register ID or a Main Merchant ID.

### Response

> **DELETE** {{host}}/edi
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **externalID** |Value generated by client to avoid duplicate request. That value can be used to get request. Do not used the same value for new requests.|
>| **registerID** |Registration ID provided by /edi/registers when registering. Can be used in place of mainMerchantID if preferred (only one needs to be informed).|
>| **mainMerchantID** |Main Customer ID. The most usual way to retrieve an EDI register in the company. Can be used instead of registerID mainly in cases of registration not performed by /edi/registers.|

```

{
  "legalEntityNumer": "12314314",
  "mainMerchantId": 9999111222,
  "registerID": 12345,
  "acknowledge": "COMPLETED"
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`mainMerchantId`|The most usual way to retrieve an EDI register in the company|String|||
|`registerID`|The same one provided by /edi/registers.|String|||
|`acknowledge`||||

## **GET** List of branches

Performs the list of customers below the informed access_token. The filter can be used to list only those available or unavailable. Unavailable means that the branch already participates in another register. In the register and editing services, there is validation to allow only those available to be informed.

### Response

> **GET** {{host}}/edi/merchantgroup
>
> **Headers**
>
>| Key | Value |
>|---|---|
>| **branchStatus** |BranchStatus is available ou unavailable.|

```

{
  "legalEntityNumber": "string",
  "branches": [
    {
      "merchantID": "9999111222",
      "legalEntityNumber": "01234567890",
      "businessName": "V",
      "status": "UNAVAILABLE"
    }
  ]
}

```

|Property|Description|Type|Size|Required|
|---|---|---|---|---|
|`legalEntityNumber`|Brazilian entity number. CPF por person and CNPJ for legal person|String|||
|`branches`|List of branches||||
|`businessName`|Legal business name||||
|`status`|Branch is available ou unavailable||||

# Types Of Electronic Statements

# Table A - File Types

|File Type|Information|Record Type|Objective|
|---|---|---|---|
|**03 Detailed Sales With Future Installments**|Sales completed on the previous day, adjustments, and declined transactions, with payment schedule.<br> All the first sales installments completed on the previous day.|0 - Header <br> 1 - Sales Summary (with the first installment) <br> 2 - Detailed Sales <br> 1 - Sales Summary (payment schedule for the second and remaining installments) <br> 9 - Trailer | Check whether all effective sales were received by Cielo and payment forecasts.|
|**04 Detailed Payments**|Amounts paid into the merchant bank account on the day the Electronic Statement is sent out. <br> Transactions offset, as anticipated or transferred previously and payments of outstanding installments.| 0 - Header <br>1 - Sales Summary <br>2 - Detailed Sales <br>9 - Trailer| Check the origin of the payment received (type of sale, card brand, and client/merchant that made the sale). <br>Reconciliation with Merchant Bank account.|
|**06 Detailed Prepayment Cielo**|Prepayment operation of the day before the file is sent out, with the respective summary and details.| 0 - Header <br>5 - Prepayment Operation <br>6 - Sales Summary <br>2 - Prepayment Detailed Sales <br>7 - Withheld prepayment by debits - Sales Summary 2 - Detailed Sales and Debits <br>9 - Trailer <br>Note: Record type 5 will be displayed for each merchant bank account.|Prepare cash flow, considering the prepayment amounts received.|
|**07 Assignment Of Receivables**|Assignment operation conducted by the merchant bank account (only for Bradesco) on the day before the file is sent out. <br> The commercial terms negotiated or the indicator of the installment assigned is not shown.| 0 - Header <br> 5 - Assignment of Receivables <br> 6 - Assignment Sales Summary <br> 9 - Trailer <br> Note: Record type 5 will be displayed for each merchant bank account. <br>Prepare cash flow, considering the amounts received assignment operation.|
|**09 Remaining Balance**|Cielo's future receivables, including the transactions conducted, captured, and processed, debit and credit sales, and installment transactions that were not settled in the previous month.<br> The file is made available monthly.|0 - Header <br> 1 - Sales Summary <br> 9 - Trailer| Update the forward-receipts with appropriate rebates Prepayments and Adjustments. <br> It should not be used for reconciliation.|
|**10 Detailed Prepayment Alelo**|Prepayment operation of the day before the file is sent out, with the respective summary and details.|0 - Header <br> 5 - Prepayment Operation <br> 6 - Sales Summary <br>2 - Prepayment Detailed Sales<br>7 - Withheld prepayment by debits - Sales Summary <br> 2 - Detailed Sales and Debits <br> 9 - Trailer <br> Note: Record type 5 will be displayed for each merchant bank account.|Prepare cash flow, considering the prepayment amounts received.|

## Layout For The Types Of Records

## Record 0 - Header

It identifies the header of each file, by chain of electronic statement*.

|Start|End|Size|Type|Description|Data Editing|
|---|---|---|---|---|---|
|001|001|1|Num.|Record type|Constant 0 : it identifies record type header (beginning of the file)|
|002|011|10|Num.|Merchant's head chain| Number of the Cielo merchant registered in the VAN to receive the file.|
|012|019|8|Num.|Processing date |YYYYMMDD date on which the file was generated.|
|020|027|8|Num.|Initial period |YYYYMMDD initial period.|
|028|035|8|Num.|End period |YYYYMMDD end period.|
|036|042|7|Num.|Sequence |Sequential file number. In case of recovery, this data will be sent as 9999999.|
|043|047|5|Alpha.|Acquirer| Constant Cielo.|
|048|049|2|Num.|Statement option |Table I (attachment)|
|050|050|1|Alpha.|Transmission |Cielo.|
|051|070|20|Alphanum.|Inbox |Inbox.|
|071|073|3|Num.|Layout version |Constant 013.|
|074|250|177|Alphanum.|Cielo use Unwritten. |Reserved for Cielo|

* **(*)** register that allows the inclusion of all establishments controlled by the customer, regardless of the type of payment (centralized, decentralized, individual). All establishment numbers must be reported in the registration form.

### Record 1 - Sales Summary

Group of sales, adjustments, or service charges. It enables the identification of the origin of the entries and the possible maintenance actions.

|Start|End|Size|Type|Description|Data Editing|
|---|---|---|---|---|---|
|001|001|1|Num.|Record type |Constant 1 - It identifies the type of sales summary record.|
|002|011|10|Num.| Submitting merchant |Number of the merchant or branch where the sale was made.|
|012|018|7|Num.| Sales summary number |Number of the sales summary. It contains information that refers to a group of sales on a given date.|
|019|020|2|Num.|Installment| For installment transactions, it will be formatted with the number of the installment being cleared on the date the file is sent out. For a non installment transaction, it will be left blank.|
|021|021|1|Alpha|Filler|`"/"` - for installment transactions.  <br> `"a"` - acceleration of installments. <br> `" "` - all other cases.|
|022|023|2|Alphanum.|Plan|For installment transactions, it will be formatted with the largest number of installments found for that group of sales. If the sales summary contains sales in 3, 4, or 6 installments, it will contain 6. In the case of acceleration of installments, it will be formatted with the largest accelerated installment. Example: (positions 019 to 023) <br> **02A02** it shows acceleration from installment 02 to 02; that is, only one installment. <br> **03A08** it shows acceleration from installment 03 to 08 in the sales plan; that is, 6 installments were accelerated. <br> For a non installment transaction, it will be left blank.|
|024|025|2|Num.|Transaction type | This code identifies the transaction - see Table II.|
|026|031|6|Num.|Date of submission |YYMMDD Date on which the Sale was transmitted to Cielo|
|032|037|6|Num.| Scheduled payment date|YYMMDD Scheduled payment date. During recovery, it can be updated after the transaction or adjustment is processed.|
|038|043|6|Num.|Date on which it is sent out to the merchant bank account.|YYMMDD Date on which the payment file was sent out to the bank. During recovery, it can be updated after the transaction or adjustment is processed.|
|044|044|1|Alpha| Sign for the gross amount.|`+` - identifies a credit amount. <br> `-` - identifies a debit amount.|
|045|057|13|Num.|Gross amount `(*)`| Summation of the sales amounts for Merchant/Sales Summary.|
|058|058|1|Alpha| Sign of the administrative fee|`+` - identifies a credit amount. <br> `-` - identifies a debit amount.|
|059|071|13|Num.| Amount of the administrative fee `(*)`|Amount of the administrative fee deducted on sales.|
|072|072|1|Alpha| Sign for the amount declined| `+` identifies a credit amount.<br> `-` - identifies a debit amount.|
|073|085|13|Num.|Amount declined `(*)`|In the case of declines, it will contain the summation of the transactions declined.|
|086|086|1|Alpha|Sign for the net amount| `+` identifies a credit amount. <br> `-` - identifies a debit amount.|
|087|099|13|Num.|Net amount`(*)`|  Amount of sales, less the amount for administration fee.|
|100|103|4|Alphanum.|Bank | Code of the bank of the merchant bank account.|
|104|108|5|Alphanum.|Agency | Code of the agency of the merchant bank account.|
|109|122|14|Alphanum.| Merchant bank account |Code of the account of the merchant bank account.|

(*) Only 2 decimal places should be considered, with no commas, periods, or any other characters.

### Record 2 - Detailed Sales
